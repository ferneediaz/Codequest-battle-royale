var RP=Object.defineProperty;var AP=(t,e,r)=>e in t?RP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var no=(t,e,r)=>AP(t,typeof e!="symbol"?e+"":e,r);function jP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var vS={exports:{}},wu={},SS={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),NP=Symbol.for("react.portal"),IP=Symbol.for("react.fragment"),LP=Symbol.for("react.strict_mode"),MP=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),UP=Symbol.for("react.context"),qP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),XP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),sm=Symbol.iterator;function BP(t){return t===null||typeof t!="object"?null:(t=sm&&t[sm]||t["@@iterator"],typeof t=="function"?t:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,bS={};function zs(t,e,r){this.props=t,this.context=e,this.refs=bS,this.updater=r||xS}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kS(){}kS.prototype=zs.prototype;function Fp(t,e,r){this.props=t,this.context=e,this.refs=bS,this.updater=r||xS}var Yp=Fp.prototype=new kS;Yp.constructor=Fp;wS(Yp,zs.prototype);Yp.isPureReactComponent=!0;var om=Array.isArray,QS=Object.prototype.hasOwnProperty,Hp={current:null},PS={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QS.call(e,n)&&!PS.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function VP(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function GP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lm=/\/+/g;function Oh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GP(""+t.key):e.toString(36)}function Ja(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case NP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Oh(o,0):n,om(i)?(r="",t!=null&&(r=t.replace(lm,"$&/")+"/"),Ja(i,e,r,"",function(c){return c})):i!=null&&(Jp(i)&&(i=VP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",om(t))for(var l=0;l<t.length;l++){s=t[l];var a=n+Oh(s,l);o+=Ja(s,e,r,a,i)}else if(a=BP(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=n+Oh(s,l++),o+=Ja(s,e,r,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oa(t,e,r){if(t==null)return t;var n=[],i=0;return Ja(t,n,"","",function(s){return e.call(r,s,i++)}),n}function FP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},Ka={transition:null},YP={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:Hp};function $S(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:oa,forEach:function(t,e,r){oa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oa(t,function(){e++}),e},toArray:function(t){return oa(t,function(e){return e})||[]},only:function(t){if(!Jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=zs;ie.Fragment=IP;ie.Profiler=MP;ie.PureComponent=Fp;ie.StrictMode=LP;ie.Suspense=zP;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;ie.act=$S;ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)QS.call(e,a)&&!PS.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:n,_owner:o}};ie.createContext=function(t){return t={$$typeof:UP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZP,_context:t},t.Consumer=t};ie.createElement=TS;ie.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:qP,render:t}};ie.isValidElement=Jp;ie.lazy=function(t){return{$$typeof:WP,_payload:{_status:-1,_result:t},_init:FP}};ie.memo=function(t,e){return{$$typeof:XP,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ka.transition;Ka.transition={};try{t()}finally{Ka.transition=e}};ie.unstable_act=$S;ie.useCallback=function(t,e){return yt.current.useCallback(t,e)};ie.useContext=function(t){return yt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return yt.current.useEffect(t,e)};ie.useId=function(){return yt.current.useId()};ie.useImperativeHandle=function(t,e,r){return yt.current.useImperativeHandle(t,e,r)};ie.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return yt.current.useMemo(t,e)};ie.useReducer=function(t,e,r){return yt.current.useReducer(t,e,r)};ie.useRef=function(t){return yt.current.useRef(t)};ie.useState=function(t){return yt.current.useState(t)};ie.useSyncExternalStore=function(t,e,r){return yt.current.useSyncExternalStore(t,e,r)};ie.useTransition=function(){return yt.current.useTransition()};ie.version="18.3.1";SS.exports=ie;var k=SS.exports;const bu=yS(k),HP=jP({__proto__:null,default:bu},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=k,KP=Symbol.for("react.element"),eT=Symbol.for("react.fragment"),tT=Object.prototype.hasOwnProperty,rT=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nT={key:!0,ref:!0,__self:!0,__source:!0};function _S(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)tT.call(e,n)&&!nT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:KP,type:t,key:s,ref:o,props:i,_owner:rT.current}}wu.Fragment=eT;wu.jsx=_S;wu.jsxs=_S;vS.exports=wu;var v=vS.exports,Id={},CS={exports:{}},Xt={},ES={exports:{}},RS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,A){var U=E.length;E.push(A);e:for(;0<U;){var G=U-1>>>1,F=E[G];if(0<i(F,A))E[G]=A,E[U]=F,U=G;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var A=E[0],U=E.pop();if(U!==A){E[0]=U;e:for(var G=0,F=E.length,Ae=F>>>1;G<Ae;){var Xe=2*(G+1)-1,ht=E[Xe],dt=Xe+1,lr=E[dt];if(0>i(ht,U))dt<F&&0>i(lr,ht)?(E[G]=lr,E[dt]=U,G=dt):(E[G]=ht,E[Xe]=U,G=Xe);else if(dt<F&&0>i(lr,U))E[G]=lr,E[dt]=U,G=dt;else break e}}return A}function i(E,A){var U=E.sortIndex-A.sortIndex;return U!==0?U:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,p=!1,O=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(E){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=E)n(c),A.sortIndex=A.expirationTime,e(a,A);else break;A=r(c)}}function b(E){if(O=!1,S(E),!p)if(r(a)!==null)p=!0,B(x);else{var A=r(c);A!==null&&V(b,A.startTime-E)}}function x(E,A){p=!1,O&&(O=!1,g(T),T=-1),f=!0;var U=d;try{for(S(A),h=r(a);h!==null&&(!(h.expirationTime>A)||E&&!D());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var F=G(h.expirationTime<=A);A=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(a)&&n(a),S(A)}else n(a);h=r(a)}if(h!==null)var Ae=!0;else{var Xe=r(c);Xe!==null&&V(b,Xe.startTime-A),Ae=!1}return Ae}finally{h=null,d=U,f=!1}}var Q=!1,P=null,T=-1,_=5,C=-1;function D(){return!(t.unstable_now()-C<_)}function R(){if(P!==null){var E=t.unstable_now();C=E;var A=!0;try{A=P(!0,E)}finally{A?X():(Q=!1,P=null)}}else Q=!1}var X;if(typeof m=="function")X=function(){m(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,M=N.port2;N.port1.onmessage=R,X=function(){M.postMessage(null)}}else X=function(){y(R,0)};function B(E){P=E,Q||(Q=!0,X())}function V(E,A){T=y(function(){E(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(x))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(E){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var U=d;d=A;try{return E()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=d;d=E;try{return A()}finally{d=U}},t.unstable_scheduleCallback=function(E,A,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,E){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=U+F,E={id:u++,callback:A,priorityLevel:E,startTime:U,expirationTime:F,sortIndex:-1},U>G?(E.sortIndex=U,e(c,E),r(a)===null&&E===r(c)&&(O?(g(T),T=-1):O=!0,V(b,U-G))):(E.sortIndex=F,e(a,E),p||f||(p=!0,B(x))),E},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(E){var A=d;return function(){var U=d;d=A;try{return E.apply(this,arguments)}finally{d=U}}}})(RS);ES.exports=RS;var iT=ES.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=k,zt=iT;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,tl={};function ji(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(tl[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ld=Object.prototype.hasOwnProperty,oT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,am={},cm={};function lT(t){return Ld.call(cm,t)?!0:Ld.call(am,t)?!1:oT.test(t)?cm[t]=!0:(am[t]=!0,!1)}function aT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cT(t,e,r,n){if(e===null||typeof e>"u"||aT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kp=/[\-:]([a-z])/g;function eg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kp,eg);nt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kp,eg);nt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kp,eg);nt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tg(t,e,r,n){var i=nt.hasOwnProperty(e)?nt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cT(e,r,i,n)&&(r=null),n||i===null?lT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var dn=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,la=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),Md=Symbol.for("react.profiler"),jS=Symbol.for("react.provider"),DS=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),NS=Symbol.for("react.offscreen"),um=Symbol.iterator;function io(t){return t===null||typeof t!="object"?null:(t=um&&t[um]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,mh;function bo(t){if(mh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var yh=!1;function vh(t,e){if(!t||yh)return"";yh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{yh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bo(t):""}function uT(t){switch(t.tag){case 5:return bo(t.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return t=vh(t.type,!1),t;case 11:return t=vh(t.type.render,!1),t;case 1:return t=vh(t.type,!0),t;default:return""}}function qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ji:return"Fragment";case Hi:return"Portal";case Md:return"Profiler";case rg:return"StrictMode";case Zd:return"Suspense";case Ud:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DS:return(t.displayName||"Context")+".Consumer";case jS:return(t._context.displayName||"Context")+".Provider";case ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:qd(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return qd(t(e))}catch{}}return null}function hT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qd(e);case 8:return e===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dT(t){var e=IS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function aa(t){t._valueTracker||(t._valueTracker=dT(t))}function LS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=IS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zd(t,e){var r=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MS(t,e){e=e.checked,e!=null&&tg(t,"checked",e,!1)}function Xd(t,e){MS(t,e);var r=zn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wd(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wd(t,e.type,zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wd(t,e,r){(e!=="number"||Pc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ko=Array.isArray;function ds(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(ko(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zn(r)}}function ZS(t,e){var r=zn(e.value),n=zn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function US(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?US(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ca,qS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ca.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fT=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){fT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function zS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function XS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=zS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var pT=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(t,e){if(e){if(pT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=null;function sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hd=null,fs=null,ps=null;function gm(t){if(t=Xl(t)){if(typeof Hd!="function")throw Error(j(280));var e=t.stateNode;e&&(e=$u(e),Hd(t.stateNode,t.type,e))}}function WS(t){fs?ps?ps.push(t):ps=[t]:fs=t}function BS(){if(fs){var t=fs,e=ps;if(ps=fs=null,gm(t),e)for(t=0;t<e.length;t++)gm(e[t])}}function VS(t,e){return t(e)}function GS(){}var Sh=!1;function FS(t,e,r){if(Sh)return t(e,r);Sh=!0;try{return VS(t,e,r)}finally{Sh=!1,(fs!==null||ps!==null)&&(GS(),BS())}}function nl(t,e){var r=t.stateNode;if(r===null)return null;var n=$u(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var Jd=!1;if(sn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Jd=!1}function gT(t,e,r,n,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Do=!1,Tc=null,$c=!1,Kd=null,OT={onError:function(t){Do=!0,Tc=t}};function mT(t,e,r,n,i,s,o,l,a){Do=!1,Tc=null,gT.apply(OT,arguments)}function yT(t,e,r,n,i,s,o,l,a){if(mT.apply(this,arguments),Do){if(Do){var c=Tc;Do=!1,Tc=null}else throw Error(j(198));$c||($c=!0,Kd=c)}}function Di(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Om(t){if(Di(t)!==t)throw Error(j(188))}function vT(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Om(i),t;if(s===n)return Om(i),e;s=s.sibling}throw Error(j(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function HS(t){return t=vT(t),t!==null?JS(t):null}function JS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JS(t);if(e!==null)return e;t=t.sibling}return null}var KS=zt.unstable_scheduleCallback,mm=zt.unstable_cancelCallback,ST=zt.unstable_shouldYield,xT=zt.unstable_requestPaint,Ee=zt.unstable_now,wT=zt.unstable_getCurrentPriorityLevel,og=zt.unstable_ImmediatePriority,ex=zt.unstable_UserBlockingPriority,_c=zt.unstable_NormalPriority,bT=zt.unstable_LowPriority,tx=zt.unstable_IdlePriority,ku=null,Nr=null;function kT(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:TT,QT=Math.log,PT=Math.LN2;function TT(t){return t>>>=0,t===0?32:31-(QT(t)/PT|0)|0}var ua=64,ha=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Qo(l):(s&=o,s!==0&&(n=Qo(s)))}else o=r&~i,o!==0?n=Qo(o):s!==0&&(n=Qo(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gr(e),i=1<<r,n|=t[r],e&=~i;return n}function $T(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _T(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gr(s),l=1<<o,a=i[o];a===-1?(!(l&r)||l&n)&&(i[o]=$T(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rx(){var t=ua;return ua<<=1,!(ua&4194240)&&(ua=64),t}function xh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ql(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=r}function CT(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function lg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var he=0;function nx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ix,ag,sx,ox,lx,tf=!1,da=[],jn=null,Dn=null,Nn=null,il=new Map,sl=new Map,kn=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function oo(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&ag(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RT(t,e,r,n,i){switch(e){case"focusin":return jn=oo(jn,t,e,r,n,i),!0;case"dragenter":return Dn=oo(Dn,t,e,r,n,i),!0;case"mouseover":return Nn=oo(Nn,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return il.set(s,oo(il.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,sl.set(s,oo(sl.get(s)||null,t,e,r,n,i)),!0}return!1}function ax(t){var e=hi(t.target);if(e!==null){var r=Di(e);if(r!==null){if(e=r.tag,e===13){if(e=YS(r),e!==null){t.blockedOn=e,lx(t.priority,function(){sx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yd=n,r.target.dispatchEvent(n),Yd=null}else return e=Xl(r),e!==null&&ag(e),t.blockedOn=r,!1;e.shift()}return!0}function vm(t,e,r){ec(t)&&r.delete(e)}function AT(){tf=!1,jn!==null&&ec(jn)&&(jn=null),Dn!==null&&ec(Dn)&&(Dn=null),Nn!==null&&ec(Nn)&&(Nn=null),il.forEach(vm),sl.forEach(vm)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,tf||(tf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,AT)))}function ol(t){function e(i){return lo(i,t)}if(0<da.length){lo(da[0],t);for(var r=1;r<da.length;r++){var n=da[r];n.blockedOn===t&&(n.blockedOn=null)}}for(jn!==null&&lo(jn,t),Dn!==null&&lo(Dn,t),Nn!==null&&lo(Nn,t),il.forEach(e),sl.forEach(e),r=0;r<kn.length;r++)n=kn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<kn.length&&(r=kn[0],r.blockedOn===null);)ax(r),r.blockedOn===null&&kn.shift()}var gs=dn.ReactCurrentBatchConfig,Ec=!0;function jT(t,e,r,n){var i=he,s=gs.transition;gs.transition=null;try{he=1,cg(t,e,r,n)}finally{he=i,gs.transition=s}}function DT(t,e,r,n){var i=he,s=gs.transition;gs.transition=null;try{he=4,cg(t,e,r,n)}finally{he=i,gs.transition=s}}function cg(t,e,r,n){if(Ec){var i=rf(t,e,r,n);if(i===null)Eh(t,e,n,Rc,r),ym(t,n);else if(RT(i,t,e,r,n))n.stopPropagation();else if(ym(t,n),e&4&&-1<ET.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&ix(s),s=rf(t,e,r,n),s===null&&Eh(t,e,n,Rc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Eh(t,e,n,null,r)}}var Rc=null;function rf(t,e,r,n){if(Rc=null,t=sg(n),t=hi(t),t!==null)if(e=Di(t),e===null)t=null;else if(r=e.tag,r===13){if(t=YS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rc=t,null}function cx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wT()){case og:return 1;case ex:return 4;case _c:case bT:return 16;case tx:return 536870912;default:return 16}default:return 16}}var $n=null,ug=null,tc=null;function ux(){if(tc)return tc;var t,e=ug,r=e.length,n,i="value"in $n?$n.value:$n.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return tc=i.slice(t,1<n?1-n:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fa(){return!0}function Sm(){return!1}function Wt(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fa:Sm,this.isPropagationStopped=Sm,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=Wt(Xs),zl=$e({},Xs,{view:0,detail:0}),NT=Wt(zl),wh,bh,ao,Qu=$e({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(wh=t.screenX-ao.screenX,bh=t.screenY-ao.screenY):bh=wh=0,ao=t),wh)},movementY:function(t){return"movementY"in t?t.movementY:bh}}),xm=Wt(Qu),IT=$e({},Qu,{dataTransfer:0}),LT=Wt(IT),MT=$e({},zl,{relatedTarget:0}),kh=Wt(MT),ZT=$e({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),UT=Wt(ZT),qT=$e({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zT=Wt(qT),XT=$e({},Xs,{data:0}),wm=Wt(XT),WT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VT[t])?!!e[t]:!1}function dg(){return GT}var FT=$e({},zl,{key:function(t){if(t.key){var e=WT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YT=Wt(FT),HT=$e({},Qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Wt(HT),JT=$e({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),KT=Wt(JT),e$=$e({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),t$=Wt(e$),r$=$e({},Qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n$=Wt(r$),i$=[9,13,27,32],fg=sn&&"CompositionEvent"in window,No=null;sn&&"documentMode"in document&&(No=document.documentMode);var s$=sn&&"TextEvent"in window&&!No,hx=sn&&(!fg||No&&8<No&&11>=No),km=" ",Qm=!1;function dx(t,e){switch(t){case"keyup":return i$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function o$(t,e){switch(t){case"compositionend":return fx(e);case"keypress":return e.which!==32?null:(Qm=!0,km);case"textInput":return t=e.data,t===km&&Qm?null:t;default:return null}}function l$(t,e){if(Ki)return t==="compositionend"||!fg&&dx(t,e)?(t=ux(),tc=ug=$n=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hx&&e.locale!=="ko"?null:e.data;default:return null}}var a$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a$[t.type]:e==="textarea"}function px(t,e,r,n){WS(n),e=Ac(e,"onChange"),0<e.length&&(r=new hg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Io=null,ll=null;function c$(t){Qx(t,0)}function Pu(t){var e=rs(t);if(LS(e))return t}function u$(t,e){if(t==="change")return e}var gx=!1;if(sn){var Qh;if(sn){var Ph="oninput"in document;if(!Ph){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Ph=typeof Tm.oninput=="function"}Qh=Ph}else Qh=!1;gx=Qh&&(!document.documentMode||9<document.documentMode)}function $m(){Io&&(Io.detachEvent("onpropertychange",Ox),ll=Io=null)}function Ox(t){if(t.propertyName==="value"&&Pu(ll)){var e=[];px(e,ll,t,sg(t)),FS(c$,e)}}function h$(t,e,r){t==="focusin"?($m(),Io=e,ll=r,Io.attachEvent("onpropertychange",Ox)):t==="focusout"&&$m()}function d$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ll)}function f$(t,e){if(t==="click")return Pu(e)}function p$(t,e){if(t==="input"||t==="change")return Pu(e)}function g$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:g$;function al(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ld.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function _m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cm(t,e){var r=_m(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_m(r)}}function mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yx(){for(var t=window,e=Pc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Pc(t.document)}return e}function pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O$(t){var e=yx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mx(r.ownerDocument.documentElement,r)){if(n!==null&&pg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Cm(r,s);var o=Cm(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m$=sn&&"documentMode"in document&&11>=document.documentMode,es=null,nf=null,Lo=null,sf=!1;function Em(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sf||es==null||es!==Pc(n)||(n=es,"selectionStart"in n&&pg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&al(Lo,n)||(Lo=n,n=Ac(nf,"onSelect"),0<n.length&&(e=new hg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=es)))}function pa(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ts={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Th={},vx={};sn&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Tu(t){if(Th[t])return Th[t];if(!ts[t])return t;var e=ts[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in vx)return Th[t]=e[r];return t}var Sx=Tu("animationend"),xx=Tu("animationiteration"),wx=Tu("animationstart"),bx=Tu("transitionend"),kx=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(t,e){kx.set(t,e),ji(e,[t])}for(var $h=0;$h<Rm.length;$h++){var _h=Rm[$h],y$=_h.toLowerCase(),v$=_h[0].toUpperCase()+_h.slice(1);Yn(y$,"on"+v$)}Yn(Sx,"onAnimationEnd");Yn(xx,"onAnimationIteration");Yn(wx,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(bx,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Am(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yT(n,e,void 0,t),t.currentTarget=null}function Qx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Am(i,l,c),s=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Am(i,l,c),s=a}}}if($c)throw t=Kd,$c=!1,Kd=null,t}function ve(t,e){var r=e[uf];r===void 0&&(r=e[uf]=new Set);var n=t+"__bubble";r.has(n)||(Px(e,t,2,!1),r.add(n))}function Ch(t,e,r){var n=0;e&&(n|=4),Px(r,t,n,e)}var ga="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[ga]){t[ga]=!0,AS.forEach(function(r){r!=="selectionchange"&&(S$.has(r)||Ch(r,!1,t),Ch(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ga]||(e[ga]=!0,Ch("selectionchange",!1,e))}}function Px(t,e,r,n){switch(cx(e)){case 1:var i=jT;break;case 4:i=DT;break;default:i=cg}r=i.bind(null,e,r,t),i=void 0,!Jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Eh(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hi(l),o===null)return;if(a=o.tag,a===5||a===6){n=s=o;continue e}l=l.parentNode}}n=n.return}FS(function(){var c=s,u=sg(r),h=[];e:{var d=kx.get(t);if(d!==void 0){var f=hg,p=t;switch(t){case"keypress":if(rc(r)===0)break e;case"keydown":case"keyup":f=YT;break;case"focusin":p="focus",f=kh;break;case"focusout":p="blur",f=kh;break;case"beforeblur":case"afterblur":f=kh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=LT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=KT;break;case Sx:case xx:case wx:f=UT;break;case bx:f=t$;break;case"scroll":f=NT;break;case"wheel":f=n$;break;case"copy":case"cut":case"paste":f=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bm}var O=(e&4)!==0,y=!O&&t==="scroll",g=O?d!==null?d+"Capture":null:d;O=[];for(var m=c,S;m!==null;){S=m;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,g!==null&&(b=nl(m,g),b!=null&&O.push(ul(m,b,S)))),y)break;m=m.return}0<O.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:O}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==Yd&&(p=r.relatedTarget||r.fromElement)&&(hi(p)||p[on]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?hi(p):null,p!==null&&(y=Di(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(O=xm,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(O=bm,b="onPointerLeave",g="onPointerEnter",m="pointer"),y=f==null?d:rs(f),S=p==null?d:rs(p),d=new O(b,m+"leave",f,r,u),d.target=y,d.relatedTarget=S,b=null,hi(u)===c&&(O=new O(g,m+"enter",p,r,u),O.target=S,O.relatedTarget=y,b=O),y=b,f&&p)t:{for(O=f,g=p,m=0,S=O;S;S=Zi(S))m++;for(S=0,b=g;b;b=Zi(b))S++;for(;0<m-S;)O=Zi(O),m--;for(;0<S-m;)g=Zi(g),S--;for(;m--;){if(O===g||g!==null&&O===g.alternate)break t;O=Zi(O),g=Zi(g)}O=null}else O=null;f!==null&&jm(h,d,f,O,!1),p!==null&&y!==null&&jm(h,y,p,O,!0)}}e:{if(d=c?rs(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var x=u$;else if(Pm(d))if(gx)x=p$;else{x=d$;var Q=h$}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=f$);if(x&&(x=x(t,c))){px(h,x,r,u);break e}Q&&Q(t,d,c),t==="focusout"&&(Q=d._wrapperState)&&Q.controlled&&d.type==="number"&&Wd(d,"number",d.value)}switch(Q=c?rs(c):window,t){case"focusin":(Pm(Q)||Q.contentEditable==="true")&&(es=Q,nf=c,Lo=null);break;case"focusout":Lo=nf=es=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Em(h,r,u);break;case"selectionchange":if(m$)break;case"keydown":case"keyup":Em(h,r,u)}var P;if(fg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ki?dx(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(hx&&r.locale!=="ko"&&(Ki||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ki&&(P=ux()):($n=u,ug="value"in $n?$n.value:$n.textContent,Ki=!0)),Q=Ac(c,T),0<Q.length&&(T=new wm(T,t,null,r,u),h.push({event:T,listeners:Q}),P?T.data=P:(P=fx(r),P!==null&&(T.data=P)))),(P=s$?o$(t,r):l$(t,r))&&(c=Ac(c,"onBeforeInput"),0<c.length&&(u=new wm("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=P))}Qx(h,e)})}function ul(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ac(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nl(t,r),s!=null&&n.unshift(ul(t,s,i)),s=nl(t,e),s!=null&&n.push(ul(t,s,i))),t=t.return}return n}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jm(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,c=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&c!==null&&(l=c,i?(a=nl(r,s),a!=null&&o.unshift(ul(r,a,l))):i||(a=nl(r,s),a!=null&&o.push(ul(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var x$=/\r\n?/g,w$=/\u0000|\uFFFD/g;function Dm(t){return(typeof t=="string"?t:""+t).replace(x$,`
`).replace(w$,"")}function Oa(t,e,r){if(e=Dm(e),Dm(t)!==e&&r)throw Error(j(425))}function jc(){}var of=null,lf=null;function af(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,b$=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,k$=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(t){return Nm.resolve(null).then(t).catch(Q$)}:cf;function Q$(t){setTimeout(function(){throw t})}function Rh(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ol(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ol(e)}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Im(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ws,hl="__reactProps$"+Ws,on="__reactContainer$"+Ws,uf="__reactEvents$"+Ws,P$="__reactListeners$"+Ws,T$="__reactHandles$"+Ws;function hi(t){var e=t[_r];if(e)return e;for(var r=t.parentNode;r;){if(e=r[on]||r[_r]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Im(t);t!==null;){if(r=t[_r])return r;t=Im(t)}return e}t=r,r=t.parentNode}return null}function Xl(t){return t=t[_r]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function $u(t){return t[hl]||null}var hf=[],ns=-1;function Hn(t){return{current:t}}function xe(t){0>ns||(t.current=hf[ns],hf[ns]=null,ns--)}function Oe(t,e){ns++,hf[ns]=t.current,t.current=e}var Xn={},ct=Hn(Xn),_t=Hn(!1),wi=Xn;function Ts(t,e){var r=t.type.contextTypes;if(!r)return Xn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Dc(){xe(_t),xe(ct)}function Lm(t,e,r){if(ct.current!==Xn)throw Error(j(168));Oe(ct,e),Oe(_t,r)}function Tx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(j(108,hT(t)||"Unknown",i));return $e({},r,n)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xn,wi=ct.current,Oe(ct,t),Oe(_t,_t.current),!0}function Mm(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=Tx(t,e,wi),n.__reactInternalMemoizedMergedChildContext=t,xe(_t),xe(ct),Oe(ct,t)):xe(_t),Oe(_t,r)}var Hr=null,_u=!1,Ah=!1;function $x(t){Hr===null?Hr=[t]:Hr.push(t)}function $$(t){_u=!0,$x(t)}function Jn(){if(!Ah&&Hr!==null){Ah=!0;var t=0,e=he;try{var r=Hr;for(he=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hr=null,_u=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),KS(og,Jn),i}finally{he=e,Ah=!1}}return null}var is=[],ss=0,Ic=null,Lc=0,Vt=[],Gt=0,bi=null,en=1,tn="";function si(t,e){is[ss++]=Lc,is[ss++]=Ic,Ic=t,Lc=e}function _x(t,e,r){Vt[Gt++]=en,Vt[Gt++]=tn,Vt[Gt++]=bi,bi=t;var n=en;t=tn;var i=32-gr(n)-1;n&=~(1<<i),r+=1;var s=32-gr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,en=1<<32-gr(e)+i|r<<i|n,tn=s+t}else en=1<<s|r<<i|n,tn=t}function gg(t){t.return!==null&&(si(t,1),_x(t,1,0))}function Og(t){for(;t===Ic;)Ic=is[--ss],is[ss]=null,Lc=is[--ss],is[ss]=null;for(;t===bi;)bi=Vt[--Gt],Vt[Gt]=null,tn=Vt[--Gt],Vt[Gt]=null,en=Vt[--Gt],Vt[Gt]=null}var qt=null,Zt=null,be=!1,fr=null;function Cx(t,e){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Zm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Zt=In(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=bi!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qt=t,Zt=null,!0):!1;default:return!1}}function df(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ff(t){if(be){var e=Zt;if(e){var r=e;if(!Zm(t,e)){if(df(t))throw Error(j(418));e=In(r.nextSibling);var n=qt;e&&Zm(t,e)?Cx(n,r):(t.flags=t.flags&-4097|2,be=!1,qt=t)}}else{if(df(t))throw Error(j(418));t.flags=t.flags&-4097|2,be=!1,qt=t}}}function Um(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function ma(t){if(t!==qt)return!1;if(!be)return Um(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!af(t.type,t.memoizedProps)),e&&(e=Zt)){if(df(t))throw Ex(),Error(j(418));for(;e;)Cx(t,e),e=In(e.nextSibling)}if(Um(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zt=In(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=qt?In(t.stateNode.nextSibling):null;return!0}function Ex(){for(var t=Zt;t;)t=In(t.nextSibling)}function $s(){Zt=qt=null,be=!1}function mg(t){fr===null?fr=[t]:fr.push(t)}var _$=dn.ReactCurrentBatchConfig;function co(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function ya(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qm(t){var e=t._init;return e(t._payload)}function Rx(t){function e(g,m){if(t){var S=g.deletions;S===null?(g.deletions=[m],g.flags|=16):S.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Un(g,m),g.index=0,g.sibling=null,g}function s(g,m,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<m?(g.flags|=2,m):S):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,S,b){return m===null||m.tag!==6?(m=Zh(S,g.mode,b),m.return=g,m):(m=i(m,S),m.return=g,m)}function a(g,m,S,b){var x=S.type;return x===Ji?u(g,m,S.props.children,b,S.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===vn&&qm(x)===m.type)?(b=i(m,S.props),b.ref=co(g,m,S),b.return=g,b):(b=cc(S.type,S.key,S.props,null,g.mode,b),b.ref=co(g,m,S),b.return=g,b)}function c(g,m,S,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==S.containerInfo||m.stateNode.implementation!==S.implementation?(m=Uh(S,g.mode,b),m.return=g,m):(m=i(m,S.children||[]),m.return=g,m)}function u(g,m,S,b,x){return m===null||m.tag!==7?(m=mi(S,g.mode,b,x),m.return=g,m):(m=i(m,S),m.return=g,m)}function h(g,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zh(""+m,g.mode,S),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case la:return S=cc(m.type,m.key,m.props,null,g.mode,S),S.ref=co(g,null,m),S.return=g,S;case Hi:return m=Uh(m,g.mode,S),m.return=g,m;case vn:var b=m._init;return h(g,b(m._payload),S)}if(ko(m)||io(m))return m=mi(m,g.mode,S,null),m.return=g,m;ya(g,m)}return null}function d(g,m,S,b){var x=m!==null?m.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:l(g,m,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case la:return S.key===x?a(g,m,S,b):null;case Hi:return S.key===x?c(g,m,S,b):null;case vn:return x=S._init,d(g,m,x(S._payload),b)}if(ko(S)||io(S))return x!==null?null:u(g,m,S,b,null);ya(g,S)}return null}function f(g,m,S,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(S)||null,l(m,g,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case la:return g=g.get(b.key===null?S:b.key)||null,a(m,g,b,x);case Hi:return g=g.get(b.key===null?S:b.key)||null,c(m,g,b,x);case vn:var Q=b._init;return f(g,m,S,Q(b._payload),x)}if(ko(b)||io(b))return g=g.get(S)||null,u(m,g,b,x,null);ya(m,b)}return null}function p(g,m,S,b){for(var x=null,Q=null,P=m,T=m=0,_=null;P!==null&&T<S.length;T++){P.index>T?(_=P,P=null):_=P.sibling;var C=d(g,P,S[T],b);if(C===null){P===null&&(P=_);break}t&&P&&C.alternate===null&&e(g,P),m=s(C,m,T),Q===null?x=C:Q.sibling=C,Q=C,P=_}if(T===S.length)return r(g,P),be&&si(g,T),x;if(P===null){for(;T<S.length;T++)P=h(g,S[T],b),P!==null&&(m=s(P,m,T),Q===null?x=P:Q.sibling=P,Q=P);return be&&si(g,T),x}for(P=n(g,P);T<S.length;T++)_=f(P,g,T,S[T],b),_!==null&&(t&&_.alternate!==null&&P.delete(_.key===null?T:_.key),m=s(_,m,T),Q===null?x=_:Q.sibling=_,Q=_);return t&&P.forEach(function(D){return e(g,D)}),be&&si(g,T),x}function O(g,m,S,b){var x=io(S);if(typeof x!="function")throw Error(j(150));if(S=x.call(S),S==null)throw Error(j(151));for(var Q=x=null,P=m,T=m=0,_=null,C=S.next();P!==null&&!C.done;T++,C=S.next()){P.index>T?(_=P,P=null):_=P.sibling;var D=d(g,P,C.value,b);if(D===null){P===null&&(P=_);break}t&&P&&D.alternate===null&&e(g,P),m=s(D,m,T),Q===null?x=D:Q.sibling=D,Q=D,P=_}if(C.done)return r(g,P),be&&si(g,T),x;if(P===null){for(;!C.done;T++,C=S.next())C=h(g,C.value,b),C!==null&&(m=s(C,m,T),Q===null?x=C:Q.sibling=C,Q=C);return be&&si(g,T),x}for(P=n(g,P);!C.done;T++,C=S.next())C=f(P,g,T,C.value,b),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?T:C.key),m=s(C,m,T),Q===null?x=C:Q.sibling=C,Q=C);return t&&P.forEach(function(R){return e(g,R)}),be&&si(g,T),x}function y(g,m,S,b){if(typeof S=="object"&&S!==null&&S.type===Ji&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case la:e:{for(var x=S.key,Q=m;Q!==null;){if(Q.key===x){if(x=S.type,x===Ji){if(Q.tag===7){r(g,Q.sibling),m=i(Q,S.props.children),m.return=g,g=m;break e}}else if(Q.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===vn&&qm(x)===Q.type){r(g,Q.sibling),m=i(Q,S.props),m.ref=co(g,Q,S),m.return=g,g=m;break e}r(g,Q);break}else e(g,Q);Q=Q.sibling}S.type===Ji?(m=mi(S.props.children,g.mode,b,S.key),m.return=g,g=m):(b=cc(S.type,S.key,S.props,null,g.mode,b),b.ref=co(g,m,S),b.return=g,g=b)}return o(g);case Hi:e:{for(Q=S.key;m!==null;){if(m.key===Q)if(m.tag===4&&m.stateNode.containerInfo===S.containerInfo&&m.stateNode.implementation===S.implementation){r(g,m.sibling),m=i(m,S.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=Uh(S,g.mode,b),m.return=g,g=m}return o(g);case vn:return Q=S._init,y(g,m,Q(S._payload),b)}if(ko(S))return p(g,m,S,b);if(io(S))return O(g,m,S,b);ya(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,S),m.return=g,g=m):(r(g,m),m=Zh(S,g.mode,b),m.return=g,g=m),o(g)):r(g,m)}return y}var _s=Rx(!0),Ax=Rx(!1),Mc=Hn(null),Zc=null,os=null,yg=null;function vg(){yg=os=Zc=null}function Sg(t){var e=Mc.current;xe(Mc),t._currentValue=e}function pf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Os(t,e){Zc=t,yg=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(yg!==t)if(t={context:t,memoizedValue:e,next:null},os===null){if(Zc===null)throw Error(j(308));os=t,Zc.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return e}var di=null;function xg(t){di===null?di=[t]:di.push(t)}function jx(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,xg(e)):(r.next=i.next,i.next=r),e.interleaved=r,ln(t,n)}function ln(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Sn=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ln(t,r)}return i=n.interleaved,i===null?(e.next=e,xg(n)):(e.next=i.next,i.next=e),n.interleaved=e,ln(t,r)}function nc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,lg(t,r)}}function zm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uc(t,e,r,n){var i=t.updateQueue;Sn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,u=c=a=null,l=s;do{var d=l.lane,f=l.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,O=l;switch(d=e,f=r,O.tag){case 1:if(p=O.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=O.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=$e({},h,d);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(a=h),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=h}}function Xm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(j(191,i));i.call(n)}}}var Wl={},Ir=Hn(Wl),dl=Hn(Wl),fl=Hn(Wl);function fi(t){if(t===Wl)throw Error(j(174));return t}function bg(t,e){switch(Oe(fl,e),Oe(dl,t),Oe(Ir,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vd(e,t)}xe(Ir),Oe(Ir,e)}function Cs(){xe(Ir),xe(dl),xe(fl)}function Nx(t){fi(fl.current);var e=fi(Ir.current),r=Vd(e,t.type);e!==r&&(Oe(dl,t),Oe(Ir,r))}function kg(t){dl.current===t&&(xe(Ir),xe(dl))}var Pe=Hn(0);function qc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jh=[];function Qg(){for(var t=0;t<jh.length;t++)jh[t]._workInProgressVersionPrimary=null;jh.length=0}var ic=dn.ReactCurrentDispatcher,Dh=dn.ReactCurrentBatchConfig,ki=0,Te=null,Ze=null,Be=null,zc=!1,Mo=!1,pl=0,C$=0;function it(){throw Error(j(321))}function Pg(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!mr(t[r],e[r]))return!1;return!0}function Tg(t,e,r,n,i,s){if(ki=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=t===null||t.memoizedState===null?j$:D$,t=r(n,i),Mo){s=0;do{if(Mo=!1,pl=0,25<=s)throw Error(j(301));s+=1,Be=Ze=null,e.updateQueue=null,ic.current=N$,t=r(n,i)}while(Mo)}if(ic.current=Xc,e=Ze!==null&&Ze.next!==null,ki=0,Be=Ze=Te=null,zc=!1,e)throw Error(j(300));return t}function $g(){var t=pl!==0;return pl=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=t:Be=Be.next=t,Be}function ir(){if(Ze===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=Be===null?Te.memoizedState:Be.next;if(e!==null)Be=e,Ze=t;else{if(t===null)throw Error(j(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Be===null?Te.memoizedState=Be=t:Be=Be.next=t}return Be}function gl(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=ir(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=Ze,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,a=null,c=s;do{var u=c.lane;if((ki&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,Te.lanes|=u,Qi|=u}c=c.next}while(c!==null&&c!==s);a===null?o=n:a.next=l,mr(n,e.memoizedState)||(Pt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ih(t){var e=ir(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Ix(){}function Lx(t,e){var r=Te,n=ir(),i=e(),s=!mr(n.memoizedState,i);if(s&&(n.memoizedState=i,Pt=!0),n=n.queue,_g(Ux.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,Ol(9,Zx.bind(null,r,n,i,e),void 0,null),Ge===null)throw Error(j(349));ki&30||Mx(r,e,i)}return i}function Mx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Zx(t,e,r,n){e.value=r,e.getSnapshot=n,qx(e)&&zx(t)}function Ux(t,e,r){return r(function(){qx(e)&&zx(t)})}function qx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!mr(t,r)}catch{return!0}}function zx(t){var e=ln(t,1);e!==null&&Or(e,t,1,-1)}function Wm(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=A$.bind(null,Te,t),[e.memoizedState,t]}function Ol(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Xx(){return ir().memoizedState}function sc(t,e,r,n){var i=Tr();Te.flags|=t,i.memoizedState=Ol(1|e,r,void 0,n===void 0?null:n)}function Cu(t,e,r,n){var i=ir();n=n===void 0?null:n;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,n!==null&&Pg(n,o.deps)){i.memoizedState=Ol(e,r,s,n);return}}Te.flags|=t,i.memoizedState=Ol(1|e,r,s,n)}function Bm(t,e){return sc(8390656,8,t,e)}function _g(t,e){return Cu(2048,8,t,e)}function Wx(t,e){return Cu(4,2,t,e)}function Bx(t,e){return Cu(4,4,t,e)}function Vx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gx(t,e,r){return r=r!=null?r.concat([t]):null,Cu(4,4,Vx.bind(null,e,t),r)}function Cg(){}function Fx(t,e){var r=ir();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pg(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Yx(t,e){var r=ir();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pg(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Hx(t,e,r){return ki&21?(mr(r,e)||(r=rx(),Te.lanes|=r,Qi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=r)}function E$(t,e){var r=he;he=r!==0&&4>r?r:4,t(!0);var n=Dh.transition;Dh.transition={};try{t(!1),e()}finally{he=r,Dh.transition=n}}function Jx(){return ir().memoizedState}function R$(t,e,r){var n=Zn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kx(t))ew(e,r);else if(r=jx(t,e,r,n),r!==null){var i=gt();Or(r,t,n,i),tw(r,e,n)}}function A$(t,e,r){var n=Zn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kx(t))ew(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,mr(l,o)){var a=e.interleaved;a===null?(i.next=i,xg(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}r=jx(t,e,i,n),r!==null&&(i=gt(),Or(r,t,n,i),tw(r,e,n))}}function Kx(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function ew(t,e){Mo=zc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function tw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,lg(t,r)}}var Xc={readContext:nr,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},j$={readContext:nr,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:Bm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sc(4194308,4,Vx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return sc(4,2,t,e)},useMemo:function(t,e){var r=Tr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Tr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=R$.bind(null,Te,t),[n.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:Wm,useDebugValue:Cg,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=Wm(!1),e=t[0];return t=E$.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Te,i=Tr();if(be){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),Ge===null)throw Error(j(349));ki&30||Mx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Bm(Ux.bind(null,n,s,t),[t]),n.flags|=2048,Ol(9,Zx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Tr(),e=Ge.identifierPrefix;if(be){var r=tn,n=en;r=(n&~(1<<32-gr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=C$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D$={readContext:nr,useCallback:Fx,useContext:nr,useEffect:_g,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Bx,useMemo:Yx,useReducer:Nh,useRef:Xx,useState:function(){return Nh(gl)},useDebugValue:Cg,useDeferredValue:function(t){var e=ir();return Hx(e,Ze.memoizedState,t)},useTransition:function(){var t=Nh(gl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Lx,useId:Jx,unstable_isNewReconciler:!1},N$={readContext:nr,useCallback:Fx,useContext:nr,useEffect:_g,useImperativeHandle:Gx,useInsertionEffect:Wx,useLayoutEffect:Bx,useMemo:Yx,useReducer:Ih,useRef:Xx,useState:function(){return Ih(gl)},useDebugValue:Cg,useDeferredValue:function(t){var e=ir();return Ze===null?e.memoizedState=t:Hx(e,Ze.memoizedState,t)},useTransition:function(){var t=Ih(gl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Lx,useId:Jx,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$e({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eu={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gt(),i=Zn(t),s=rn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ln(t,s,i),e!==null&&(Or(e,t,i,n),nc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gt(),i=Zn(t),s=rn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ln(t,s,i),e!==null&&(Or(e,t,i,n),nc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gt(),n=Zn(t),i=rn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ln(t,i,n),e!==null&&(Or(e,t,n,r),nc(e,t,n))}};function Vm(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!al(r,n)||!al(i,s):!0}function rw(t,e,r){var n=!1,i=Xn,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Ct(e)?wi:ct.current,n=e.contextTypes,s=(n=n!=null)?Ts(t,i):Xn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Eu.enqueueReplaceState(e,e.state,null)}function Of(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Ct(e)?wi:ct.current,i.context=Ts(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gf(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eu.enqueueReplaceState(i,i.state,null),Uc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,e){try{var r="",n=e;do r+=uT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lh(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var I$=typeof WeakMap=="function"?WeakMap:Map;function nw(t,e,r){r=rn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bc||(Bc=!0,Tf=n),mf(t,e)},r}function iw(t,e,r){r=rn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mf(t,e),typeof n!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Fm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new I$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=H$.bind(null,t,e,r),e.then(t,t))}function Ym(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rn(-1,1),e.tag=2,Ln(r,e,1))),r.lanes|=1),t)}var L$=dn.ReactCurrentOwner,Pt=!1;function ft(t,e,r,n){e.child=t===null?Ax(e,null,r,n):_s(e,t.child,r,n)}function Jm(t,e,r,n,i){r=r.render;var s=e.ref;return Os(e,i),n=Tg(t,e,r,n,s,i),r=$g(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,an(t,e,i)):(be&&r&&gg(e),e.flags|=1,ft(t,e,n,i),e.child)}function Km(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Lg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,sw(t,e,s,n,i)):(t=cc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:al,r(o,n)&&t.ref===e.ref)return an(t,e,i)}return e.flags|=1,t=Un(s,n),t.ref=e.ref,t.return=e,e.child=t}function sw(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(al(s,n)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,an(t,e,i)}return yf(t,e,r,n,i)}function ow(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(as,Lt),Lt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(as,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Oe(as,Lt),Lt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Oe(as,Lt),Lt|=n;return ft(t,e,i,r),e.child}function lw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yf(t,e,r,n,i){var s=Ct(r)?wi:ct.current;return s=Ts(e,s),Os(e,i),r=Tg(t,e,r,n,s,i),n=$g(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,an(t,e,i)):(be&&n&&gg(e),e.flags|=1,ft(t,e,r,i),e.child)}function e0(t,e,r,n,i){if(Ct(r)){var s=!0;Nc(e)}else s=!1;if(Os(e,i),e.stateNode===null)oc(t,e),rw(e,r,n),Of(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Ct(r)?wi:ct.current,c=Ts(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==c)&&Gm(e,o,n,c),Sn=!1;var d=e.memoizedState;o.state=d,Uc(e,n,o,i),a=e.memoizedState,l!==n||d!==a||_t.current||Sn?(typeof u=="function"&&(gf(e,r,u,n),a=e.memoizedState),(l=Sn||Vm(e,r,l,n,d,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Dx(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ur(e.type,l),o.props=c,h=e.pendingProps,d=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=nr(a):(a=Ct(r)?wi:ct.current,a=Ts(e,a));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Gm(e,o,n,a),Sn=!1,d=e.memoizedState,o.state=d,Uc(e,n,o,i);var p=e.memoizedState;l!==h||d!==p||_t.current||Sn?(typeof f=="function"&&(gf(e,r,f,n),p=e.memoizedState),(c=Sn||Vm(e,r,c,n,d,p,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=a,n=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return vf(t,e,r,n,s,i)}function vf(t,e,r,n,i,s){lw(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Mm(e,r,!1),an(t,e,s);n=e.stateNode,L$.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=_s(e,t.child,null,s),e.child=_s(e,null,l,s)):ft(t,e,l,s),e.memoizedState=n.state,i&&Mm(e,r,!0),e.child}function aw(t){var e=t.stateNode;e.pendingContext?Lm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lm(t,e.context,!1),bg(t,e.containerInfo)}function t0(t,e,r,n,i){return $s(),mg(i),e.flags|=256,ft(t,e,r,n),e.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function cw(t,e,r){var n=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Pe,i&1),t===null)return ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ju(o,n,0,null),t=mi(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xf(r),e.memoizedState=Sf,t):Eg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return M$(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Un(i,a),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Un(l,s):(s=mi(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?xf(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Sf,n}return s=t.child,t=s.sibling,n=Un(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Eg(t,e){return e=ju({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function va(t,e,r,n){return n!==null&&mg(n),_s(e,t.child,null,r),t=Eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M$(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Lh(Error(j(422))),va(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ju({mode:"visible",children:n.children},i,0,null),s=mi(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_s(e,t.child,null,o),e.child.memoizedState=xf(o),e.memoizedState=Sf,s);if(!(e.mode&1))return va(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(j(419)),n=Lh(s,n,void 0),va(t,e,o,n)}if(l=(o&t.childLanes)!==0,Pt||l){if(n=Ge,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ln(t,i),Or(n,t,i,-1))}return Ig(),n=Lh(Error(j(421))),va(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=In(i.nextSibling),qt=e,be=!0,fr=null,t!==null&&(Vt[Gt++]=en,Vt[Gt++]=tn,Vt[Gt++]=bi,en=t.id,tn=t.overflow,bi=e),e=Eg(e,n.children),e.flags|=4096,e)}function r0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),pf(t.return,e,r)}function Mh(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function uw(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(ft(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,r,e);else if(t.tag===19)r0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Oe(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&qc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Mh(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Mh(e,!0,r,null,s);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Un(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Un(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Z$(t,e,r){switch(e.tag){case 3:aw(e),$s();break;case 5:Nx(e);break;case 1:Ct(e.type)&&Nc(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Oe(Mc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?cw(t,e,r):(Oe(Pe,Pe.current&1),t=an(t,e,r),t!==null?t.sibling:null);Oe(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return uw(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,ow(t,e,r)}return an(t,e,r)}var hw,wf,dw,fw;hw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wf=function(){};dw=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,fi(Ir.current);var s=null;switch(r){case"input":i=zd(t,i),n=zd(t,n),s=[];break;case"select":i=$e({},i,{value:void 0}),n=$e({},n,{value:void 0}),s=[];break;case"textarea":i=Bd(t,i),n=Bd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jc)}Gd(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var a=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(s||(s=[]),s.push(c,r)),r=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tl.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ve("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};fw=function(t,e,r,n){r!==n&&(e.flags|=4)};function uo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function U$(t,e,r){var n=e.pendingProps;switch(Og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Ct(e.type)&&Dc(),st(e),null;case 3:return n=e.stateNode,Cs(),xe(_t),xe(ct),Qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ma(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fr!==null&&(Cf(fr),fr=null))),wf(t,e),st(e),null;case 5:kg(e);var i=fi(fl.current);if(r=e.type,t!==null&&e.stateNode!=null)dw(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return st(e),null}if(t=fi(Ir.current),ma(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[_r]=e,n[hl]=s,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<Po.length;i++)ve(Po[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":hm(n,s),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ve("invalid",n);break;case"textarea":fm(n,s),ve("invalid",n)}Gd(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Oa(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Oa(n.textContent,l,t),i=["children",""+l]):tl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",n)}switch(r){case"input":aa(n),dm(n,s,!0);break;case"textarea":aa(n),pm(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=jc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=US(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[_r]=e,t[hl]=n,hw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fd(r,n),r){case"dialog":ve("cancel",t),ve("close",t),i=n;break;case"iframe":case"object":case"embed":ve("load",t),i=n;break;case"video":case"audio":for(i=0;i<Po.length;i++)ve(Po[i],t);i=n;break;case"source":ve("error",t),i=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=n;break;case"details":ve("toggle",t),i=n;break;case"input":hm(t,n),i=zd(t,n),ve("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$e({},n,{value:void 0}),ve("invalid",t);break;case"textarea":fm(t,n),i=Bd(t,n),ve("invalid",t);break;default:i=n}Gd(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?XS(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&qS(t,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&rl(t,a):typeof a=="number"&&rl(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tl.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ve("scroll",t):a!=null&&tg(t,s,a,o))}switch(r){case"input":aa(t),dm(t,n,!1);break;case"textarea":aa(t),pm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ds(t,!!n.multiple,s,!1):n.defaultValue!=null&&ds(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)fw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=fi(fl.current),fi(Ir.current),ma(e)){if(n=e.stateNode,r=e.memoizedProps,n[_r]=e,(s=n.nodeValue!==r)&&(t=qt,t!==null))switch(t.tag){case 3:Oa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=e,e.stateNode=n}return st(e),null;case 13:if(xe(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Zt!==null&&e.mode&1&&!(e.flags&128))Ex(),$s(),e.flags|=98560,s=!1;else if(s=ma(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[_r]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else fr!==null&&(Cf(fr),fr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?qe===0&&(qe=3):Ig())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Cs(),wf(t,e),t===null&&cl(e.stateNode.containerInfo),st(e),null;case 10:return Sg(e.type._context),st(e),null;case 17:return Ct(e.type)&&Dc(),st(e),null;case 19:if(xe(Pe),s=e.memoizedState,s===null)return st(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)uo(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qc(t),o!==null){for(e.flags|=128,uo(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Oe(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ee()>Rs&&(e.flags|=128,n=!0,uo(s,!1),e.lanes=4194304)}else{if(!n)if(t=qc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return st(e),null}else 2*Ee()-s.renderingStartTime>Rs&&r!==1073741824&&(e.flags|=128,n=!0,uo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ee(),e.sibling=null,r=Pe.current,Oe(Pe,n?r&1|2:r&1),e):(st(e),null);case 22:case 23:return Ng(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Lt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function q$(t,e){switch(Og(e),e.tag){case 1:return Ct(e.type)&&Dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cs(),xe(_t),xe(ct),Qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kg(e),null;case 13:if(xe(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Pe),null;case 4:return Cs(),null;case 10:return Sg(e.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var Sa=!1,lt=!1,z$=typeof WeakSet=="function"?WeakSet:Set,z=null;function ls(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(t,e,n)}else r.current=null}function bf(t,e,r){try{r()}catch(n){_e(t,e,n)}}var n0=!1;function X$(t,e){if(of=Ec,t=yx(),pg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==s||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++c===i&&(l=o),d===s&&++u===n&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(lf={focusedElem:t,selectionRange:r},Ec=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var O=p.memoizedProps,y=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?O:ur(e.type,O),y);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){_e(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return p=n0,n0=!1,p}function Zo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bf(e,r,s)}i=i.next}while(i!==n)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function kf(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function pw(t){var e=t.alternate;e!==null&&(t.alternate=null,pw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[hl],delete e[uf],delete e[P$],delete e[T$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gw(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jc));else if(n!==4&&(t=t.child,t!==null))for(Qf(t,e,r),t=t.sibling;t!==null;)Qf(t,e,r),t=t.sibling}function Pf(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Pf(t,e,r),t=t.sibling;t!==null;)Pf(t,e,r),t=t.sibling}var He=null,hr=!1;function pn(t,e,r){for(r=r.child;r!==null;)Ow(t,e,r),r=r.sibling}function Ow(t,e,r){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(ku,r)}catch{}switch(r.tag){case 5:lt||ls(r,e);case 6:var n=He,i=hr;He=null,pn(t,e,r),He=n,hr=i,He!==null&&(hr?(t=He,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(hr?(t=He,r=r.stateNode,t.nodeType===8?Rh(t.parentNode,r):t.nodeType===1&&Rh(t,r),ol(t)):Rh(He,r.stateNode));break;case 4:n=He,i=hr,He=r.stateNode.containerInfo,hr=!0,pn(t,e,r),He=n,hr=i;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&bf(r,e,o),i=i.next}while(i!==n)}pn(t,e,r);break;case 1:if(!lt&&(ls(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){_e(r,e,l)}pn(t,e,r);break;case 21:pn(t,e,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,pn(t,e,r),lt=n):pn(t,e,r);break;default:pn(t,e,r)}}function s0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new z$),e.forEach(function(n){var i=K$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,hr=!1;break e;case 3:He=l.stateNode.containerInfo,hr=!0;break e;case 4:He=l.stateNode.containerInfo,hr=!0;break e}l=l.return}if(He===null)throw Error(j(160));Ow(s,o,i),He=null,hr=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){_e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mw(e,t),e=e.sibling}function mw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),xr(t),n&4){try{Zo(3,t,t.return),Ru(3,t)}catch(O){_e(t,t.return,O)}try{Zo(5,t,t.return)}catch(O){_e(t,t.return,O)}}break;case 1:cr(e,t),xr(t),n&512&&r!==null&&ls(r,r.return);break;case 5:if(cr(e,t),xr(t),n&512&&r!==null&&ls(r,r.return),t.flags&32){var i=t.stateNode;try{rl(i,"")}catch(O){_e(t,t.return,O)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&MS(i,s),Fd(l,o);var c=Fd(l,s);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?XS(i,h):u==="dangerouslySetInnerHTML"?qS(i,h):u==="children"?rl(i,h):tg(i,u,h,c)}switch(l){case"input":Xd(i,s);break;case"textarea":ZS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ds(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[hl]=s}catch(O){_e(t,t.return,O)}}break;case 6:if(cr(e,t),xr(t),n&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(O){_e(t,t.return,O)}}break;case 3:if(cr(e,t),xr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(O){_e(t,t.return,O)}break;case 4:cr(e,t),xr(t);break;case 13:cr(e,t),xr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jg=Ee())),n&4&&s0(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,cr(e,t),lt=c):cr(e,t),xr(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(z=t,u=t.child;u!==null;){for(h=z=u;z!==null;){switch(d=z,f=d.child,d.tag){case 0:case 11:case 14:case 15:Zo(4,d,d.return);break;case 1:ls(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(O){_e(n,r,O)}}break;case 5:ls(d,d.return);break;case 22:if(d.memoizedState!==null){l0(h);continue}}f!==null?(f.return=d,z=f):l0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=zS("display",o))}catch(O){_e(t,t.return,O)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(O){_e(t,t.return,O)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cr(e,t),xr(t),n&4&&s0(t);break;case 21:break;default:cr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(gw(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(rl(i,""),n.flags&=-33);var s=i0(t);Pf(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=i0(t);Qf(t,l,o);break;default:throw Error(j(161))}}catch(a){_e(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W$(t,e,r){z=t,yw(t)}function yw(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Sa;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||lt;l=Sa;var c=lt;if(Sa=o,(lt=a)&&!c)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?a0(i):a!==null?(a.return=o,z=a):a0(i);for(;s!==null;)z=s,yw(s),s=s.sibling;z=i,Sa=l,lt=c}o0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):o0(t)}}function o0(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Ru(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!lt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ur(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xm(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Xm(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}lt||e.flags&512&&kf(e)}catch(d){_e(e,e.return,d)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function l0(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function a0(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ru(4,e)}catch(a){_e(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(a){_e(e,i,a)}}var s=e.return;try{kf(e)}catch(a){_e(e,s,a)}break;case 5:var o=e.return;try{kf(e)}catch(a){_e(e,o,a)}}}catch(a){_e(e,e.return,a)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var B$=Math.ceil,Wc=dn.ReactCurrentDispatcher,Rg=dn.ReactCurrentOwner,er=dn.ReactCurrentBatchConfig,ce=0,Ge=null,Ne=null,rt=0,Lt=0,as=Hn(0),qe=0,ml=null,Qi=0,Au=0,Ag=0,Uo=null,xt=null,jg=0,Rs=1/0,Fr=null,Bc=!1,Tf=null,Mn=null,xa=!1,_n=null,Vc=0,qo=0,$f=null,lc=-1,ac=0;function gt(){return ce&6?Ee():lc!==-1?lc:lc=Ee()}function Zn(t){return t.mode&1?ce&2&&rt!==0?rt&-rt:_$.transition!==null?(ac===0&&(ac=rx()),ac):(t=he,t!==0||(t=window.event,t=t===void 0?16:cx(t.type)),t):1}function Or(t,e,r,n){if(50<qo)throw qo=0,$f=null,Error(j(185));ql(t,r,n),(!(ce&2)||t!==Ge)&&(t===Ge&&(!(ce&2)&&(Au|=r),qe===4&&Qn(t,rt)),Et(t,n),r===1&&ce===0&&!(e.mode&1)&&(Rs=Ee()+500,_u&&Jn()))}function Et(t,e){var r=t.callbackNode;_T(t,e);var n=Cc(t,t===Ge?rt:0);if(n===0)r!==null&&mm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mm(r),e===1)t.tag===0?$$(c0.bind(null,t)):$x(c0.bind(null,t)),k$(function(){!(ce&6)&&Jn()}),r=null;else{switch(nx(n)){case 1:r=og;break;case 4:r=ex;break;case 16:r=_c;break;case 536870912:r=tx;break;default:r=_c}r=Pw(r,vw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function vw(t,e){if(lc=-1,ac=0,ce&6)throw Error(j(327));var r=t.callbackNode;if(ms()&&t.callbackNode!==r)return null;var n=Cc(t,t===Ge?rt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gc(t,n);else{e=n;var i=ce;ce|=2;var s=xw();(Ge!==t||rt!==e)&&(Fr=null,Rs=Ee()+500,Oi(t,e));do try{F$();break}catch(l){Sw(t,l)}while(!0);vg(),Wc.current=s,ce=i,Ne!==null?e=0:(Ge=null,rt=0,e=qe)}if(e!==0){if(e===2&&(i=ef(t),i!==0&&(n=i,e=_f(t,i))),e===1)throw r=ml,Oi(t,0),Qn(t,n),Et(t,Ee()),r;if(e===6)Qn(t,n);else{if(i=t.current.alternate,!(n&30)&&!V$(i)&&(e=Gc(t,n),e===2&&(s=ef(t),s!==0&&(n=s,e=_f(t,s))),e===1))throw r=ml,Oi(t,0),Qn(t,n),Et(t,Ee()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:oi(t,xt,Fr);break;case 3:if(Qn(t,n),(n&130023424)===n&&(e=jg+500-Ee(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cf(oi.bind(null,t,xt,Fr),e);break}oi(t,xt,Fr);break;case 4:if(Qn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-gr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*B$(n/1960))-n,10<n){t.timeoutHandle=cf(oi.bind(null,t,xt,Fr),n);break}oi(t,xt,Fr);break;case 5:oi(t,xt,Fr);break;default:throw Error(j(329))}}}return Et(t,Ee()),t.callbackNode===r?vw.bind(null,t):null}function _f(t,e){var r=Uo;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=Gc(t,e),t!==2&&(e=xt,xt=r,e!==null&&Cf(e)),t}function Cf(t){xt===null?xt=t:xt.push.apply(xt,t)}function V$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~Ag,e&=~Au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gr(e),n=1<<r;t[r]=-1,e&=~n}}function c0(t){if(ce&6)throw Error(j(327));ms();var e=Cc(t,0);if(!(e&1))return Et(t,Ee()),null;var r=Gc(t,e);if(t.tag!==0&&r===2){var n=ef(t);n!==0&&(e=n,r=_f(t,n))}if(r===1)throw r=ml,Oi(t,0),Qn(t,e),Et(t,Ee()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,xt,Fr),Et(t,Ee()),null}function Dg(t,e){var r=ce;ce|=1;try{return t(e)}finally{ce=r,ce===0&&(Rs=Ee()+500,_u&&Jn())}}function Pi(t){_n!==null&&_n.tag===0&&!(ce&6)&&ms();var e=ce;ce|=1;var r=er.transition,n=he;try{if(er.transition=null,he=1,t)return t()}finally{he=n,er.transition=r,ce=e,!(ce&6)&&Jn()}}function Ng(){Lt=as.current,xe(as)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,b$(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(Og(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dc();break;case 3:Cs(),xe(_t),xe(ct),Qg();break;case 5:kg(n);break;case 4:Cs();break;case 13:xe(Pe);break;case 19:xe(Pe);break;case 10:Sg(n.type._context);break;case 22:case 23:Ng()}r=r.return}if(Ge=t,Ne=t=Un(t.current,null),rt=Lt=e,qe=0,ml=null,Ag=Au=Qi=0,xt=Uo=null,di!==null){for(e=0;e<di.length;e++)if(r=di[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}di=null}return t}function Sw(t,e){do{var r=Ne;try{if(vg(),ic.current=Xc,zc){for(var n=Te.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zc=!1}if(ki=0,Be=Ze=Te=null,Mo=!1,pl=0,Rg.current=null,r===null||r.return===null){qe=1,ml=e,Ne=null;break}e:{var s=t,o=r.return,l=r,a=e;if(e=rt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Ym(o);if(f!==null){f.flags&=-257,Hm(f,o,l,s,e),f.mode&1&&Fm(s,c,e),e=f,a=c;var p=e.updateQueue;if(p===null){var O=new Set;O.add(a),e.updateQueue=O}else p.add(a);break e}else{if(!(e&1)){Fm(s,c,e),Ig();break e}a=Error(j(426))}}else if(be&&l.mode&1){var y=Ym(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Hm(y,o,l,s,e),mg(Es(a,l));break e}}s=a=Es(a,l),qe!==4&&(qe=2),Uo===null?Uo=[s]:Uo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=nw(s,a,e);zm(s,g);break e;case 1:l=a;var m=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Mn===null||!Mn.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=iw(s,l,e);zm(s,b);break e}}s=s.return}while(s!==null)}bw(r)}catch(x){e=x,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function xw(){var t=Wc.current;return Wc.current=Xc,t===null?Xc:t}function Ig(){(qe===0||qe===3||qe===2)&&(qe=4),Ge===null||!(Qi&268435455)&&!(Au&268435455)||Qn(Ge,rt)}function Gc(t,e){var r=ce;ce|=2;var n=xw();(Ge!==t||rt!==e)&&(Fr=null,Oi(t,e));do try{G$();break}catch(i){Sw(t,i)}while(!0);if(vg(),ce=r,Wc.current=n,Ne!==null)throw Error(j(261));return Ge=null,rt=0,qe}function G$(){for(;Ne!==null;)ww(Ne)}function F$(){for(;Ne!==null&&!ST();)ww(Ne)}function ww(t){var e=Qw(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?bw(t):Ne=e,Rg.current=null}function bw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=q$(r,e),r!==null){r.flags&=32767,Ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ne=null;return}}else if(r=U$(r,e,Lt),r!==null){Ne=r;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);qe===0&&(qe=5)}function oi(t,e,r){var n=he,i=er.transition;try{er.transition=null,he=1,Y$(t,e,r,n)}finally{er.transition=i,he=n}return null}function Y$(t,e,r,n){do ms();while(_n!==null);if(ce&6)throw Error(j(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(CT(t,s),t===Ge&&(Ne=Ge=null,rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xa||(xa=!0,Pw(_c,function(){return ms(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=he;he=1;var l=ce;ce|=4,Rg.current=null,X$(t,r),mw(r,t),O$(lf),Ec=!!of,lf=of=null,t.current=r,W$(r),xT(),ce=l,he=o,er.transition=s}else t.current=r;if(xa&&(xa=!1,_n=t,Vc=i),s=t.pendingLanes,s===0&&(Mn=null),kT(r.stateNode),Et(t,Ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,t=Tf,Tf=null,t;return Vc&1&&t.tag!==0&&ms(),s=t.pendingLanes,s&1?t===$f?qo++:(qo=0,$f=t):qo=0,Jn(),null}function ms(){if(_n!==null){var t=nx(Vc),e=er.transition,r=he;try{if(er.transition=null,he=16>t?16:t,_n===null)var n=!1;else{if(t=_n,_n=null,Vc=0,ce&6)throw Error(j(331));var i=ce;for(ce|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(z=c;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:Zo(8,u,s)}var h=u.child;if(h!==null)h.return=u,z=h;else for(;z!==null;){u=z;var d=u.sibling,f=u.return;if(pw(u),u===c){z=null;break}if(d!==null){d.return=f,z=d;break}z=f}}}var p=s.alternate;if(p!==null){var O=p.child;if(O!==null){p.child=null;do{var y=O.sibling;O.sibling=null,O=y}while(O!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var m=t.current;for(z=m;z!==null;){o=z;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,z=S;else e:for(o=m;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(x){_e(l,l.return,x)}if(l===o){z=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,z=b;break e}z=l.return}}if(ce=i,Jn(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(ku,t)}catch{}n=!0}return n}finally{he=r,er.transition=e}}return!1}function u0(t,e,r){e=Es(r,e),e=nw(t,e,1),t=Ln(t,e,1),e=gt(),t!==null&&(ql(t,1,e),Et(t,e))}function _e(t,e,r){if(t.tag===3)u0(t,t,r);else for(;e!==null;){if(e.tag===3){u0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mn===null||!Mn.has(n))){t=Es(r,t),t=iw(e,t,1),e=Ln(e,t,1),t=gt(),e!==null&&(ql(e,1,t),Et(e,t));break}}e=e.return}}function H$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&r,Ge===t&&(rt&r)===r&&(qe===4||qe===3&&(rt&130023424)===rt&&500>Ee()-jg?Oi(t,0):Ag|=r),Et(t,e)}function kw(t,e){e===0&&(t.mode&1?(e=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):e=1);var r=gt();t=ln(t,e),t!==null&&(ql(t,e,r),Et(t,r))}function J$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kw(t,r)}function K$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),kw(t,r)}var Qw;Qw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)Pt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pt=!1,Z$(t,e,r);Pt=!!(t.flags&131072)}else Pt=!1,be&&e.flags&1048576&&_x(e,Lc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oc(t,e),t=e.pendingProps;var i=Ts(e,ct.current);Os(e,r),i=Tg(null,e,n,t,i,r);var s=$g();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(n)?(s=!0,Nc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wg(e),i.updater=Eu,e.stateNode=i,i._reactInternals=e,Of(e,n,t,r),e=vf(null,e,n,!0,s,r)):(e.tag=0,be&&s&&gg(e),ft(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=t_(n),t=ur(n,t),i){case 0:e=yf(null,e,n,t,r);break e;case 1:e=e0(null,e,n,t,r);break e;case 11:e=Jm(null,e,n,t,r);break e;case 14:e=Km(null,e,n,ur(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),yf(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),e0(t,e,n,i,r);case 3:e:{if(aw(e),t===null)throw Error(j(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Dx(t,e),Uc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Es(Error(j(423)),e),e=t0(t,e,n,r,i);break e}else if(n!==i){i=Es(Error(j(424)),e),e=t0(t,e,n,r,i);break e}else for(Zt=In(e.stateNode.containerInfo.firstChild),qt=e,be=!0,fr=null,r=Ax(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===i){e=an(t,e,r);break e}ft(t,e,n,r)}e=e.child}return e;case 5:return Nx(e),t===null&&ff(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,af(n,i)?o=null:s!==null&&af(n,s)&&(e.flags|=32),lw(t,e),ft(t,e,o,r),e.child;case 6:return t===null&&ff(e),null;case 13:return cw(t,e,r);case 4:return bg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_s(e,null,n,r):ft(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),Jm(t,e,n,i,r);case 7:return ft(t,e,e.pendingProps,r),e.child;case 8:return ft(t,e,e.pendingProps.children,r),e.child;case 12:return ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(Mc,n._currentValue),n._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!_t.current){e=an(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=rn(-1,r&-r),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),pf(s.return,r,e),l.lanes|=r;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),pf(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Os(e,r),i=nr(i),n=n(i),e.flags|=1,ft(t,e,n,r),e.child;case 14:return n=e.type,i=ur(n,e.pendingProps),i=ur(n.type,i),Km(t,e,n,i,r);case 15:return sw(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),oc(t,e),e.tag=1,Ct(n)?(t=!0,Nc(e)):t=!1,Os(e,r),rw(e,n,i),Of(e,n,i,r),vf(null,e,n,!0,t,r);case 19:return uw(t,e,r);case 22:return ow(t,e,r)}throw Error(j(156,e.tag))};function Pw(t,e){return KS(t,e)}function e_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,r,n){return new e_(t,e,r,n)}function Lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t_(t){if(typeof t=="function")return Lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ng)return 11;if(t===ig)return 14}return 2}function Un(t,e){var r=t.alternate;return r===null?(r=Ht(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cc(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ji:return mi(r.children,i,s,e);case rg:o=8,i|=8;break;case Md:return t=Ht(12,r,e,i|2),t.elementType=Md,t.lanes=s,t;case Zd:return t=Ht(13,r,e,i),t.elementType=Zd,t.lanes=s,t;case Ud:return t=Ht(19,r,e,i),t.elementType=Ud,t.lanes=s,t;case NS:return ju(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jS:o=10;break e;case DS:o=9;break e;case ng:o=11;break e;case ig:o=14;break e;case vn:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ht(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function mi(t,e,r,n){return t=Ht(7,t,n,e),t.lanes=r,t}function ju(t,e,r,n){return t=Ht(22,t,n,e),t.elementType=NS,t.lanes=r,t.stateNode={isHidden:!1},t}function Zh(t,e,r){return t=Ht(6,t,null,e),t.lanes=r,t}function Uh(t,e,r){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function r_(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mg(t,e,r,n,i,s,o,l,a){return t=new r_(t,e,r,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ht(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(s),t}function n_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Tw(t){if(!t)return Xn;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Ct(r))return Tx(t,r,e)}return e}function $w(t,e,r,n,i,s,o,l,a){return t=Mg(r,n,!0,t,i,s,o,l,a),t.context=Tw(null),r=t.current,n=gt(),i=Zn(r),s=rn(n,i),s.callback=e??null,Ln(r,s,i),t.current.lanes=i,ql(t,i,n),Et(t,n),t}function Du(t,e,r,n){var i=e.current,s=gt(),o=Zn(i);return r=Tw(r),e.context===null?e.context=r:e.pendingContext=r,e=rn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ln(i,e,o),t!==null&&(Or(t,i,o,s),nc(t,i,o)),o}function Fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Zg(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function i_(){return null}var _w=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ug(t){this._internalRoot=t}Nu.prototype.render=Ug.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Du(t,e,null,null)};Nu.prototype.unmount=Ug.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){Du(null,t,null,null)}),e[on]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ox();t={blockedOn:null,target:t,priority:e};for(var r=0;r<kn.length&&e!==0&&e<kn[r].priority;r++);kn.splice(r,0,t),r===0&&ax(t)}};function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d0(){}function s_(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Fc(o);s.call(c)}}var o=$w(e,n,t,0,null,!1,!1,"",d0);return t._reactRootContainer=o,t[on]=o.current,cl(t.nodeType===8?t.parentNode:t),Pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=Fc(a);l.call(c)}}var a=Mg(t,0,!1,null,null,!1,!1,"",d0);return t._reactRootContainer=a,t[on]=a.current,cl(t.nodeType===8?t.parentNode:t),Pi(function(){Du(e,a,r,n)}),a}function Lu(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Fc(o);l.call(a)}}Du(e,o,t,i)}else o=s_(r,e,t,i,n);return Fc(o)}ix=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qo(e.pendingLanes);r!==0&&(lg(e,r|1),Et(e,Ee()),!(ce&6)&&(Rs=Ee()+500,Jn()))}break;case 13:Pi(function(){var n=ln(t,1);if(n!==null){var i=gt();Or(n,t,1,i)}}),Zg(t,1)}};ag=function(t){if(t.tag===13){var e=ln(t,134217728);if(e!==null){var r=gt();Or(e,t,134217728,r)}Zg(t,134217728)}};sx=function(t){if(t.tag===13){var e=Zn(t),r=ln(t,e);if(r!==null){var n=gt();Or(r,t,e,n)}Zg(t,e)}};ox=function(){return he};lx=function(t,e){var r=he;try{return he=t,e()}finally{he=r}};Hd=function(t,e,r){switch(e){case"input":if(Xd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$u(n);if(!i)throw Error(j(90));LS(n),Xd(n,i)}}}break;case"textarea":ZS(t,r);break;case"select":e=r.value,e!=null&&ds(t,!!r.multiple,e,!1)}};VS=Dg;GS=Pi;var o_={usingClientEntryPoint:!1,Events:[Xl,rs,$u,WS,BS,Dg]},ho={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HS(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||i_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wa.isDisabled&&wa.supportsFiber)try{ku=wa.inject(l_),Nr=wa}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o_;Xt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qg(e))throw Error(j(200));return n_(t,e,null,r)};Xt.createRoot=function(t,e){if(!qg(t))throw Error(j(299));var r=!1,n="",i=_w;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mg(t,1,!1,null,null,r,!1,n,i),t[on]=e.current,cl(t.nodeType===8?t.parentNode:t),new Ug(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=HS(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Pi(t)};Xt.hydrate=function(t,e,r){if(!Iu(e))throw Error(j(200));return Lu(null,t,e,!0,r)};Xt.hydrateRoot=function(t,e,r){if(!qg(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=_w;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$w(e,null,t,1,r??null,i,!1,s,o),t[on]=e.current,cl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Nu(e)};Xt.render=function(t,e,r){if(!Iu(e))throw Error(j(200));return Lu(null,t,e,!1,r)};Xt.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(j(40));return t._reactRootContainer?(Pi(function(){Lu(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1};Xt.unstable_batchedUpdates=Dg;Xt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Iu(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Lu(t,e,r,!1,n)};Xt.version="18.3.1-next-f1338f8080-20240426";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(t){console.error(t)}}Cw(),CS.exports=Xt;var Ew=CS.exports,f0=Ew;Id.createRoot=f0.createRoot,Id.hydrateRoot=f0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(this,arguments)}var Cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cn||(Cn={}));const p0="popstate";function a_(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return Ef("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Aw(i)}return u_(e,r,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c_(){return Math.random().toString(36).substr(2,8)}function g0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ef(t,e,r,n){return r===void 0&&(r=null),yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:r,key:e&&e.key||n||c_()})}function Aw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function u_(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Cn.Pop,a=null,c=u();c==null&&(c=0,o.replaceState(yl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Cn.Pop;let y=u(),g=y==null?null:y-c;c=y,a&&a({action:l,location:O.location,delta:g})}function d(y,g){l=Cn.Push;let m=Ef(O.location,y,g);c=u()+1;let S=g0(m,c),b=O.createHref(m);try{o.pushState(S,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(b)}s&&a&&a({action:l,location:O.location,delta:1})}function f(y,g){l=Cn.Replace;let m=Ef(O.location,y,g);c=u();let S=g0(m,c),b=O.createHref(m);o.replaceState(S,"",b),s&&a&&a({action:l,location:O.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof y=="string"?y:Aw(y);return m=m.replace(/ $/,"%20"),ze(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let O={get action(){return l},get location(){return t(i,o)},listen(y){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(p0,h),a=y,()=>{i.removeEventListener(p0,h),a=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(y){return o.go(y)}};return O}var O0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O0||(O0={}));function h_(t,e,r){return r===void 0&&(r="/"),d_(t,e,r)}function d_(t,e,r,n){let i=typeof e=="string"?Bs(e):e,s=Nw(i.pathname||"/",r);if(s==null)return null;let o=jw(t);f_(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=Q_(s);l=w_(o[a],c)}return l}function jw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ze(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let c=yi([n,a.relativePath]),u=r.concat(a);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jw(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:S_(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Dw(s.path))i(s,o,a)}),e}function Dw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Dw(n.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function f_(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:x_(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const p_=/^:[\w-]+$/,g_=3,O_=2,m_=1,y_=10,v_=-2,m0=t=>t==="*";function S_(t,e){let r=t.split("/"),n=r.length;return r.some(m0)&&(n+=v_),e&&(n+=O_),r.filter(i=>!m0(i)).reduce((i,s)=>i+(p_.test(s)?g_:s===""?m_:y_),n)}function x_(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function w_(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let a=n[l],c=l===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=b_({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u),d=a.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:yi([s,h.pathname]),pathnameBase:E_(yi([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=yi([s,h.pathnameBase]))}return o}function b_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=k_(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let O=l[h]||"";o=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function k_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Rw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(n.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Q_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function P_(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Bs(t):t;return{pathname:r?r.startsWith("/")?r:T_(r,e):e,search:R_(n),hash:A_(i)}}function T_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qh(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function __(t,e){let r=$_(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function C_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Bs(t):(i=yl({},t),ze(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?e[h]:"/"}let a=P_(i,l),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),E_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Iw=["post","put","patch","delete"];new Set(Iw);const D_=["get",...Iw];new Set(D_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vl.apply(this,arguments)}const zg=k.createContext(null),N_=k.createContext(null),Mu=k.createContext(null),Zu=k.createContext(null),Vs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Lw=k.createContext(null);function Uu(){return k.useContext(Zu)!=null}function Mw(){return Uu()||ze(!1),k.useContext(Zu).location}function Zw(t){k.useContext(Mu).static||k.useLayoutEffect(t)}function Uw(){let{isDataRoute:t}=k.useContext(Vs);return t?F_():I_()}function I_(){Uu()||ze(!1);let t=k.useContext(zg),{basename:e,future:r,navigator:n}=k.useContext(Mu),{matches:i}=k.useContext(Vs),{pathname:s}=Mw(),o=JSON.stringify(__(i,r.v7_relativeSplatPath)),l=k.useRef(!1);return Zw(()=>{l.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let h=C_(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:yi([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,s,t])}function L_(t,e){return M_(t,e)}function M_(t,e,r,n){Uu()||ze(!1);let{navigator:i,static:s}=k.useContext(Mu),{matches:o}=k.useContext(Vs),l=o[o.length-1],a=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Mw(),h;if(e){var d;let g=typeof e=="string"?Bs(e):e;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||ze(!1),h=g}else h=u;let f=h.pathname||"/",p=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let O=h_(t,{pathname:p}),y=X_(O&&O.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:yi([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:yi([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return e&&y?k.createElement(Zu.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Cn.Pop}},y):y}function Z_(){let t=G_(),e=j_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,null)}const U_=k.createElement(Z_,null);class q_ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(Vs.Provider,{value:this.props.routeContext},k.createElement(Lw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z_(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(zg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Vs.Provider,{value:e},n)}function X_(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||ze(!1),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=r,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let f,p=!1,O=null,y=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,O=h.route.errorElement||U_,a&&(c<0&&d===0?(Y_("route-fallback"),p=!0,y=null):c===d&&(p=!0,y=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),m=()=>{let S;return f?S=O:p?S=y:h.route.Component?S=k.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,k.createElement(z_,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?k.createElement(q_,{location:r.location,revalidation:r.revalidation,component:O,error:f,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var qw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qw||{}),zw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zw||{});function W_(t){let e=k.useContext(zg);return e||ze(!1),e}function B_(t){let e=k.useContext(N_);return e||ze(!1),e}function V_(t){let e=k.useContext(Vs);return e||ze(!1),e}function Xw(t){let e=V_(),r=e.matches[e.matches.length-1];return r.route.id||ze(!1),r.route.id}function G_(){var t;let e=k.useContext(Lw),r=B_(),n=Xw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function F_(){let{router:t}=W_(qw.UseNavigateStable),e=Xw(zw.UseNavigateStable),r=k.useRef(!1);return Zw(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vl({fromRouteId:e},s)))},[t,e])}const y0={};function Y_(t,e,r){y0[t]||(y0[t]=!0)}function H_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rf(t){ze(!1)}function J_(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Cn.Pop,navigator:s,static:o=!1,future:l}=t;Uu()&&ze(!1);let a=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:a,navigator:s,static:o,future:vl({v7_relativeSplatPath:!1},l)}),[a,l,s,o]);typeof n=="string"&&(n=Bs(n));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=n,O=k.useMemo(()=>{let y=Nw(u,a);return y==null?null:{location:{pathname:y,search:h,hash:d,state:f,key:p},navigationType:i}},[a,u,h,d,f,p,i]);return O==null?null:k.createElement(Mu.Provider,{value:c},k.createElement(Zu.Provider,{children:r,value:O}))}function K_(t){let{children:e,location:r}=t;return L_(Af(e),r)}new Promise(()=>{});function Af(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,Af(n.props.children,s));return}n.type!==Rf&&ze(!1),!n.props.index||!n.props.children||ze(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Af(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const eC="6";try{window.__reactRouterVersion=eC}catch{}const tC="startTransition",v0=HP[tC];function rC(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=a_({window:i,v5Compat:!0}));let o=s.current,[l,a]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=k.useCallback(h=>{c&&v0?v0(()=>a(h)):a(h)},[a,c]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.useEffect(()=>H_(n),[n]),k.createElement(J_,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var S0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(S0||(S0={}));var x0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function w0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function nC(...t){return e=>{let r=!1;const n=t.map(i=>{const s=w0(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():w0(t[i],null)}}}}function iC(t){const e=oC(t),r=k.forwardRef((n,i)=>{const{children:s,...o}=n,l=k.Children.toArray(s),a=l.find(aC);if(a){const c=a.props.children,u=l.map(h=>h===a?k.Children.count(c)>1?k.Children.only(null):k.isValidElement(c)?c.props.children:null:h);return v.jsx(e,{...o,ref:i,children:k.isValidElement(c)?k.cloneElement(c,void 0,u):null})}return v.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var sC=iC("Slot");function oC(t){const e=k.forwardRef((r,n)=>{const{children:i,...s}=r;if(k.isValidElement(i)){const o=uC(i),l=cC(s,i.props);return i.type!==k.Fragment&&(l.ref=n?nC(n,o):o),k.cloneElement(i,l)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lC=Symbol("radix.slottable");function aC(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lC}function cC(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{s(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function uC(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ww(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Ww(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Bw(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Ww(t))&&(n&&(n+=" "),n+=e);return n}const b0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,k0=Bw,Vw=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return k0(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],h=s==null?void 0:s[c];if(u===null)return null;const d=b0(u)||b0(h);return i[c][d]}),l=r&&Object.entries(r).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),a=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(p=>{let[O,y]=p;return Array.isArray(y)?y.includes({...s,...l}[O]):{...s,...l}[O]===y})?[...c,h,d]:c},[]);return k0(t,o,a,r==null?void 0:r.class,r==null?void 0:r.className)},Xg="-",hC=t=>{const e=fC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Xg);return l[0]===""&&l.length!==1&&l.shift(),Gw(l,e)||dC(o)},getConflictingClassGroupIds:(o,l)=>{const a=r[o]||[];return l&&n[o]?[...a,...n[o]]:a}}},Gw=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Gw(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Xg);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Q0=/^\[(.+)\]$/,dC=t=>{if(Q0.test(t)){const e=Q0.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},fC=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return gC(Object.entries(t.classGroups),r).forEach(([s,o])=>{jf(o,n,s,e)}),n},jf=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:P0(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(pC(i)){jf(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{jf(o,P0(e,s),r,n)})})},P0=(t,e)=>{let r=t;return e.split(Xg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pC=t=>t.isThemeGetter,gC=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,i]}):t,OC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},Fw="!",mC=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=l=>{const a=[];let c=0,u=0,h;for(let y=0;y<l.length;y++){let g=l[y];if(c===0){if(g===i&&(n||l.slice(y,y+s)===e)){a.push(l.slice(u,y)),u=y+s;continue}if(g==="/"){h=y;continue}}g==="["?c++:g==="]"&&c--}const d=a.length===0?l:l.substring(u),f=d.startsWith(Fw),p=f?d.substring(1):d,O=h&&h>u?h-u:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:O}};return r?l=>r({className:l,parseClassName:o}):o},yC=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},vC=t=>({cache:OC(t.cacheSize),parseClassName:mC(t),...hC(t)}),SC=/\s+/,xC=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(SC);let l="";for(let a=o.length-1;a>=0;a-=1){const c=o[a],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=r(c);let p=!!f,O=n(p?d.substring(0,f):d);if(!O){if(!p){l=c+(l.length>0?" "+l:l);continue}if(O=n(d),!O){l=c+(l.length>0?" "+l:l);continue}p=!1}const y=yC(u).join(":"),g=h?y+Fw:y,m=g+O;if(s.includes(m))continue;s.push(m);const S=i(O,p);for(let b=0;b<S.length;++b){const x=S[b];s.push(g+x)}l=c+(l.length>0?" "+l:l)}return l};function wC(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Yw(e))&&(n&&(n+=" "),n+=r);return n}const Yw=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Yw(t[n]))&&(r&&(r+=" "),r+=e);return r};function bC(t,...e){let r,n,i,s=o;function o(a){const c=e.reduce((u,h)=>h(u),t());return r=vC(c),n=r.cache.get,i=r.cache.set,s=l,l(a)}function l(a){const c=n(a);if(c)return c;const u=xC(a,r);return i(a,u),u}return function(){return s(wC.apply(null,arguments))}}const ye=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Hw=/^\[(?:([a-z-]+):)?(.+)\]$/i,kC=/^\d+\/\d+$/,QC=new Set(["px","full","screen"]),PC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$C=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_C=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=t=>ys(t)||QC.has(t)||kC.test(t),gn=t=>Gs(t,"length",LC),ys=t=>!!t&&!Number.isNaN(Number(t)),zh=t=>Gs(t,"number",ys),fo=t=>!!t&&Number.isInteger(Number(t)),EC=t=>t.endsWith("%")&&ys(t.slice(0,-1)),ee=t=>Hw.test(t),On=t=>PC.test(t),RC=new Set(["length","size","percentage"]),AC=t=>Gs(t,RC,Jw),jC=t=>Gs(t,"position",Jw),DC=new Set(["image","url"]),NC=t=>Gs(t,DC,ZC),IC=t=>Gs(t,"",MC),po=()=>!0,Gs=(t,e,r)=>{const n=Hw.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},LC=t=>TC.test(t)&&!$C.test(t),Jw=()=>!1,MC=t=>_C.test(t),ZC=t=>CC.test(t),UC=()=>{const t=ye("colors"),e=ye("spacing"),r=ye("blur"),n=ye("brightness"),i=ye("borderColor"),s=ye("borderRadius"),o=ye("borderSpacing"),l=ye("borderWidth"),a=ye("contrast"),c=ye("grayscale"),u=ye("hueRotate"),h=ye("invert"),d=ye("gap"),f=ye("gradientColorStops"),p=ye("gradientColorStopPositions"),O=ye("inset"),y=ye("margin"),g=ye("opacity"),m=ye("padding"),S=ye("saturate"),b=ye("scale"),x=ye("sepia"),Q=ye("skew"),P=ye("space"),T=ye("translate"),_=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ee,e],R=()=>[ee,e],X=()=>["",Xr,gn],N=()=>["auto",ys,ee],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",ee],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[ys,ee];return{cacheSize:500,separator:":",theme:{colors:[po],spacing:[Xr,gn],blur:["none","",On,ee],brightness:G(),borderColor:[t],borderRadius:["none","","full",On,ee],borderSpacing:R(),borderWidth:X(),contrast:G(),grayscale:A(),hueRotate:G(),invert:A(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[EC,gn],inset:D(),margin:D(),opacity:G(),padding:R(),saturate:G(),scale:G(),sepia:A(),skew:G(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[On]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),ee]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",fo,ee]}],"grid-cols":[{"grid-cols":[po]}],"col-start-end":[{col:["auto",{span:["full",fo,ee]},ee]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[po]}],"row-start-end":[{row:["auto",{span:[fo,ee]},ee]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[On]},On]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",On,gn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zh]}],"font-family":[{font:[po]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",ys,zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,gn]}],"underline-offset":[{"underline-offset":["auto",Xr,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),jC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Xr,ee]}],"outline-w":[{outline:[Xr,gn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Xr,gn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",On,IC]}],"shadow-color":[{shadow:[po]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",On,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[fo,ee]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xr,gn,zh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qC=bC(UC);function Kn(...t){return qC(Bw(t))}const zC=Vw("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pt=k.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?sC:"button";return v.jsx(o,{className:Kn(zC({variant:e,size:r,className:t})),ref:s,...i})});pt.displayName="Button";const qu=k.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Kn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qu.displayName="Card";const XC=k.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Kn("flex flex-col space-y-1.5 p-6",t),...e}));XC.displayName="CardHeader";const WC=k.forwardRef(({className:t,...e},r)=>v.jsx("h3",{ref:r,className:Kn("text-2xl font-semibold leading-none tracking-tight",t),...e}));WC.displayName="CardTitle";const BC=k.forwardRef(({className:t,...e},r)=>v.jsx("p",{ref:r,className:Kn("text-sm text-muted-foreground",t),...e}));BC.displayName="CardDescription";const VC=k.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Kn("p-6 pt-0",t),...e}));VC.displayName="CardContent";const GC=k.forwardRef(({className:t,...e},r)=>v.jsx("div",{ref:r,className:Kn("flex items-center p-6 pt-0",t),...e}));GC.displayName="CardFooter";const FC=Vw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kw({className:t,variant:e,...r}){return v.jsx("div",{className:Kn(FC({variant:e}),t),...r})}const YC=[{code:`; MUMPS Database Management
SET ^PATIENT("SMITH,JOHN",1)="DOB:19600123"
SET ^PATIENT("SMITH,JOHN",2)="GENDER:M"
SET ^PATIENT("SMITH,JOHN",3)="DIABETES:TYPE2"

WRITE "Patient Record Created",!

NEW IDX,DATA
SET IDX=""
FOR  SET IDX=$ORDER(^PATIENT("SMITH,JOHN",IDX)) QUIT:IDX=""  DO
. SET DATA=^PATIENT("SMITH,JOHN",IDX)
. WRITE IDX,": ",DATA,!

KILL ^PATIENT("SMITH,JOHN",3)
WRITE "Record updated.",!`,top:"5%",left:"10%",delay:"0s"},{code:`* SNOBOL4 Text Processing
        INPUT SENTENCE
        WORDPAT = SPAN(" ") BREAK(" ") . WORD
        
        OUTPUT = ""
        
LOOP    SENTENCE WORDPAT = WORD
        OUTPUT = OUTPUT " " REVERSE(WORD) :F(DONE)
        SENTENCE = SENTENCE TAB(SIZE(WORD) + 1) :F(DONE)
        :(LOOP)
        
DONE    OUTPUT LEN(1) = ""
        OUTPUT SENTENCE
        
DEFINE("REVERSE(S)")
        REVERSE REVERSE = ""
        S LEN(1) . CHAR = :F(RETURN)
        &ANCHOR = 1
        REVERSE = CHAR REVERSE
        S = S TAB(2) :F(RETURN)
        :(REVERSE)
RETURN  REVERSE = REVERSE S
        :(RETURN)
END`,top:"15%",left:"70%",delay:"1s"},{code:`-- Ada Concurrent Task Example
with Ada.Text_IO; use Ada.Text_IO;

procedure Main is
   task type Worker is
      entry Start(ID : Integer);
      entry Stop;
   end Worker;

   task body Worker is
      MyID : Integer;
      Running : Boolean := True;
   begin
      accept Start(ID : Integer) do
         MyID := ID;
      end Start;

      while Running loop
         delay 1.0;  -- Simulate work
         Put_Line("Worker " & Integer'Image(MyID) & " processing...");
         
         select
            accept Stop do
               Running := False;
            end Stop;
         else
            null;  -- Continue working
         end select;
      end loop;

      Put_Line("Worker " & Integer'Image(MyID) & " terminated");
   end Worker;

   W1, W2 : Worker;
begin
   W1.Start(1);
   W2.Start(2);
   delay 5.0;
   W1.Stop;
   W2.Stop;
end Main;`,top:"30%",left:"20%",delay:"2s"},{code:`; Brainfuck Memoization
++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>++.>+.+++++++..+++.<<++.>+++++++++++++++.>.+++.------.--------.<<+.<.
>++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>++.>+.+++++++..+++.<<++.>+++++++++++++++.>.+++.------.--------.<<+.<.
>++++++++++[>+>+++>+++++++>++++++++++<<<<-]>>>++.>+.+++++++..+++.<<++.>+++++++++++++++.>.+++.------.--------.<<+.<.`,top:"45%",left:"60%",delay:"3s"},{code:`# Prolog Debounce Implementation
:- module(debounce, [debounce/3]).

debounce(Fn, Delay, DebouncedFn) :-
    asserta(timeout(0)),
    DebouncedFn =.. [call, Fn, Args],
    retract(timeout(_)),
    asserta(timeout(Delay)).

call(Fn, Args) :-
    timeout(0),
    call(Fn, Args),
    retract(timeout(_)),
    asserta(timeout(0)).`,top:"60%",left:"30%",delay:"4s"},{code:`# APL Throttle Function
 RF THROTTLE LIMIT
  R{0  LIMIT:0  F   +1}0
`,top:"75%",left:"80%",delay:"5s"},{code:`; LISP Deep Clone
(defun deep-clone (obj)
  (cond
    ((null obj) nil)
    ((atom obj) obj)
    ((listp obj)
     (cons (deep-clone (car obj))
           (deep-clone (cdr obj))))
    (t (error "Cannot clone ~S" obj))))`,top:"85%",left:"40%",delay:"6s"},{code:`# Haskell Flatten Array
flatten :: [a] -> [a]
flatten [] = []
flatten (x:xs) = x ++ flatten xs`,top:"25%",left:"50%",delay:"7s"},{code:`-* FOCUS Report Language
-TYPE *GENERATE QUARTERLY SALES REPORT
-FILE SALES
-SUM AMOUNT AS 'Total Sales' ACROSS QUARTER BY REGION BY PRODUCT
-ON REGION SUBFOOT
-"Region Total: <TOTAL.AMOUNT"
-END
-ON QUARTER SUBFOOT
-"Quarter Total: <TOTAL.AMOUNT"
-END
-ON REPORT SUBFOOT
-"Grand Total: <GRAND.TOTAL.AMOUNT"
-END

TABLE FILE SALES 
HEADING CENTER
"QUARTERLY SALES REPORT"
" "
SUM DOLLARS/D12.2M WRITE UNDER='TOTAL SALES'
BY REGION NOPRINT BY STATE BY CITY
WHERE DOLLARS GT 5000
ON REGION PAGE-BREAK
ON REGION SUBFOOT
" "
"**** REGION TOTAL $<ST.DOLLARS"
END
ON TABLE SUBFOOT
" "
"**** GRAND TOTAL $<TOT.DOLLARS"
END
END`,top:"50%",left:"15%",delay:"8s"},{code:`*& ABAP Enterprise Report
REPORT ZMATERIAL_USAGE.

DATA: gv_material TYPE matnr,
      gv_plant    TYPE werks_d,
      gs_usage    TYPE zstorage_usage,
      gt_usage    TYPE TABLE OF zstorage_usage.

* Selection screen definition
SELECTION-SCREEN BEGIN OF BLOCK b1 WITH FRAME TITLE text-001.
SELECT-OPTIONS: s_matnr FOR gv_material,
                s_plant FOR gv_plant.
PARAMETERS: p_date TYPE datum DEFAULT sy-datum.
SELECTION-SCREEN END OF BLOCK b1.

* Main processing
START-OF-SELECTION.
  PERFORM get_usage_data.
  PERFORM display_results.

* Get material usage data
FORM get_usage_data.
  SELECT material plant usage_date quantity
    FROM zmaterial_usage
    INTO CORRESPONDING FIELDS OF TABLE gt_usage
    WHERE material IN s_matnr
    AND plant IN s_plant
    AND usage_date <= p_date.

  SORT gt_usage BY material plant usage_date DESCENDING.
ENDFORM.

* Display results
FORM display_results.
  DATA: lv_total TYPE menge_d.

  WRITE: / 'Material Usage Report', 
         / sy-uline.
  WRITE: /3 'Material', 20 'Plant', 35 'Last Usage', 
         55 'Quantity'.
  WRITE: / sy-uline.

  LOOP AT gt_usage INTO gs_usage.
    AT NEW material.
      lv_total = 0.
    ENDAT.

    WRITE: /3 gs_usage-material, 
           20 gs_usage-plant,
           35 gs_usage-usage_date, 
           55 gs_usage-quantity.

    lv_total = lv_total + gs_usage-quantity.

    AT END OF material.
      WRITE: / 'Total:', 55 lv_total.
      ULINE.
    ENDAT.
  ENDLOOP.
ENDFORM.`,top:"70%",left:"90%",delay:"9s"},{code:`# INTERCAL Calendar Program
DO COME FROM (30)
PLEASE DO GIVE UP

(30) PLEASE TAKE NOTE
DO (1000) NEXT
DO FORGET #1
PLEASE DO RESUME #1
DO (1010) NEXT

(1000) DO STASH .1 + .2 + .3 + .4 + .5
DO .1 <- #12
DO .2 <- #31
DO .3 <- #5
DO .4 <- #10
DO .5 <- #1972

(1010) DO WRITE IN .1
PLEASE DO READ OUT .2
DO READ OUT .3
DO FORGET .4
PLEASE DO FORGET .5
PLEASE GIVE UP`,top:"10%",left:"80%",delay:"10s"},{code:`# Algol 68 Graphics Mode
BEGIN
  MODE POINT = STRUCT(REAL x, y);
  MODE VECTOR = STRUCT(REAL dx, dy);
  MODE CIRCLE = STRUCT(POINT center, REAL radius);
  
  OP + = (POINT a, VECTOR b) POINT:
    (a.x + b.dx, a.y + b.dy);
  
  OP INTERSECT = (CIRCLE a, CIRCLE b) BOOL:
    BEGIN
      REAL dist = SQRT((a.center.x - b.center.x) ** 2 + 
                       (a.center.y - b.center.y) ** 2);
      dist <= a.radius + b.radius
    END;
  
  POINT origin := (0.0, 0.0);
  VECTOR displacement := (5.0, 10.0);
  POINT new_point := origin + displacement;
  
  CIRCLE c1 := ((0.0, 0.0), 5.0);
  CIRCLE c2 := ((3.0, 4.0), 6.0);
  
  IF c1 INTERSECT c2 THEN
    print(("Circles intersect"))
  ELSE
    print(("Circles do not intersect"))
  FI
END`,top:"35%",left:"40%",delay:"11s"},{code:`/* REXX System Administration Script */
/* Script to analyze disk space usage */

say "Disk Space Analyzer"
say "===================="

/* Parse command line arguments */
parse arg directory .
if directory = '' then directory = '.'

call check_dir directory
exit

check_dir: procedure
  parse arg dir
  
  /* List files in directory */
  address cmd "dir" dir "/b" with output stem files.
  if files.0 = 0 then return
  
  total_size = 0
  
  do i = 1 to files.0
    full_path = dir || '' || files.i
    
    /* Get file attributes */
    address cmd "dir" full_path "/a" with output stem file_info.
    parse var file_info.2 date time am_pm size file_name
    
    /* Process file or directory */
    if pos('<DIR>', file_info.2) > 0 then do
      say "Directory:" full_path
      call check_dir full_path
    end
    else do
      size = strip(size)
      total_size = total_size + size
      say right(size, 10) full_path
    end
  end
  
  say "Total size:" total_size "bytes"
  return`,top:"65%",left:"60%",delay:"12s"},{code:`-- OCCAM Parallel Processing
PROC display (CHAN OF BYTE screen, VAL []BYTE message)
  SEQ i = 0 FOR SIZE message
    screen ! message[i]
:

PROC main (CHAN OF BYTE keyboard, screen)
  CHAN OF INT A, B, C:
  PAR
    -- First process
    SEQ
      INT x:
      SEQ
        x := 42
        A ! x
        display (screen, "Process 1 sent data*n")
    
    -- Second process
    INT y:
    SEQ
      A ? y
      y := y * 2
      B ! y
      display (screen, "Process 2 doubled data*n")
    
    -- Third process  
    INT z:
    SEQ
      B ? z
      z := z + 10
      C ! z
      display (screen, "Process 3 added 10*n")
    
    -- Final process
    INT result:
    SEQ
      C ? result
      VAL []BYTE message IS "Result is ":
      SEQ
        display (screen, message)
        INT32TOSTRING (result, 0, screen)
:`,top:"20%",left:"30%",delay:"13s"},{code:`/* PL/I Database Application */
INVENTORY: PROCEDURE OPTIONS(MAIN);
  
  DECLARE INVENTORY_FILE FILE RECORD INPUT ENVIRONMENT(CONSECUTIVE);
  DECLARE REPORT_FILE FILE STREAM OUTPUT PRINT;
  
  DECLARE 1 ITEM_RECORD,
          2 ITEM_ID CHAR(8),
          2 DESCRIPTION CHAR(30),
          2 QUANTITY FIXED DECIMAL(5),
          2 PRICE FIXED DECIMAL(7,2);
          
  DECLARE EOF BIT(1) INIT('0'B);
  DECLARE TOTAL_VALUE FIXED DECIMAL(10,2) INIT(0);
  
  ON ENDFILE(INVENTORY_FILE) EOF = '1'B;
  
  OPEN FILE(INVENTORY_FILE), FILE(REPORT_FILE);
  
  PUT FILE(REPORT_FILE) SKIP EDIT
    ('INVENTORY VALUATION REPORT', 
     '-------------------------')
    (A, SKIP, A);
    
  PUT FILE(REPORT_FILE) SKIP(2) EDIT
    ('ITEM ID', 'DESCRIPTION', 'QTY', 'PRICE', 'VALUE')
    (A(8), X(2), A(30), X(2), A(5), X(2), A(8), X(2), A(10));
  
  READ FILE(INVENTORY_FILE) INTO(ITEM_RECORD);
  
  DO WHILE (^EOF);
    DECLARE ITEM_VALUE FIXED DECIMAL(9,2);
    ITEM_VALUE = QUANTITY * PRICE;
    TOTAL_VALUE = TOTAL_VALUE + ITEM_VALUE;
    
    PUT FILE(REPORT_FILE) SKIP EDIT
      (ITEM_ID, DESCRIPTION, QUANTITY, PRICE, ITEM_VALUE)
      (A(8), X(2), A(30), X(2), F(5), X(2), F(8,2), X(2), F(10,2));
      
    READ FILE(INVENTORY_FILE) INTO(ITEM_RECORD);
  END;
  
  PUT FILE(REPORT_FILE) SKIP(2) EDIT
    ('TOTAL INVENTORY VALUE:', TOTAL_VALUE)
    (A, X(2), F(12,2));
    
  CLOSE FILE(INVENTORY_FILE), FILE(REPORT_FILE);
  
END INVENTORY;`,top:"80%",left:"20%",delay:"14s"}],HC={binarySearch:"Binary Search Castle",quickSort:"Sorting Sanctuary",mergeSort:"Sorting Sanctuary",bubbleSort:"Sorting Sanctuary",insertionSort:"Sorting Sanctuary",heapSort:"Sorting Sanctuary",dfs:"Graph Adventures",bfs:"Graph Adventures",dijkstra:"Graph Adventures",kruskal:"Graph Adventures",prim:"Graph Adventures",twoSum:"Forest of Arrays",maxSubArray:"Forest of Arrays",containsDuplicate:"Forest of Arrays",mergeSortedArrays:"Forest of Arrays",hashMap:"Hashmap Dungeons",hashTable:"Hashmap Dungeons",lruCache:"Hashmap Dungeons",linkedList:"Linked List Gardens",tree:"Tree of Wisdom",binaryTree:"Tree of Wisdom",inorderTraversal:"Tree of Wisdom",preorderTraversal:"Tree of Wisdom",postorderTraversal:"Tree of Wisdom",stack:"Stack & Queue Tavern",queue:"Stack & Queue Tavern",palindrome:"String Sorcery",kmp:"String Sorcery",stringMatch:"String Sorcery",fibonacci:"Dynamic Programming Peaks",knapsack:"Dynamic Programming Peaks",lcs:"Dynamic Programming Peaks"},eb=({excludedTopics:t=[],opacity:e=.2})=>{const r=k.useMemo(()=>YC.filter(n=>{const i=n.code.split(`
`)[0];let s=null;for(const[o,l]of Object.entries(HC))if(i.includes(o)){s=l;break}return!s||!t.includes(s)}),[t]);return r.length===0?null:v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:r.map((n,i)=>{const s=n.top||`${Math.random()*100}%`,o=n.left||`${Math.random()*100}%`,l=n.delay||`${Math.random()*5}s`;return v.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-opacity duration-300",style:{top:s,left:o,opacity:e,animation:`float-code ${8+i%7}s infinite ease-in-out`,animationDelay:l},children:v.jsx("pre",{className:"text-xs font-mono bg-gray-900/50 p-2 rounded-lg backdrop-blur-sm",children:v.jsx("code",{children:n.code})})},i)})})},JC="modulepreload",KC=function(t){return"/codequest-battle-royale/"+t},T0={},As=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(a=>{if(a=KC(a),a in T0)return;T0[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":JC,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},eE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Wg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class tE extends Wg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rE extends Wg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nE extends Wg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Df;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Df||(Df={}));var iE=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class sE{constructor(e,{headers:r={},customFetch:n,region:i=Df.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=eE(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return iE(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:a}=r;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:c}).catch(p=>{throw new tE(p)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new rE(u);if(!u.ok)throw new nE(u);let d=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield u.json():d==="application/octet-stream"?f=yield u.blob():d==="text/event-stream"?f=u:d==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var wt={},Bg={},zu={},Bl={},Xu={},Wu={},oE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=oE();const lE=js.fetch,tb=js.fetch.bind(js),rb=js.Headers,aE=js.Request,cE=js.Response,Fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:rb,Request:aE,Response:cE,default:tb,fetch:lE},Symbol.toStringTag,{value:"Module"})),uE=DP(Fs);var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});let hE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Bu.default=hE;var nb=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wu,"__esModule",{value:!0});const dE=nb(uE),fE=nb(Bu);let pE=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=dE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,u=null,h=null,d=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const O=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");O&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,d=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const O=await s.text();try{c=JSON.parse(O),Array.isArray(c)&&s.status===404&&(u=[],c=null,d=200,f="OK")}catch{s.status===404&&O===""?(d=204,f="No Content"):c={message:O}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw new fE.default(c)}return{error:c,data:u,count:h,status:d,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Wu.default=pE;var gE=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xu,"__esModule",{value:!0});const OE=gE(Wu);let mE=class extends OE.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xu.default=mE;var yE=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bl,"__esModule",{value:!0});const vE=yE(Xu);let SE=class extends vE.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Bl.default=SE;var xE=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zu,"__esModule",{value:!0});const go=xE(Bl);let wE=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new go.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new go.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new go.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new go.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zu.default=wE;var Vu={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.version=void 0;Gu.version="0.0.0-automated";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.DEFAULT_HEADERS=void 0;const bE=Gu;Vu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bE.version}`};var ib=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bg,"__esModule",{value:!0});const kE=ib(zu),QE=ib(Bl),PE=Vu;let TE=class sb{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},PE.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new kE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",a=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new QE.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Bg.default=TE;var Ys=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wt,"__esModule",{value:!0});wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const ob=Ys(Bg);wt.PostgrestClient=ob.default;const lb=Ys(zu);wt.PostgrestQueryBuilder=lb.default;const ab=Ys(Bl);wt.PostgrestFilterBuilder=ab.default;const cb=Ys(Xu);wt.PostgrestTransformBuilder=cb.default;const ub=Ys(Wu);wt.PostgrestBuilder=ub.default;const hb=Ys(Bu);wt.PostgrestError=hb.default;var $E=wt.default={PostgrestClient:ob.default,PostgrestQueryBuilder:lb.default,PostgrestFilterBuilder:ab.default,PostgrestTransformBuilder:cb.default,PostgrestBuilder:ub.default,PostgrestError:hb.default};const{PostgrestClient:_E,PostgrestQueryBuilder:Kz,PostgrestFilterBuilder:eX,PostgrestTransformBuilder:tX,PostgrestBuilder:rX,PostgrestError:nX}=$E,CE="2.11.2",EE={"X-Client-Info":`realtime-js/${CE}`},RE="1.0.0",db=1e4,AE=1e3;var vs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vs||(vs={}));var It;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(It||(It={}));var dr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dr||(dr={}));var Nf;(function(t){t.websocket="websocket"})(Nf||(Nf={}));var ai;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ai||(ai={}));class jE{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const a=n.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class fb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ge||(ge={}));const $0=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=DE(o,t,e,i),s),{})},DE=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?pb(s,o):If(o)},pb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ME(e,r)}switch(t){case ge.bool:return NE(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return IE(e);case ge.json:case ge.jsonb:return LE(e);case ge.timestamp:return ZE(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return If(e);default:return If(e)}},If=t=>t,NE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},IE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ME=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>pb(e,l))}return t},ZE=t=>typeof t=="string"?t.replace(" ","T"):t,gb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xh{constructor(e,r,n={},i=db){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_0||(_0={}));class zo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=zo.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zo.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(s,(c,u)=>{o[c]||(a[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const d=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),O=h.filter(y=>d.indexOf(y.presence_ref)<0);p.length>0&&(l[c]=p),O.length>0&&(a[c]=O)}else l[c]=u}),this.syncDiff(s,{joins:l,leaves:a},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var c;const u=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),u.length>0){const h=e[l].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...d)}n(l,u,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const u=a.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=c,i(l,c,a),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C0||(C0={}));var E0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E0||(E0={}));var Yr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class Vg{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xh(this,dr.join,this.params,this.timeout),this.rejoinTimer=new fb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new zo(this),this.broadcastEndpointURL=gb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(Yr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Yr.CLOSED));const a={},c={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Yr.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,p=[];for(let O=0;O<f;O++){const y=d[O],{filter:{event:g,schema:m,table:S,filter:b}}=y,x=u&&u[O];if(x&&x.event===g&&x.schema===m&&x.table===S&&x.filter===b)p.push(Object.assign(Object.assign({},y),{id:x.id}));else{this.unsubscribe(),e==null||e(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Yr.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=It.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new Xh(this,dr.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xh(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:u}=dr;if(n&&[l,a,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,O,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(O=f.filter)===null||O===void 0?void 0:O.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,O,y,g,m,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((O=r.ids)===null||O===void 0?void 0:O.includes(b))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(m=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:O,table:y,commit_timestamp:g,type:m,errors:S}=p;d=Object.assign(Object.assign({},{schema:O,table:y,commit_timestamp:g,eventType:m,new:{},old:{},errors:S}),this._getPayloadRecords(p))}f.callback(d,n)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vg.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dr.close,{},e)}_onError(e){this._on(dr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$0(e.columns,e.old_record)),r}}const UE=()=>{},qE=typeof WebSocket<"u",zE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XE{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=EE,this.params={},this.timeout=db,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=UE,this.conn=null,this.sendBuffer=[],this.serializer=new jE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>As(async()=>{const{default:a}=await Promise.resolve().then(()=>Fs);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Nf.websocket}`,this.httpEndpoint=gb(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(qE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new WE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),As(async()=>{const{default:e}=await import("./browser-Do0Wc5ub.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RE}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return ai.Connecting;case vs.open:return ai.Open;case vs.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}channel(e,r={config:{}}){const n=new Vg(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(dr.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(AE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(dr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([zE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class WE{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Gg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function We(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class BE extends Gg{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lf extends Gg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var VE=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Ob=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},GE=()=>VE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield As(()=>Promise.resolve().then(()=>Fs),void 0)).Response:Response}),Mf=t=>{if(Array.isArray(t))return t.map(r=>Mf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Mf(n)}),e};var Ni=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Wh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FE=(t,e,r)=>Ni(void 0,void 0,void 0,function*(){const n=yield GE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new BE(Wh(i),t.status||500))}).catch(i=>{e(new Lf(Wh(i),i))}):e(new Lf(Wh(t),t))}),YE=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Vl(t,e,r,n,i,s){return Ni(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,YE(e,n,i,s)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>FE(a,l,n))})})}function Yc(t,e,r,n){return Ni(this,void 0,void 0,function*(){return Vl(t,"GET",e,r,n)})}function xn(t,e,r,n,i){return Ni(this,void 0,void 0,function*(){return Vl(t,"POST",e,n,i,r)})}function HE(t,e,r,n,i){return Ni(this,void 0,void 0,function*(){return Vl(t,"PUT",e,n,i,r)})}function JE(t,e,r,n){return Ni(this,void 0,void 0,function*(){return Vl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mb(t,e,r,n,i){return Ni(this,void 0,void 0,function*(){return Vl(t,"DELETE",e,n,i,r)})}var St=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eR{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ob(i)}uploadOrUpdate(e,r,n,i){return St(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},R0),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(We(s))return{data:null,error:s};throw s}})}upload(e,r,n){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return St(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const c=Object.assign({upsert:R0.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:u}),d=yield h.json();return h.ok?{data:{path:s,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(We(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return St(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield xn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new Gg("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}update(e,r,n){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return St(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}copy(e,r,n){return St(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return St(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return St(this,void 0,void 0,function*(){try{const i=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}download(e,r){return St(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Yc(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}info(e){return St(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Yc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mf(n),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}exists(e){return St(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield JE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(We(n)&&n instanceof Lf){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&i.push(a);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return St(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}list(e,r,n){return St(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},KE),r),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const tR="2.7.1",rR={"X-Client-Info":`storage-js/${tR}`};var Ui=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class nR{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},rR),r),this.fetch=Ob(n)}listBuckets(){return Ui(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(We(e))return{data:null,error:e};throw e}})}getBucket(e){return Ui(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ui(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ui(this,void 0,void 0,function*(){try{return{data:yield HE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ui(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ui(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}}class iR extends nR{constructor(e,r={},n){super(e,r,n)}from(e){return new eR(this.url,this.headers,e,this.fetch)}}const sR="2.49.4";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const oR={"X-Client-Info":`supabase-js-${To}/${sR}`},lR={headers:oR},aR={schema:"public"},cR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uR={};var hR=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const dR=t=>{let e;return t?e=t:typeof fetch>"u"?e=tb:e=fetch,(...r)=>e(...r)},fR=()=>typeof Headers>"u"?rb:Headers,pR=(t,e,r)=>{const n=dR(r),i=fR();return(s,o)=>hR(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};var gR=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};function OR(t){return t.replace(/\/$/,"")}function mR(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:o,auth:l,realtime:a,global:c}=e,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},a),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>gR(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const yb="2.69.1",Vi=30*1e3,Zf=3,Bh=Zf*Vi,yR="http://localhost:9999",vR="supabase.auth.token",SR={"X-Client-Info":`gotrue-js/${yb}`},Uf="X-Supabase-Api-Version",vb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wR=6e5;class Fg extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bR extends Fg{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kR(t){return te(t)&&t.name==="AuthApiError"}class Sb extends Fg{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ei extends Fg{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class mn extends ei{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QR(t){return te(t)&&t.name==="AuthSessionMissingError"}class Vh extends ei{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ba extends ei{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ka extends ei{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PR(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class A0 extends ei{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qf extends ei{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Gh(t){return te(t)&&t.name==="AuthRetryableFetchError"}class j0 extends ei{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xo extends ei{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const D0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N0=` 	
\r=`.split(""),TR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<N0.length;e+=1)t[N0[e].charCodeAt(0)]=-2;for(let e=0;e<D0.length;e+=1)t[D0[e].charCodeAt(0)]=e;return t})();function xb(t,e,r){const n=TR[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function I0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{CR(o,n,r)};for(let o=0;o<t.length;o+=1)xb(t.charCodeAt(o),i,s);return e.join("")}function $R(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _R(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$R(n,e)}}function CR(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ER(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)xb(t.charCodeAt(i),r,n);return new Uint8Array(e)}function RR(t){const e=[];return _R(t,r=>e.push(r)),new Uint8Array(e)}function AR(t){return Math.round(Date.now()/1e3)+t}function jR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qr=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},Wo=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function DR(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const wb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>Fs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},NR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bb=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Pa=async(t,e)=>{await t.removeItem(e)};class Fu{constructor(){this.promise=new Fu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Fu.promiseConstructor=Promise;function Fh(t){const e=t.split(".");if(e.length!==3)throw new Xo("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!xR.test(e[n]))throw new Xo("JWT not in base64url format");return{header:JSON.parse(I0(e[0])),payload:JSON.parse(I0(e[1])),signature:ER(e[2]),raw:{header:e[0],payload:e[1]}}}async function IR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LR(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function MR(t){return("0"+t.toString(16)).substr(-2)}function ZR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,MR).join("")}async function UR(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await UR(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qi(t,e,r=!1){const n=ZR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bb(t,`${e}-code-verifier`,i);const s=await qR(n);return[s,n===s?"plain":"s256"]}const zR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XR(t){const e=t.headers.get(Uf);if(!e||!e.match(zR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function WR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function BR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var VR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const li=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GR=[502,503,504];async function L0(t){var e;if(!NR(t))throw new qf(li(t),0);if(GR.includes(t.status))throw new qf(li(t),t.status);let r;try{r=await t.json()}catch(s){throw new Sb(li(s),s)}let n;const i=XR(t);if(i&&i.getTime()>=vb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new j0(li(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new j0(li(r),t.status,r.weak_password.reasons);throw new bR(li(r),t.status||500,n)}const FR=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function se(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Uf]||(s[Uf]=vb["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await YR(t,e,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function YR(t,e,r,n,i,s){const o=FR(e,n,i,s);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new qf(li(a),0)}if(l.ok||await L0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await L0(a)}}function yn(t){var e;let r=null;e2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=AR(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function M0(t){const e=yn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HR(t){return{data:t,error:null}}function JR(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=VR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function KR(t){return t}function e2(t){return t.access_token&&t.refresh_token&&t.expires_in}var t2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class r2{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=wb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=t2(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:JR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},u=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:KR});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(p=>{const O=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=O}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(te(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pn})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}const n2={getItem:t=>Wo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Wo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Wo()&&globalThis.localStorage.removeItem(t)}};function Z0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function i2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zi={debug:!!(globalThis&&Wo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class s2 extends kb{}async function o2(t,e,r){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new s2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}i2();const l2={url:yR,storageKey:vR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function U0(t,e,r){return await r()}class Sl{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&Qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},l2),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new r2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wb(i.fetch),this.lock=i.lock||U0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Qr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=o2:this.lock=U0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Wo()?this.storage=n2:(this.memoryStorage={},this.storage=Z0(this.memoryStorage)):(this.memoryStorage={},this.storage=Z0(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=DR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),PR(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?{error:r}:{error:new Sb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:yn}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await qi(this.storage,this.storageKey)),s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},xform:yn})}else if("phone"in e){const{phone:u,password:h,options:d}=e;s=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:yn})}else throw new ba("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:M0})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:M0})}else throw new ba("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vh}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yn});if(await Pa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Vh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(te(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yn}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Vh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await qi(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ba("You must provide either an email or phone number.")}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:yn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await qi(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:HR})}catch(s){if(te(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new mn;const{error:i}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await se(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:l}=await se(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ba("You must provide either an email or phone number and a type")}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pn}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pn})})}catch(r){if(te(r))return QR(r)&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new mn;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await qi(this.storage,this.storageKey));const{data:c,error:u}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Pn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Fh(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new mn;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qr())throw new ka("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ka(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new A0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ka("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A0("No code detected.");const{data:m,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!s||!l||!o||!c)throw new ka("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let d=u+h;a&&(d=parseInt(a));const f=d-u;f*1e3<=Vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=d-h;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,u);const{data:O,error:y}=await this._getUser(s);if(y)throw y;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(kR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=jR(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await qi(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(te(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,a,c,u;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Qr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LR(async i=>(i>0&&await IR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Gh(s)&&Date.now()+o-n<Vi})}catch(n){if(this._debug(r,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Qa(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Bh;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Bh}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Gh(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fu;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new mn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),te(s)){const o={session:null,error:s};return Gh(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vi}ms, refresh threshold is ${Zf} ticks`),i<=Zf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await qi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fh(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+wR>Date.now()))return n;const{data:i,error:s}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Xo("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(o=>o.kid===e),!n)throw new Xo("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=Fh(n);if(WR(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const c=BR(i.alg),u=await this.fetchJwk(i.kid,r),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,RR(`${l}.${a}`)))throw new Xo("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}Sl.nextInstanceID=0;const a2=Sl;class c2 extends a2{constructor(e){super(e)}}var u2=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(h){o(h)}}function a(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class h2{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=OR(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:aR,realtime:uR,auth:Object.assign(Object.assign({},cR),{storageKey:a}),global:lR},u=mR(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=pR(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _E(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new sE(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iR(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return u2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:a},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c2({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:a,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new XE(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d2=(t,e,r)=>new h2(t,e,r),f2="https://jsgmlaxmpsrrlqnoqnae.supabase.co",Qb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ21sYXhtcHNycmxxbm9xbmFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ0Njc2MzksImV4cCI6MjA2MDA0MzYzOX0.LLpxcRj-CJsCv2wE4yzxx8bXeSF3Qi08o56Kr95Kqa8";console.log("DEBUG: Supabase URL loaded:"," URL exists");console.log("DEBUG: Supabase Anon Key:"," Key exists");console.log("DEBUG: Key starts with:",Qb.substring(0,5)+"...");const H=d2(f2,Qb,{realtime:{params:{eventsPerSecond:10,heartbeatIntervalMs:5e3}},db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:(...t)=>{var i;const e=t[0]instanceof Request?t[0].url:String(t[0]);console.log(`DEBUG: Supabase fetch request to: ${e}`);const r=t[0]instanceof Request?t[0].headers:((i=t[1])==null?void 0:i.headers)||{},n=r instanceof Headers?r.has("apikey"):Object.keys(r).includes("apikey");return console.log(`DEBUG: Request has API key header: ${n?"":""}`),fetch(...t).catch(s=>{throw console.error("Supabase fetch error:",s),s})}}});console.log("DEBUG: Supabase client created");(async()=>{try{console.log("DEBUG: Starting initial connection check...");const{data:t,error:e}=await H.from("battle_sessions").select("id").limit(1);e?(console.warn("Initial connection check: Battle sessions table might not exist yet:",e.message),console.log("This is normal if the table doesn't exist yet and will be created during setup."),console.log("DEBUG: Full error object:",JSON.stringify(e))):(console.log("Initial connection check: Successfully connected to Supabase."),console.log("DEBUG: Connection verified, data:",t))}catch(t){console.error("Error during initial connection check:",(t==null?void 0:t.message)||t),console.error("DEBUG: Detailed error:",t)}})();const Pb=k.createContext(void 0),p2=({children:t})=>{const[e,r]=k.useState(null),[n,i]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>{H.auth.getSession().then(({data:{session:u}})=>{i(u),r((u==null?void 0:u.user)??null),o(!1)});const{data:{subscription:c}}=H.auth.onAuthStateChange((u,h)=>{i(h),r((h==null?void 0:h.user)??null)});return()=>c.unsubscribe()},[]);const l=async c=>{await H.auth.signOut(),await H.auth.signInWithOAuth({provider:c,options:{redirectTo:window.location.origin}})},a=async()=>{try{await H.from("battle_sessions").update({connected_emails:[],active_users:0,last_left:null,last_left_at:null}).eq("id","default-battle-session"),console.log("Signing out from auth..."),await H.auth.signOut(),r(null),i(null),window.localStorage.removeItem("supabase.auth.token"),window.localStorage.removeItem("supabase.auth.expires_at"),window.localStorage.removeItem("supabase.auth.refresh_token")}catch(c){console.error("Error during sign out:",c),r(null),i(null),window.localStorage.removeItem("supabase.auth.token"),window.localStorage.removeItem("supabase.auth.expires_at"),window.localStorage.removeItem("supabase.auth.refresh_token"),await H.auth.signOut()}};return v.jsx(Pb.Provider,{value:{user:e,session:n,loading:s,signIn:l,signOut:a},children:t})},Tb=()=>{const t=k.useContext(Pb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ii=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...c},u)=>k.createElement("svg",{ref:u,...g2,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${O2(t)}`,l].join(" "),...c},[...e.map(([h,d])=>k.createElement(h,d)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Ii("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Ii("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Ii("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Ii("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Ii("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Ii("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Ii("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),zf=({className:t="",titleClassName:e="text-4xl font-bold text-white",iconSize:r=24,showIcons:n=!0})=>v.jsxs("div",{className:`flex flex-col items-center ${t}`,children:[n&&v.jsxs("div",{className:"flex justify-center gap-4 mb-2",children:[v.jsx(_b,{className:`w-${r} h-${r} text-indigo-400 animate-jump`}),v.jsx($b,{className:`w-${r} h-${r} text-yellow-500 animate-jump`,style:{animationDelay:"0.3s"}}),v.jsx(Cb,{className:`w-${r} h-${r} text-blue-400 animate-jump`,style:{animationDelay:"0.6s"}})]}),v.jsx("h1",{className:e,children:"CodeQuest Battles"})]}),x2=["Forest of Arrays","Hashmap Dungeons","Binary Search Castle","Linked List Gardens","Tree of Wisdom","Graph Adventures","Dynamic Programming Peaks","Stack & Queue Tavern","String Sorcery","Sorting Sanctuary"],w2={"Forest of Arrays":"","Hashmap Dungeons":"","Binary Search Castle":"","Linked List Gardens":"","Tree of Wisdom":"","Graph Adventures":"","Dynamic Programming Peaks":"","Stack & Queue Tavern":"","String Sorcery":"","Sorting Sanctuary":""},b2=()=>{const t=Uw(),{user:e,signIn:r,signOut:n}=Tb();return v.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 relative",children:[v.jsx(eb,{opacity:.2}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 via-indigo-500/10 to-blue-500/10 animate-pulse"}),e&&v.jsx("header",{className:"w-full bg-gray-900/80 backdrop-blur-sm border-b border-gray-800 py-3 px-4 relative z-[100]",children:v.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[v.jsx("div",{className:"cursor-pointer",onClick:()=>t("/"),children:v.jsx(zf,{iconSize:6,titleClassName:"text-xl font-bold text-white",showIcons:!1})}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"text-slate-300 mr-3",children:e.email}),v.jsx(pt,{variant:"outline",size:"sm",className:"border-gray-700 text-slate-300 hover:bg-gray-800",onClick:()=>n(),children:"Sign Out"})]})]})}),v.jsxs("div",{className:"relative z-[100] max-w-6xl mx-auto px-4 py-12",children:[v.jsxs("div",{className:"text-center mb-8 opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.6s forwards"},children:[v.jsxs("div",{className:"flex justify-center gap-4 mb-3",children:[v.jsx(_b,{className:"w-12 h-12 text-indigo-400 animate-jump"}),v.jsx($b,{className:"w-12 h-12 text-yellow-500 animate-jump",style:{animationDelay:"0.3s"}}),v.jsx(Cb,{className:"w-12 h-12 text-blue-400 animate-jump",style:{animationDelay:"0.6s"}})]}),v.jsx("h1",{className:"text-5xl md:text-8xl font-bold text-white tracking-tight",children:"CodeQuest Battles"})]}),v.jsxs("div",{className:"text-center mb-12 opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.6s 0.2s forwards"},children:[v.jsx("div",{className:"mb-2",children:v.jsx("span",{className:"inline-block px-4 py-1 bg-indigo-900/40 rounded-full text-xs font-semibold text-indigo-300 border border-indigo-700/50",children:"LEGENDARY EVENT"})}),v.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 text-white tracking-tight",children:v.jsx("span",{className:"inline-block text-indigo-400 py-2",children:"Algorithm Battle Royale"})}),v.jsx("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Enter the mystical realm where code warriors battle for glory and eternal fame!"})]}),v.jsx("div",{className:"mb-16 opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.6s 0.2s forwards"},children:v.jsx(qu,{className:"p-8 bg-slate-900/60 backdrop-blur-sm border-slate-700/30 shadow-xl overflow-hidden relative",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx(Kw,{className:"mb-3 bg-indigo-600 hover:bg-indigo-700 animate-pulse",children:"ROYAL DECREE"}),v.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:"The Ancient Rules"}),v.jsxs("div",{className:"space-y-4 text-slate-300",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-lg",children:"I"}),v.jsx("p",{children:"Brave warriors face a new algorithmic trial each round."})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-lg",children:"II"}),v.jsx("p",{children:"Those with the fewest correct answers are banished from the realm."})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-lg",children:"III"}),v.jsx("p",{children:"The most skilled warrior shall choose the next battleground."})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-600 flex items-center justify-center text-lg",children:"IV"}),v.jsx("p",{children:"The last coder standing claims the legendary prize!"})]})]})]}),v.jsxs("div",{className:"flex-1 border-l border-indigo-700/30 pl-8",children:[v.jsx("h2",{className:"text-3xl font-bold mb-6 text-white",children:"Mythical Realms"}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:x2.map((i,s)=>v.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-slate-800 to-indigo-950 p-4 border border-indigo-700/30",children:[v.jsx("span",{className:"text-2xl",children:w2[i]||""}),v.jsx("h3",{className:"font-medium text-white mt-2 text-sm",children:i})]},s))})]})]})})}),v.jsxs("div",{className:"text-center opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.8s 0.4s forwards"},children:[e?v.jsxs(pt,{size:"lg",className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 text-white px-12 py-6 text-lg rounded-xl shadow-lg shadow-indigo-500/20 transition-all duration-300 hover:scale-105 hover:shadow-xl relative overflow-hidden group border border-indigo-500/20",onClick:()=>t("/battle"),children:[v.jsx("span",{className:"relative z-10",children:"Join the Epic Quest"}),v.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):v.jsx("div",{className:"flex flex-col items-center gap-4",children:v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-2",children:[v.jsxs(pt,{size:"lg",className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 text-white px-8 py-5 text-lg rounded-xl shadow-lg shadow-indigo-500/20 transition-all duration-300 hover:scale-105 hover:shadow-xl relative overflow-hidden group border border-indigo-500/20",onClick:()=>r("github"),children:[v.jsxs("span",{className:"relative z-10 flex items-center",children:[v.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"Sign Up with GitHub"]}),v.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),v.jsxs(pt,{size:"lg",className:"bg-gradient-to-r from-indigo-500 to-blue-600 hover:from-indigo-600 hover:to-blue-700 text-white px-8 py-5 text-lg rounded-xl shadow-lg shadow-indigo-500/20 transition-all duration-300 hover:scale-105 hover:shadow-xl relative overflow-hidden group border border-indigo-500/20",onClick:()=>r("google"),children:[v.jsxs("span",{className:"relative z-10 flex items-center",children:[v.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M20.283 10.356h-8.327v3.451h4.792c-.446 2.193-2.313 3.453-4.792 3.453a5.27 5.27 0 0 1-5.279-5.28 5.27 5.27 0 0 1 5.279-5.279c1.259 0 2.397.447 3.29 1.178l2.6-2.599c-1.584-1.381-3.615-2.233-5.89-2.233a8.908 8.908 0 0 0-8.934 8.934 8.907 8.907 0 0 0 8.934 8.934c4.467 0 8.529-3.249 8.529-8.934 0-.528-.081-1.097-.202-1.625z"})}),"Sign Up with Google"]}),v.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})}),v.jsx("p",{className:"mt-4 text-slate-400",children:"The ancient tournament begins soon  prepare your spells and algorithms!"})]})]})]})},Eb=k.createContext({dragDropManager:void 0});function Bt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var q0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),z0=function(){return Math.random().toString(36).substring(7).split("").join(".")},X0={INIT:"@@redux/INIT"+z0(),REPLACE:"@@redux/REPLACE"+z0()};function k2(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Rb(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(Rb)(t,e)}if(typeof t!="function")throw new Error(Bt(2));var i=t,s=e,o=[],l=o,a=!1;function c(){l===o&&(l=o.slice())}function u(){if(a)throw new Error(Bt(3));return s}function h(O){if(typeof O!="function")throw new Error(Bt(4));if(a)throw new Error(Bt(5));var y=!0;return c(),l.push(O),function(){if(y){if(a)throw new Error(Bt(6));y=!1,c();var m=l.indexOf(O);l.splice(m,1),o=null}}}function d(O){if(!k2(O))throw new Error(Bt(7));if(typeof O.type>"u")throw new Error(Bt(8));if(a)throw new Error(Bt(9));try{a=!0,s=i(s,O)}finally{a=!1}for(var y=o=l,g=0;g<y.length;g++){var m=y[g];m()}return O}function f(O){if(typeof O!="function")throw new Error(Bt(10));i=O,d({type:X0.REPLACE})}function p(){var O,y=h;return O={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Bt(11));function S(){m.next&&m.next(u())}S();var b=y(S);return{unsubscribe:b}}},O[q0]=function(){return this},O}return d({type:X0.INIT}),n={dispatch:d,subscribe:h,getState:u,replaceReducer:f},n[q0]=p,n}function K(t,e,...r){if(Q2()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Q2(){return typeof process<"u"&&!0}function P2(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function T2(t,e){return t.filter(r=>r!==e)}function Ab(t){return typeof t=="object"}function $2(t,e){const r=new Map,n=s=>{r.set(s,r.has(s)?r.get(s)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((s,o)=>{s===1&&i.push(o)}),i}function _2(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Yg="dnd-core/INIT_COORDS",Yu="dnd-core/BEGIN_DRAG",Hg="dnd-core/PUBLISH_DRAG_SOURCE",Hu="dnd-core/HOVER",Ju="dnd-core/DROP",Ku="dnd-core/END_DRAG";function W0(t,e){return{type:Yg,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const C2={type:Yg,payload:{clientOffset:null,sourceClientOffset:null}};function E2(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=n,l=t.getMonitor(),a=t.getRegistry();t.dispatch(W0(s)),R2(r,l,a);const c=D2(r,l);if(c==null){t.dispatch(C2);return}let u=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");A2(o),u=o(c)}t.dispatch(W0(s,u));const d=a.getSource(c).beginDrag(l,c);if(d==null)return;j2(d),a.pinSource(c);const f=a.getSourceType(c);return{type:Yu,payload:{itemType:f,item:d,sourceId:c,clientOffset:s||null,sourceClientOffset:u||null,isSourcePublic:!!i}}}}function R2(t,e,r){K(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){K(r.getSource(n),"Expected sourceIds to be registered.")})}function A2(t){K(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function j2(t){K(Ab(t),"Item must be an object.")}function D2(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function N2(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){N2(t,i,r[i])})}return t}function L2(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();M2(n),q2(n).forEach((o,l)=>{const a=Z2(o,l,i,n),c={type:Ju,payload:{dropResult:I2({},r,a)}};t.dispatch(c)})}}function M2(t){K(t.isDragging(),"Cannot call drop while not dragging."),K(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Z2(t,e,r,n){const i=r.getTarget(t);let s=i?i.drop(n,t):void 0;return U2(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function U2(t){K(typeof t>"u"||Ab(t),"Drop result must either be an object or undefined.")}function q2(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function z2(t){return function(){const r=t.getMonitor(),n=t.getRegistry();X2(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:Ku}}}function X2(t){K(t.isDragging(),"Cannot call endDrag while not dragging.")}function Xf(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function W2(t){return function(r,{clientOffset:n}={}){B2(r);const i=r.slice(0),s=t.getMonitor(),o=t.getRegistry(),l=s.getItemType();return G2(i,o,l),V2(i,s,o),F2(i,s,o),{type:Hu,payload:{targetIds:i,clientOffset:n||null}}}}function B2(t){K(Array.isArray(t),"Expected targetIds to be an array.")}function V2(t,e,r){K(e.isDragging(),"Cannot call hover while not dragging."),K(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];K(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=r.getTarget(i);K(s,"Expected targetIds to be registered.")}}function G2(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],s=e.getTargetType(i);Xf(s,r)||t.splice(n,1)}}function F2(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Y2(t){return function(){if(t.getMonitor().isDragging())return{type:Hg}}}function H2(t){return{beginDrag:E2(t),publishDragSource:Y2(t),hover:W2(t),drop:L2(t),endDrag:z2(t)}}class J2{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(s){return(...o)=>{const l=s.apply(e,o);typeof l<"u"&&r(l)}}const i=H2(this);return Object.keys(i).reduce((s,o)=>{const l=i[o];return s[o]=n(l),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function K2(t,e){return{x:t.x+e.x,y:t.y+e.y}}function jb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function eA(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:jb(K2(e,n),r)}function tA(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:jb(e,r)}const Bo=[],Jg=[];Bo.__IS_NONE__=!0;Jg.__IS_ALL__=!0;function rA(t,e){return t===Bo?!1:t===Jg||typeof e>"u"?!0:_2(e,t).length>0}class nA{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;K(typeof e=="function","listener must be a function."),K(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),l=o.stateId;try{l===i||l===i+1&&!rA(o.dirtyHandlerIds,n)||e()}finally{i=l}};return this.store.subscribe(s)}subscribeToOffsetChange(e){K(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return K(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(K(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return Xf(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(K(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!Xf(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(e);return n?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return eA(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tA(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const B0=typeof global<"u"?global:self,Db=B0.MutationObserver||B0.WebKitMutationObserver;function Nb(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function iA(t){let e=1;const r=new Db(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const sA=typeof Db=="function"?iA:Nb;class oA{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=sA(this.flush),this.requestErrorThrow=Nb(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class lA{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class aA{create(e){const r=this.freeTasks,n=r.length?r.pop():new lA(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Ib=new oA,cA=new aA(Ib.registerPendingError);function uA(t){Ib.enqueueTask(cA.create(t))}const Kg="dnd-core/ADD_SOURCE",eO="dnd-core/ADD_TARGET",tO="dnd-core/REMOVE_SOURCE",eh="dnd-core/REMOVE_TARGET";function hA(t){return{type:Kg,payload:{sourceId:t}}}function dA(t){return{type:eO,payload:{targetId:t}}}function fA(t){return{type:tO,payload:{sourceId:t}}}function pA(t){return{type:eh,payload:{targetId:t}}}function gA(t){K(typeof t.canDrag=="function","Expected canDrag to be a function."),K(typeof t.beginDrag=="function","Expected beginDrag to be a function."),K(typeof t.endDrag=="function","Expected endDrag to be a function.")}function OA(t){K(typeof t.canDrop=="function","Expected canDrop to be a function."),K(typeof t.hover=="function","Expected hover to be a function."),K(typeof t.drop=="function","Expected beginDrag to be a function.")}function Wf(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Wf(r,!1));return}K(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ft;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ft||(Ft={}));let mA=0;function yA(){return mA++}function vA(t){const e=yA().toString();switch(t){case Ft.SOURCE:return`S${e}`;case Ft.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function V0(t){switch(t[0]){case"S":return Ft.SOURCE;case"T":return Ft.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function G0(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,s]}=r.next();if(s===e)return!0;n=!!i}while(!n);return!1}class SA{addSource(e,r){Wf(e),gA(r);const n=this.addHandler(Ft.SOURCE,e,r);return this.store.dispatch(hA(n)),n}addTarget(e,r){Wf(e,!0),OA(r);const n=this.addHandler(Ft.TARGET,e,r);return this.store.dispatch(dA(n)),n}containsHandler(e){return G0(this.dragSources,e)||G0(this.dropTargets,e)}getSource(e,r=!1){return K(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return K(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return K(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return K(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return V0(e)===Ft.SOURCE}isTargetId(e){return V0(e)===Ft.TARGET}removeSource(e){K(this.getSource(e),"Expected an existing source."),this.store.dispatch(fA(e)),uA(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){K(this.getTarget(e),"Expected an existing target."),this.store.dispatch(pA(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);K(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){K(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=vA(e);return this.types.set(i,r),e===Ft.SOURCE?this.dragSources.set(i,n):e===Ft.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const xA=(t,e)=>t===e;function wA(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function bA(t,e,r=xA){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function kA(t=Bo,e){switch(e.type){case Hu:break;case Kg:case eO:case eh:case tO:return Bo;case Yu:case Hg:case Ku:case Ju:default:return Jg}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=$2(r,n);if(!(i.length>0||!bA(r,n)))return Bo;const o=n[n.length-1],l=r[r.length-1];return o!==l&&(o&&i.push(o),l&&i.push(l)),i}function QA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){QA(t,i,r[i])})}return t}const F0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function TA(t=F0,e){const{payload:r}=e;switch(e.type){case Yg:case Yu:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Hu:return wA(t.clientOffset,r.clientOffset)?t:PA({},t,{clientOffset:r.clientOffset});case Ku:case Ju:return F0;default:return t}}function $A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){$A(t,i,r[i])})}return t}const _A={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function CA(t=_A,e){const{payload:r}=e;switch(e.type){case Yu:return Xi({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Hg:return Xi({},t,{isSourcePublic:!0});case Hu:return Xi({},t,{targetIds:r.targetIds});case eh:return t.targetIds.indexOf(r.targetId)===-1?t:Xi({},t,{targetIds:T2(t.targetIds,r.targetId)});case Ju:return Xi({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Ku:return Xi({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function EA(t=0,e){switch(e.type){case Kg:case eO:return t+1;case tO:case eh:return t-1;default:return t}}function RA(t=0){return t+1}function AA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){AA(t,i,r[i])})}return t}function DA(t={},e){return{dirtyHandlerIds:kA(t.dirtyHandlerIds,{type:e.type,payload:jA({},e.payload,{prevTargetIds:P2(t,"dragOperation.targetIds",[])})}),dragOffset:TA(t.dragOffset,e),refCount:EA(t.refCount,e),dragOperation:CA(t.dragOperation,e),stateId:RA(t.stateId)}}function NA(t,e=void 0,r={},n=!1){const i=IA(n),s=new nA(i,new SA(i)),o=new J2(i,s),l=t(o,e,r);return o.receiveBackend(l),o}function IA(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Rb(DA,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function LA(t,e){if(t==null)return{};var r=MA(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MA(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let Y0=0;const uc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ZA=k.memo(function(e){var{children:r}=e,n=LA(e,["children"]);const[i,s]=UA(n);return k.useEffect(()=>{if(s){const o=Lb();return++Y0,()=>{--Y0===0&&(o[uc]=null)}}},[]),v.jsx(Eb.Provider,{value:i,children:r})});function UA(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=qA(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function qA(t,e=Lb(),r,n){const i=e;return i[uc]||(i[uc]={dragDropManager:NA(t,e,r,n)}),i[uc]}function Lb(){return typeof global<"u"?global:window}var zA=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const XA=yS(zA),Ti=typeof window<"u"?k.useLayoutEffect:k.useEffect;function WA(t,e,r){const[n,i]=k.useState(()=>e(t)),s=k.useCallback(()=>{const o=e(t);XA(n,o)||(i(o),r&&r())},[n,t,r]);return Ti(s),[n,s]}function BA(t,e,r){const[n,i]=WA(t,e,r);return Ti(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),n}function Mb(t,e,r){return BA(e,t||(()=>({})),()=>r.reconnect())}function Zb(t,e){const r=[];return typeof t!="function"&&r.push(t),k.useMemo(()=>typeof t=="function"?t():t,r)}function VA(t){return k.useMemo(()=>t.hooks.dragSource(),[t])}function GA(t){return k.useMemo(()=>t.hooks.dragPreview(),[t])}let Yh=!1,Hh=!1;class FA{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){K(!Yh,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yh=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Yh=!1}}isDragging(){if(!this.sourceId)return!1;K(!Hh,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Hh=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Hh=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Jh=!1;class YA{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;K(!Jh,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Jh=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Jh=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function HA(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function JA(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function Bf(t,e,r,n){let i;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let a=0;a<s.length;a++){const c=s[a];if(!l(c))return!1;const u=t[c],h=e[c];if(i=void 0,i===!1||i===void 0&&u!==h)return!1}return!0}function Vf(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KA(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function ej(t){return(e=null,r=null)=>{if(!k.isValidElement(e)){const s=e;return t(s,r),s}const n=e;return KA(n),tj(n,r?s=>t(s,r):t)}}function Ub(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=ej(n);e[r]=()=>i}}),e}function H0(t,e){typeof t=="function"?t(e):t.current=e}function tj(t,e){const r=t.ref;return K(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?k.cloneElement(t,{ref:n=>{H0(r,n),H0(e,n)}}):k.cloneElement(t,{ref:e})}class rj{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Bf(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Bf(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ub({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Vf(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Vf(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class nj{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Bf(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ub({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Vf(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Hs(){const{dragDropManager:t}=k.useContext(Eb);return K(t!=null,"Expected drag drop context"),t}function ij(t,e){const r=Hs(),n=k.useMemo(()=>new rj(r.getBackend()),[r]);return Ti(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),Ti(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function sj(){const t=Hs();return k.useMemo(()=>new FA(t),[t])}class oj{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:s}=n;return s?s(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function lj(t,e,r){const n=k.useMemo(()=>new oj(t,e,r),[e,r]);return k.useEffect(()=>{n.spec=t},[t]),n}function aj(t){return k.useMemo(()=>{const e=t.type;return K(e!=null,"spec.type must be defined"),e},[t])}function cj(t,e,r){const n=Hs(),i=lj(t,e,r),s=aj(t);Ti(function(){if(s!=null){const[l,a]=JA(s,i,n);return e.receiveHandlerId(l),r.receiveHandlerId(l),a}},[n,e,r,i,s])}function uj(t,e){const r=Zb(t);K(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=sj(),i=ij(r.options,r.previewOptions);return cj(r,n,i),[Mb(r.collect,n,i),VA(i),GA(i)]}function hj(t){return k.useMemo(()=>t.hooks.dropTarget(),[t])}function dj(t){const e=Hs(),r=k.useMemo(()=>new nj(e.getBackend()),[e]);return Ti(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function fj(){const t=Hs();return k.useMemo(()=>new YA(t),[t])}function pj(t){const{accept:e}=t;return k.useMemo(()=>(K(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class gj{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function Oj(t,e){const r=k.useMemo(()=>new gj(t,e),[e]);return k.useEffect(()=>{r.spec=t},[t]),r}function mj(t,e,r){const n=Hs(),i=Oj(t,e),s=pj(t);Ti(function(){const[l,a]=HA(s,i,n);return e.receiveHandlerId(l),r.receiveHandlerId(l),a},[n,e,i,r,s.map(o=>o.toString()).join("|")])}function yj(t,e){const r=Zb(t),n=fj(),i=dj(r.options);return mj(r,n,i),[Mb(r.collect,n,i),hj(i)]}function qb(t){let e=null;return()=>(e==null&&(e=t()),e)}function vj(t,e){return t.filter(r=>r!==e)}function Sj(t,e){const r=new Set,n=s=>r.add(s);t.forEach(n),e.forEach(n);const i=[];return r.forEach(s=>i.push(s)),i}class xj{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Sj(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=vj(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class wj{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const zb="__NATIVE_FILE__",Xb="__NATIVE_URL__",Wb="__NATIVE_TEXT__",Bb="__NATIVE_HTML__",J0=Object.freeze(Object.defineProperty({__proto__:null,FILE:zb,HTML:Bb,TEXT:Wb,URL:Xb},Symbol.toStringTag,{value:"Module"}));function Kh(t,e,r){const n=e.reduce((i,s)=>i||t.getData(s),"");return n??r}const Gf={[zb]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Bb]:{exposeProperties:{html:(t,e)=>Kh(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Xb]:{exposeProperties:{urls:(t,e)=>Kh(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Wb]:{exposeProperties:{text:(t,e)=>Kh(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function bj(t,e){const r=Gf[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new wj(r);return n.loadDataTransfer(e),n}function ed(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Gf).filter(r=>{const n=Gf[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const kj=qb(()=>/firefox/i.test(navigator.userAgent)),Vb=qb(()=>!!window.safari);class K0{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:s,c3s:o}=this;let l=r.length-1;if(e===r[l])return n[l];let a=0,c=o.length-1,u;for(;a<=c;){u=Math.floor(.5*(a+c));const f=r[u];if(f<e)a=u+1;else if(f>e)c=u-1;else return n[u]}l=Math.max(0,c);const h=e-r[l],d=h*h;return n[l]+i[l]*h+s[l]*d+o[l]*h*d}constructor(e,r){const{length:n}=e,i=[];for(let f=0;f<n;f++)i.push(f);i.sort((f,p)=>e[f]<e[p]?-1:1);const s=[],o=[];let l,a;for(let f=0;f<n-1;f++)l=e[f+1]-e[f],a=r[f+1]-r[f],s.push(l),o.push(a/l);const c=[o[0]];for(let f=0;f<s.length-1;f++){const p=o[f],O=o[f+1];if(p*O<=0)c.push(0);else{l=s[f];const y=s[f+1],g=l+y;c.push(3*g/((g+y)/p+(g+l)/O))}}c.push(o[o.length-1]);const u=[],h=[];let d;for(let f=0;f<c.length-1;f++){d=o[f];const p=c[f],O=1/s[f],y=p+c[f+1]-d-d;u.push((d-p-y)*O),h.push(y*O*O)}this.xs=e,this.ys=r,this.c1s=c,this.c2s=u,this.c3s=h}}const Qj=1;function Gb(t){const e=t.nodeType===Qj?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function Ta(t){return{x:t.clientX,y:t.clientY}}function Pj(t){var e;return t.nodeName==="IMG"&&(kj()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Tj(t,e,r,n){let i=t?e.width:r,s=t?e.height:n;return Vb()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function $j(t,e,r,n,i){const s=Pj(e),l=Gb(s?t:e),a={x:r.x-l.x,y:r.y-l.y},{offsetWidth:c,offsetHeight:u}=t,{anchorX:h,anchorY:d}=n,{dragPreviewWidth:f,dragPreviewHeight:p}=Tj(s,e,c,u),O=()=>{let Q=new K0([0,.5,1],[a.y,a.y/u*p,a.y+p-u]).interpolate(d);return Vb()&&s&&(Q+=(window.devicePixelRatio-1)*p),Q},y=()=>new K0([0,.5,1],[a.x,a.x/c*f,a.x+f-c]).interpolate(h),{offsetX:g,offsetY:m}=i,S=g===0||g,b=m===0||m;return{x:S?g:y(),y:b?m:O()}}class _j{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function Cj(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ey(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Cj(t,i,r[i])})}return t}class Ej{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",s),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return ey({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return ey({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(J0).some(r=>J0[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=bj(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&Gb(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=Ta(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:l}=i,a=ed(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const u=this.monitor.getSourceId(),h=this.sourceNodes.get(u),d=this.sourcePreviewNodes.get(u)||h;if(d){const{anchorX:f,anchorY:p,offsetX:O,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),S=$j(h,d,o,{anchorX:f,anchorY:p},{offsetX:O,offsetY:y});l.setDragImage(d,S.x,S.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:c}=this.getCurrentSourcePreviewNodeOptions();c?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(l&&!l.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:l}=i,a=ed(l);a&&this.beginDragNativeItem(a,l)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Ta(i)}),s.some(l=>this.monitor.canDropOnTarget(l))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Ta(i),this.scheduleHover(s),(s||[]).some(l=>this.monitor.canDropOnTarget(l))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else ed(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Ta(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new _j(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new xj(this.isNodeInDocument)}}const Rj=function(e,r,n){return new Ej(e,r,n)};function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(null,arguments)}function Aj(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}let Yf=[],Fb=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?Fb:Yf).push(r=r+t[e])})();function jj(t){if(t<768)return!1;for(let e=0,r=Yf.length;;){let n=e+r>>1;if(t<Yf[n])r=n;else if(t>=Fb[n])e=n+1;else return!0;if(e==r)return!1}}function ty(t){return t>=127462&&t<=127487}const ry=8205;function Dj(t,e,r=!0,n=!0){return(r?Yb:Nj)(t,e,n)}function Yb(t,e,r){if(e==t.length)return e;e&&Hb(t.charCodeAt(e))&&Jb(t.charCodeAt(e-1))&&e--;let n=td(t,e);for(e+=ny(n);e<t.length;){let i=td(t,e);if(n==ry||i==ry||r&&jj(i))e+=ny(i),n=i;else if(ty(i)){let s=0,o=e-2;for(;o>=0&&ty(td(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Nj(t,e,r){for(;e>0;){let n=Yb(t,e-2,r);if(n<e)return n;e--}return 0}function td(t,e){let r=t.charCodeAt(e);if(!Jb(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Hb(n)?(r-55296<<10)+(n-56320)+65536:r}function Hb(t){return t>=56320&&t<57344}function Jb(t){return t>=55296&&t<56320}function ny(t){return t<65536?1:2}class le{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=Ds(this,e,r);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),Cr.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=Ds(this,e,r);let n=[];return this.decompose(e,r,n,0),Cr.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new Vo(this),s=new Vo(e);for(let o=r,l=r;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=n)return!0}}iter(e=1){return new Vo(this,e)}iterRange(e,r=this.length){return new Kb(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new e1(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?le.empty:e.length<=32?new Ce(e):Cr.from(Ce.split(e,[]))}}class Ce extends le{constructor(e,r=Ij(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let s=0;;s++){let o=this.text[s],l=i+o.length;if((r?n:l)>=e)return new Lj(i,l,n,o);i=l+1,n++}}decompose(e,r,n,i){let s=e<=0&&r>=this.length?this:new Ce(iy(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),l=hc(s.text,o.text.slice(),0,s.length);if(l.length<=32)n.push(new Ce(l,o.length+s.length));else{let a=l.length>>1;n.push(new Ce(l.slice(0,a)),new Ce(l.slice(a)))}}else n.push(s)}replace(e,r,n){if(!(n instanceof Ce))return super.replace(e,r,n);[e,r]=Ds(this,e,r);let i=hc(this.text,hc(n.text,iy(this.text,0,e)),r),s=this.length+n.length-(r-e);return i.length<=32?new Ce(i,s):Cr.from(Ce.split(i,[]),s)}sliceString(e,r=this.length,n=`
`){[e,r]=Ds(this,e,r);let i="";for(let s=0,o=0;s<=r&&o<this.text.length;o++){let l=this.text[o],a=s+l.length;s>e&&o&&(i+=n),e<a&&r>s&&(i+=l.slice(Math.max(0,e-s),r-s)),s=a+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(r.push(new Ce(n,i)),n=[],i=-1);return i>-1&&r.push(new Ce(n,i)),r}}class Cr extends le{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let s=0;;s++){let o=this.children[s],l=i+o.length,a=n+o.lines-1;if((r?a:l)>=e)return o.lineInner(e,r,n,i);i=l+1,n=a+1}}decompose(e,r,n,i){for(let s=0,o=0;o<=r&&s<this.children.length;s++){let l=this.children[s],a=o+l.length;if(e<=a&&r>=o){let c=i&((o<=e?1:0)|(a>=r?2:0));o>=e&&a<=r&&!c?n.push(l):l.decompose(e-o,r-o,n,c)}o=a+1}}replace(e,r,n){if([e,r]=Ds(this,e,r),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e>=s&&r<=l){let a=o.replace(e-s,r-s,n),c=this.lines-o.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let u=this.children.slice();return u[i]=a,new Cr(u,this.length-(r-e)+n.length)}return super.replace(s,l,a)}s=l+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=Ds(this,e,r);let i="";for(let s=0,o=0;s<this.children.length&&o<=r;s++){let l=this.children[s],a=o+l.length;o>e&&s&&(i+=n),e<a&&r>o&&(i+=l.sliceString(e-o,r-o,n)),o=a+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof Cr))return 0;let n=0,[i,s,o,l]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,s+=r){if(i==o||s==l)return n;let a=this.children[i],c=e.children[s];if(a!=c)return n+a.scanIdentical(c,r);n+=a.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let f of e)n+=f.lines;if(n<32){let f=[];for(let p of e)p.flatten(f);return new Ce(f,r)}let i=Math.max(32,n>>5),s=i<<1,o=i>>1,l=[],a=0,c=-1,u=[];function h(f){let p;if(f.lines>s&&f instanceof Cr)for(let O of f.children)h(O);else f.lines>o&&(a>o||!a)?(d(),l.push(f)):f instanceof Ce&&a&&(p=u[u.length-1])instanceof Ce&&f.lines+p.lines<=32?(a+=f.lines,c+=f.length+1,u[u.length-1]=new Ce(p.text.concat(f.text),p.length+1+f.length)):(a+f.lines>i&&d(),a+=f.lines,c+=f.length+1,u.push(f))}function d(){a!=0&&(l.push(u.length==1?u[0]:Cr.from(u,c)),c=-1,a=u.length=0)}for(let f of e)h(f);return d(),l.length==1?l[0]:new Cr(l,r)}}le.empty=new Ce([""],0);function Ij(t){let e=-1;for(let r of t)e+=r.length+1;return e}function hc(t,e,r=0,n=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=n;s++){let l=t[s],a=i+l.length;a>=r&&(a>n&&(l=l.slice(0,n-i)),i<r&&(l=l.slice(r-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function iy(t,e,r){return hc(t,[""],e,r)}class Vo{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Ce?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof Ce?i.text.length:i.children.length;if(o==(r>0?l:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ce){let a=i.text[o+(r<0?-1:0)];if(this.offsets[n]+=r,a.length>Math.max(0,e))return this.value=e==0?a:r>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[o+(r<0?-1:0)];e>a.length?(e-=a.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(a),this.offsets.push(r>0?1:(a instanceof Ce?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Kb{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new Vo(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class e1{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(le.prototype[Symbol.iterator]=function(){return this.iter()},Vo.prototype[Symbol.iterator]=Kb.prototype[Symbol.iterator]=e1.prototype[Symbol.iterator]=function(){return this});class Lj{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}}function Ds(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function tt(t,e,r=!0,n=!0){return Dj(t,e,r,n)}function Mj(t){return t>=56320&&t<57344}function Zj(t){return t>=55296&&t<56320}function bt(t,e){let r=t.charCodeAt(e);if(!Zj(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Mj(n)?(r-55296<<10)+(n-56320)+65536:r}function rO(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Er(t){return t<65536?1:2}const Hf=/\r\n?|\n/;var et=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(et||(et={}));class Lr{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let s=this.sections[r++],o=this.sections[r++];o<0?(e(n,i,s),i+=s):i+=o,n+=s}}iterChangedRanges(e,r=!1){Jf(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new Lr(e)}composeDesc(e){return this.empty?e:e.empty?this:t1(this,e)}mapDesc(e,r=!1){return e.empty?this:Kf(this,e,r)}mapPos(e,r=-1,n=et.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],c=i+l;if(a<0){if(c>e)return s+(e-i);s+=l}else{if(n!=et.Simple&&c>=e&&(n==et.TrackDel&&i<e&&c>e||n==et.TrackBefore&&i<e||n==et.TrackAfter&&c>e))return null;if(c>e||c==e&&r<0&&!l)return e==i||r<0?s:s+a;s+=a}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let s=this.sections[n++],o=this.sections[n++],l=i+s;if(o>=0&&i<=r&&l>=e)return i<e&&l>r?"cover":!0;i=l}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Lr(e)}static create(e){return new Lr(e)}}class Ue extends Lr{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Jf(this,(r,n,i,s,o)=>e=e.replace(i,i+(n-r),o),!1),e}mapDesc(e,r=!1){return Kf(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,s=0;i<r.length;i+=2){let o=r[i],l=r[i+1];if(l>=0){r[i]=l,r[i+1]=o;let a=i>>1;for(;n.length<a;)n.push(le.empty);n.push(o?e.slice(s,s+o):le.empty)}s+=o}return new Ue(r,n)}compose(e){return this.empty?e:e.empty?this:t1(this,e,!0)}map(e,r=!1){return e.empty?this:Kf(this,e,r,!0)}iterChanges(e,r=!1){Jf(this,e,r)}get desc(){return Lr.create(this.sections)}filter(e){let r=[],n=[],i=[],s=new xl(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,a-l);ot(i,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;ot(r,u,h),h>0&&En(n,r,s.text),s.forward(u),l+=u}let c=e[o++];for(;l<c;){if(s.done)break e;let u=Math.min(s.len,c-l);ot(r,u,-1),ot(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),l+=u}}return{changes:new Ue(r,n),filtered:Lr.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],s=[],o=0,l=null;function a(u=!1){if(!u&&!i.length)return;o<r&&ot(i,r-o,-1);let h=new Ue(i,s);l=l?l.compose(h.map(l)):h,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Ue){if(u.length!=r)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${r})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:h,to:d=h,insert:f}=u;if(h>d||h<0||d>r)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${r})`);let p=f?typeof f=="string"?le.of(f.split(n||Hf)):f:le.empty,O=p.length;if(h==d&&O==0)return;h<o&&a(),h>o&&ot(i,h-o,-1),ot(i,d-h,O),En(s,i,p),o=d}}return c(e),a(!l),l}static empty(e){return new Ue(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")r.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)r.push(s[0],0);else{for(;n.length<i;)n.push(le.empty);n[i]=le.of(s.slice(1)),r.push(s[0],n[i].length)}}}return new Ue(r,n)}static createSet(e,r){return new Ue(e,r)}}function ot(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function En(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(le.empty);t.push(r)}}function Jf(t,e,r){let n=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let l=t.sections[o++],a=t.sections[o++];if(a<0)i+=l,s+=l;else{let c=i,u=s,h=le.empty;for(;c+=l,u+=a,a&&n&&(h=h.append(n[o-2>>1])),!(r||o==t.sections.length||t.sections[o+1]<0);)l=t.sections[o++],a=t.sections[o++];e(i,c,s,u,h),i=c,s=u}}}function Kf(t,e,r,n=!1){let i=[],s=n?[]:null,o=new xl(t),l=new xl(e);for(let a=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let c=Math.min(o.len,l.len);ot(i,c,-1),o.forward(c),l.forward(c)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!r))){let c=l.len;for(ot(i,l.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&a<o.i&&o.len<=u&&(ot(i,0,o.ins),s&&En(s,i,o.text),a=o.i),o.forward(u),c-=u}l.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(l.ins==-1){let h=Math.min(u,l.len);c+=h,u-=h,l.forward(h)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;ot(i,c,a<o.i?o.ins:0),s&&a<o.i&&En(s,i,o.text),a=o.i,o.forward(o.len-u)}else{if(o.done&&l.done)return s?Ue.createSet(i,s):Lr.create(i);throw new Error("Mismatched change set lengths")}}}function t1(t,e,r=!1){let n=[],i=r?[]:null,s=new xl(t),o=new xl(e);for(let l=!1;;){if(s.done&&o.done)return i?Ue.createSet(n,i):Lr.create(n);if(s.ins==0)ot(n,s.len,0,l),s.next();else if(o.len==0&&!o.done)ot(n,0,o.ins,l),i&&En(i,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,o.len),c=n.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;ot(n,a,u,l),i&&u&&En(i,n,o.text)}else o.ins==-1?(ot(n,s.off?0:s.len,a,l),i&&En(i,n,s.textBit(a))):(ot(n,s.off?0:s.len,o.off?0:o.ins,l),i&&!o.off&&En(i,n,o.text));l=(s.ins>a||o.ins>=0&&o.len>a)&&(l||n.length>c),s.forward2(a),o.forward(a)}}}}class xl{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?le.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?le.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class pi{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new pi(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return $.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return $.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return $.range(e.anchor,e.head)}static create(e,r,n){return new pi(e,r,n)}}class ${constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:$.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new $([this.main],0)}addRange(e,r=!0){return $.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,$.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $(e.ranges.map(r=>pi.fromJSON(r)),e.main)}static single(e,r=e){return new $([$.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return $.normalized(e.slice(),r);n=s.to}return new $(e,r)}static cursor(e,r=0,n,i){return pi.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,r,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return r<e?pi.create(r,e,48|s):pi.create(e,r,(r>e?8:0)|s)}static normalized(e,r=0){let n=e[r];e.sort((i,s)=>i.from-s.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,a=Math.max(s.to,o.to);i<=r&&r--,e.splice(--i,2,s.anchor>s.head?$.range(a,l):$.range(l,a))}}return new $(e,r)}}function r1(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let nO=0;class Z{constructor(e,r,n,i,s){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=nO++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Z(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:iO),!!e.static,e.enables)}of(e){return new dc([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new dc(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new dc(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function iO(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class dc{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=nO++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?c=!0:((r=e[h.id])!==null&&r!==void 0?r:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=n(h),1},update(h,d){if(a&&d.docChanged||c&&(d.docChanged||d.selection)||ep(h,u)){let f=n(h);if(l?!sy(f,h.values[o],i):!i(f,h.values[o]))return h.values[o]=f,1}return 0},reconfigure:(h,d)=>{let f,p=d.config.address[s];if(p!=null){let O=Jc(d,p);if(this.dependencies.every(y=>y instanceof Z?d.facet(y)===h.facet(y):y instanceof Fe?d.field(y,!1)==h.field(y,!1):!0)||(l?sy(f=n(h),O,i):i(f=n(h),O)))return h.values[o]=O,0}else f=n(h);return h.values[o]=f,1}}}}function sy(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function ep(t,e){let r=!1;for(let n of e)Go(t,n)&1&&(r=!0);return r}function Uj(t,e,r){let n=r.map(a=>t[a.id]),i=r.map(a=>a.type),s=n.filter(a=>!(a&1)),o=t[e.id]>>1;function l(a){let c=[];for(let u=0;u<n.length;u++){let h=Jc(a,n[u]);if(i[u]==2)for(let d of h)c.push(d);else c.push(h)}return e.combine(c)}return{create(a){for(let c of n)Go(a,c);return a.values[o]=l(a),1},update(a,c){if(!ep(a,s))return 0;let u=l(a);return e.compare(u,a.values[o])?0:(a.values[o]=u,1)},reconfigure(a,c){let u=ep(a,n),h=c.config.facets[e.id],d=c.facet(e);if(h&&!u&&iO(r,h))return a.values[o]=d,0;let f=l(a);return e.compare(f,d)?(a.values[o]=d,0):(a.values[o]=f,1)}}}const $a=Z.define({static:!0});class Fe{constructor(e,r,n,i,s){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let r=new Fe(nO++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet($a).find(n=>n.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let s=n.values[r],o=this.updateF(s,i);return this.compareF(s,o)?0:(n.values[r]=o,1)},reconfigure:(n,i)=>{let s=n.facet($a),o=i.facet($a),l;return(l=s.find(a=>a.field==this))&&l!=o.find(a=>a.field==this)?(n.values[r]=l.create(n),1):i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}}init(e){return[this,$a.of({field:this,create:e})]}get extension(){return this}}const ci={lowest:4,low:3,default:2,high:1,highest:0};function Oo(t){return e=>new n1(e,t)}const ti={highest:Oo(ci.highest),high:Oo(ci.high),default:Oo(ci.default),low:Oo(ci.low),lowest:Oo(ci.lowest)};class n1{constructor(e,r){this.inner=e,this.prec=r}}class th{of(e){return new tp(this,e)}reconfigure(e){return th.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class tp{constructor(e,r){this.compartment=e,this.inner=r}}class Hc{constructor(e,r,n,i,s,o){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],s=Object.create(null),o=new Map;for(let d of qj(e,r,o))d instanceof Fe?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let l=Object.create(null),a=[],c=[];for(let d of i)l[d.id]=c.length<<1,c.push(f=>d.slot(f));let u=n==null?void 0:n.config.facets;for(let d in s){let f=s[d],p=f[0].facet,O=u&&u[d]||[];if(f.every(y=>y.type==0))if(l[p.id]=a.length<<1|1,iO(O,f))a.push(n.facet(p));else{let y=p.combine(f.map(g=>g.value));a.push(n&&p.compare(y,n.facet(p))?n.facet(p):y)}else{for(let y of f)y.type==0?(l[y.id]=a.length<<1|1,a.push(y.value)):(l[y.id]=c.length<<1,c.push(g=>y.dynamicSlot(g)));l[p.id]=c.length<<1,c.push(y=>Uj(y,p,f))}}let h=c.map(d=>d(l));return new Hc(e,o,h,l,a,s)}}function qj(t,e,r){let n=[[],[],[],[],[]],i=new Map;function s(o,l){let a=i.get(o);if(a!=null){if(a<=l)return;let c=n[a].indexOf(o);c>-1&&n[a].splice(c,1),o instanceof tp&&r.delete(o.compartment)}if(i.set(o,l),Array.isArray(o))for(let c of o)s(c,l);else if(o instanceof tp){if(r.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;r.set(o.compartment,c),s(c,l)}else if(o instanceof n1)s(o.inner,o.prec);else if(o instanceof Fe)n[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof dc)n[l].push(o),o.facet.extensions&&s(o.facet.extensions,ci.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,l)}}return s(t,ci.default),n.reduce((o,l)=>o.concat(l))}function Go(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function Jc(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const i1=Z.define(),rp=Z.define({combine:t=>t.some(e=>e),static:!0}),s1=Z.define({combine:t=>t.length?t[0]:void 0,static:!0}),o1=Z.define(),l1=Z.define(),a1=Z.define(),c1=Z.define({combine:t=>t.length?t[0]:!1});class Zr{constructor(e,r){this.type=e,this.value=r}static define(){return new zj}}class zj{of(e){return new Zr(this,e)}}class Xj{constructor(e){this.map=e}of(e){return new J(this,e)}}class J{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new J(this.type,r)}is(e){return this.type==e}static define(e={}){return new Xj(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(r);s&&n.push(s)}return n}}J.reconfigure=J.define();J.appendConfig=J.define();class Ie{constructor(e,r,n,i,s,o){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&r1(n,r.newLength),s.some(l=>l.type==Ie.time)||(this.annotations=s.concat(Ie.time.of(Date.now())))}static create(e,r,n,i,s,o){return new Ie(e,r,n,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(Ie.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}Ie.time=Zr.define();Ie.userEvent=Zr.define();Ie.addToHistory=Zr.define();Ie.remote=Zr.define();function Wj(t,e){let r=[];for(let n=0,i=0;;){let s,o;if(n<t.length&&(i==e.length||e[i]>=t[n]))s=t[n++],o=t[n++];else if(i<e.length)s=e[i++],o=e[i++];else return r;!r.length||r[r.length-1]<s?r.push(s,o):r[r.length-1]<o&&(r[r.length-1]=o)}}function u1(t,e,r){var n;let i,s,o;return r?(i=e.changes,s=Ue.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:J.mapEffects(t.effects,i).concat(J.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function np(t,e,r){let n=e.selection,i=Ss(e.annotations);return e.userEvent&&(i=i.concat(Ie.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ue?e.changes:Ue.of(e.changes||[],r,t.facet(s1)),selection:n&&(n instanceof $?n:$.single(n.anchor,n.head)),effects:Ss(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function h1(t,e,r){let n=np(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(r=!1);let o=!!e[s].sequential;n=u1(n,np(t,e[s],o?n.changes.newLength:t.doc.length),o)}let i=Ie.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return Vj(r?Bj(i):i)}function Bj(t){let e=t.startState,r=!0;for(let i of e.facet(o1)){let s=i(t);if(s===!1){r=!1;break}Array.isArray(s)&&(r=r===!0?s:Wj(r,s))}if(r!==!0){let i,s;if(r===!1)s=t.changes.invertedDesc,i=Ue.empty(e.doc.length);else{let o=t.changes.filter(r);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Ie.create(e,i,t.selection&&t.selection.map(s),J.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let n=e.facet(l1);for(let i=n.length-1;i>=0;i--){let s=n[i](t);s instanceof Ie?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ie?t=s[0]:t=h1(e,Ss(s),!1)}return t}function Vj(t){let e=t.startState,r=e.facet(a1),n=t;for(let i=r.length-1;i>=0;i--){let s=r[i](t);s&&Object.keys(s).length&&(n=u1(n,np(e,s,t.changes.newLength),!0))}return n==t?t:Ie.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const Gj=[];function Ss(t){return t==null?Gj:Array.isArray(t)?t:[t]}var ke=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(ke||(ke={}));const Fj=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ip;try{ip=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Yj(t){if(ip)return ip.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Fj.test(r)))return!0}return!1}function Hj(t){return e=>{if(!/\S/.test(e))return ke.Space;if(Yj(e))return ke.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return ke.Word;return ke.Other}}class oe{constructor(e,r,n,i,s,o){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Go(this,l<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return Go(this,n),Jc(this,n)}update(...e){return h1(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let l of e.effects)l.is(th.reconfigure)?(r&&(i=new Map,r.compartments.forEach((a,c)=>i.set(c,a)),r=null),i.set(l.value.compartment,l.value.extension)):l.is(J.reconfigure)?(r=null,n=l.value):l.is(J.appendConfig)&&(r=null,n=Ss(n).concat(l.value));let s;r?s=e.startState.values.slice():(r=Hc.resolve(n,i,this),s=new oe(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(a,c)=>c.reconfigure(a,this),null).values);let o=e.startState.facet(rp)?e.newSelection:e.newSelection.asSingle();new oe(r,e.newDoc,o,s,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:$.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),s=[n.range],o=Ss(n.effects);for(let l=1;l<r.ranges.length;l++){let a=e(r.ranges[l]),c=this.changes(a.changes),u=c.map(i);for(let d=0;d<l;d++)s[d]=s[d].map(u);let h=i.mapDesc(c,!0);s.push(a.range.map(h)),i=i.compose(u),o=J.mapEffects(o,u).concat(J.mapEffects(Ss(a.effects),h))}return{changes:i,selection:$.create(s,r.mainIndex),effects:o}}changes(e=[]){return e instanceof Ue?e:Ue.of(e,this.doc.length,this.facet(oe.lineSeparator))}toText(e){return le.of(e.split(this.facet(oe.lineSeparator)||Hf))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(Go(this,r),Jc(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Fe&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],l=e[s];i.push(o.init(a=>o.spec.fromJSON(l,a)))}}return oe.create({doc:e.doc,selection:$.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=Hc.resolve(e.extensions||[],new Map),n=e.doc instanceof le?e.doc:le.of((e.doc||"").split(r.staticFacet(oe.lineSeparator)||Hf)),i=e.selection?e.selection instanceof $?e.selection:$.single(e.selection.anchor,e.selection.head):$.single(0);return r1(i,n.length),r.staticFacet(rp)||(i=i.asSingle()),new oe(r,n,i,r.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(oe.tabSize)}get lineBreak(){return this.facet(oe.lineSeparator)||`
`}get readOnly(){return this.facet(c1)}phrase(e,...r){for(let n of this.facet(oe.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>r.length?n:r[s-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let s of this.facet(i1))for(let o of s(this,r,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Hj(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,l=e-n;for(;o>0;){let a=tt(r,o,!1);if(s(r.slice(a,o))!=ke.Word)break;o=a}for(;l<i;){let a=tt(r,l);if(s(r.slice(l,a))!=ke.Word)break;l=a}return o==l?null:$.range(o+n,l+n)}}oe.allowMultipleSelections=rp;oe.tabSize=Z.define({combine:t=>t.length?t[0]:4});oe.lineSeparator=s1;oe.readOnly=c1;oe.phrases=Z.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});oe.languageData=i1;oe.changeFilter=o1;oe.transactionFilter=l1;oe.transactionExtender=a1;th.reconfigure=J.define();function Ur(t,e,r={}){let n={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],l=n[s];if(l===void 0)n[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(r,s))n[s]=r[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class $i{eq(e){return this==e}range(e,r=e){return sp.create(e,r,this)}}$i.prototype.startSide=$i.prototype.endSide=0;$i.prototype.point=!1;$i.prototype.mapMode=et.TrackDel;let sp=class d1{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new d1(e,r,n)}};function op(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class sO{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let s=n?this.to:this.from;for(let o=i,l=s.length;;){if(o==l)return o;let a=o+l>>1,c=s[a]-e||(n?this.value[a].endSide:this.value[a].startSide)-r;if(a==o)return c>=0?o:l;c>=0?l=a:o=a+1}}between(e,r,n,i){for(let s=this.findIndex(r,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,r){let n=[],i=[],s=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,h=this.to[a]+e,d,f;if(u==h){let p=r.mapPos(u,c.startSide,c.mapMode);if(p==null||(d=f=p,c.startSide!=c.endSide&&(f=r.mapPos(u,c.endSide),f<d)))continue}else if(d=r.mapPos(u,c.startSide),f=r.mapPos(h,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(l=Math.max(l,f-d)),n.push(c),i.push(d-o),s.push(f-o))}return{mapped:n.length?new sO(i,s,n,l):null,pos:o}}}class ae{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new ae(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(r.length==0&&!o)return this;if(n&&(r=r.slice().sort(op)),this.isEmpty)return r.length?ae.of(r):this;let l=new f1(this,null,-1).goto(0),a=0,c=[],u=new cn;for(;l.value||a<r.length;)if(a<r.length&&(l.from-r[a].from||l.startSide-r[a].value.startSide)>=0){let h=r[a++];u.addInner(h.from,h.to,h.value)||c.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==r.length||this.chunkEnd(l.chunkIndex)<r[a].from)&&(!o||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||i>l.to||s<l.from||o(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(sp.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?ae.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],c=e.touchesRange(l,l+a.length);if(c===!1)i=Math.max(i,a.maxPoint),r.push(a),n.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:h}=a.map(l,e);u&&(i=Math.max(i,u.maxPoint),r.push(u),n.push(h))}}let s=this.nextLayer.map(e);return r.length==0?s:new ae(n,r,s||ae.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(r>=s&&e<=s+o.length&&o.between(s,e-s,r-s,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return wl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return wl.from(e).goto(r)}static compare(e,r,n,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=r.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=oy(o,l,n),c=new mo(o,a,s),u=new mo(l,a,s);n.iterGaps((h,d,f)=>ly(c,h,u,d,f,i)),n.empty&&n.length==0&&ly(c,0,u,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&r.indexOf(u)<0),o=r.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=oy(s,o),a=new mo(s,l,0).goto(n),c=new mo(o,l,0).goto(n);for(;;){if(a.to!=c.to||!lp(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>i)return!0;a.next(),c.next()}}static spans(e,r,n,i,s=-1){let o=new mo(e,null,s).goto(r),l=r,a=o.openStart;for(;;){let c=Math.min(o.to,n);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<r?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,a);i.point(l,c,o.point,u,h,o.pointRank),a=Math.min(o.openEnd(c),u.length)}else c>l&&(i.span(l,c,o.active,a),a=o.openEnd(c));if(o.to>n)return a+(o.point&&o.to>n?1:0);l=o.to,o.next()}}static of(e,r=!1){let n=new cn;for(let i of e instanceof sp?[e]:r?Jj(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return ae.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=ae.empty;i=i.nextLayer)r=new ae(i.chunkPos,i.chunk,r,Math.max(i.maxPoint,r.maxPoint));return r}}ae.empty=new ae([],[],null,-1);function Jj(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(op(e,n)>0)return t.slice().sort(op);e=n}return t}ae.empty.nextLayer=ae.empty;class cn{finishChunk(e){this.chunks.push(new sO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new cn)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(ae.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=ae.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function oy(t,e,r){let n=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=n.get(s.chunk[o]);l!=null&&(r?r.mapPos(l):l)==s.chunkPos[o]&&!(r!=null&&r.touchesRange(l,l+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class f1{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class wl{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new f1(o,r,n,s));return i.length==1?i[0]:new wl(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)rd(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)rd(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),rd(this.heap,0)}}}function rd(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}class mo{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=wl.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){_a(this.active,e),_a(this.activeTo,e),_a(this.activeRank,e),this.minActive=ay(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:s}=this.cursor;for(;r<this.activeRank.length&&(s-this.activeRank[r]||i-this.activeTo[r])>0;)r++;Ca(this.active,r,n),Ca(this.activeTo,r,i),Ca(this.activeRank,r,s),e&&Ca(e,r,this.cursor.from),this.minActive=ay(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&_a(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function ly(t,e,r,n,i,s){t.goto(e),r.goto(n);let o=n+i,l=n,a=n-e;for(;;){let c=t.to+a-r.to,u=c||t.endSide-r.endSide,h=u<0?t.to+a:r.to,d=Math.min(h,o);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&lp(t.activeForPoint(t.to),r.activeForPoint(r.to))||s.comparePoint(l,d,t.point,r.point):d>l&&!lp(t.active,r.active)&&s.compareRange(l,d,t.active,r.active),h>o)break;(c||t.openEnd!=r.openEnd)&&s.boundChange&&s.boundChange(h),l=h,u<=0&&t.next(),u>=0&&r.next()}}function lp(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function _a(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function Ca(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function ay(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}function Js(t,e,r=t.length){let n=0;for(let i=0;i<r&&i<t.length;)t.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=tt(t,i));return n}function ap(t,e,r,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?r-s%r:1,i=tt(t,i)}return n===!0?-1:t.length}const cp="",cy=typeof Symbol>"u"?"__"+cp:Symbol.for(cp),up=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Wn{constructor(e,r){this.rules=[];let{finish:n}=r||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,a,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&l==null)return a.push(o[0]+";");for(let f in l){let p=l[f];if(/&/.test(f))s(f.split(/,\s*/).map(O=>o.map(y=>O.replace(/&/,y))).reduce((O,y)=>O.concat(y)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(i(f),p,u,d)}else p!=null&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())+": "+p+";")}(u.length||d)&&a.push((n&&!h&&!c?o.map(n):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=uy[cy]||1;return uy[cy]=e+1,cp+e.toString(36)}static mount(e,r,n){let i=e[up],s=n&&n.nonce;i?s&&i.setNonce(s):i=new Kj(e,s),i.mount(Array.isArray(r)?r:[r],e)}}let hy=new Map;class Kj{constructor(e,r){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=hy.get(n);if(s)return e[up]=s;this.sheet=new i.CSSStyleSheet,hy.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[up]=this}mount(e,r){let n=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let l=e[o],a=this.modules.indexOf(l);if(a<s&&a>-1&&(this.modules.splice(a,1),s--,a=-1),a==-1){if(this.modules.splice(s++,0,l),n)for(let c=0;c<l.rules.length;c++)n.insertRule(l.rules[c],i++)}else{for(;s<a;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o;let l=r.head||r;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Bn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eD=typeof navigator<"u"&&/Mac/.test(navigator.platform),tD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ke=0;Ke<10;Ke++)Bn[48+Ke]=Bn[96+Ke]=String(Ke);for(var Ke=1;Ke<=24;Ke++)Bn[Ke+111]="F"+Ke;for(var Ke=65;Ke<=90;Ke++)Bn[Ke]=String.fromCharCode(Ke+32),bl[Ke]=String.fromCharCode(Ke);for(var nd in Bn)bl.hasOwnProperty(nd)||(bl[nd]=Bn[nd]);function rD(t){var e=eD&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||tD&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?bl:Bn)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function kl(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function hp(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function fc(t,e){if(!e.anchorNode)return!1;try{return hp(t,e.anchorNode)}catch{return!1}}function Ns(t){return t.nodeType==3?Ci(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Fo(t,e,r,n){return r?dy(t,e,r,n,-1)||dy(t,e,r,n,1):!1}function _i(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Kc(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function dy(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Mr(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=_i(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Mr(t):0}else return!1}}function Mr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Gl(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function nD(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function p1(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function iD(t,e,r,n,i,s,o,l){let a=t.ownerDocument,c=a.defaultView||window;for(let u=t,h=!1;u&&!h;)if(u.nodeType==1){let d,f=u==a.body,p=1,O=1;if(f)d=nD(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let m=u.getBoundingClientRect();({scaleX:p,scaleY:O}=p1(u,m)),d={left:m.left,right:m.left+u.clientWidth*p,top:m.top,bottom:m.top+u.clientHeight*O}}let y=0,g=0;if(i=="nearest")e.top<d.top?(g=e.top-(d.top+o),r>0&&e.bottom>d.bottom+g&&(g=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(g=e.bottom-d.bottom+o,r<0&&e.top-g<d.top&&(g=e.top-(d.top+o)));else{let m=e.bottom-e.top,S=d.bottom-d.top;g=(i=="center"&&m<=S?e.top+m/2-S/2:i=="start"||i=="center"&&r<0?e.top-o:e.bottom-S+o)-d.top}if(n=="nearest"?e.left<d.left?(y=e.left-(d.left+s),r>0&&e.right>d.right+y&&(y=e.right-d.right+s)):e.right>d.right&&(y=e.right-d.right+s,r<0&&e.left<d.left+y&&(y=e.left-(d.left+s))):y=(n=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:n=="start"==l?e.left-s:e.right-(d.right-d.left)+s)-d.left,y||g)if(f)c.scrollBy(y,g);else{let m=0,S=0;if(g){let b=u.scrollTop;u.scrollTop+=g/O,S=(u.scrollTop-b)*O}if(y){let b=u.scrollLeft;u.scrollLeft+=y/p,m=(u.scrollLeft-b)*p}e={left:e.left-m,top:e.top-S,right:e.right-m,bottom:e.bottom-S},m&&Math.abs(m-y)<1&&(n="nearest"),S&&Math.abs(S-g)<1&&(i="nearest")}if(f)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function sD(t){let e=t.ownerDocument,r,n;for(let i=t.parentNode;i&&!(i==e.body||r&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!r&&i.scrollWidth>i.clientWidth&&(r=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:r,y:n}}class oD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?Mr(r):0),n,Math.min(e.focusOffset,n?Mr(n):0))}set(e,r,n,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=i}}let Wi=null;function g1(t){if(t.setActive)return t.setActive();if(Wi)return t.focus(Wi);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(Wi==null?{get preventScroll(){return Wi={preventScroll:!0},!0}}:void 0),!Wi){Wi=!1;for(let r=0;r<e.length;){let n=e[r++],i=e[r++],s=e[r++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let fy;function Ci(t,e,r=e){let n=fy||(fy=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function xs(t,e,r,n){let i={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function lD(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function O1(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function aD(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,Mr(r));;)if(n){if(r.nodeType!=1)return!1;let i=r.childNodes[n-1];i.contentEditable=="false"?n--:(r=i,n=Mr(r))}else{if(r==t)return!0;n=_i(r),r=r.parentNode}}function m1(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function y1(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=Mr(r)}else if(r.parentNode&&!Kc(r))n=_i(r),r=r.parentNode;else return null}}function v1(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!Kc(r))n=_i(r)+1,r=r.parentNode;else return null}}class at{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new at(e.parentNode,_i(e),r)}static after(e,r){return new at(e.parentNode,_i(e)+1,r)}}const oO=[];class pe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let n=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:n.firstChild)){let l=pe.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,r),o.flags&=-8}if(s=i?i.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&s!=o.dom&&(r.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=py(s);else n.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:n.firstChild,s&&r&&r.node==n&&(r.written=!0);s;)s=py(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,r),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let i=Mr(e)==0?0:r==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!pe.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,r,n=0){let i=-1,s=-1,o=-1,l=-1;for(let a=0,c=n,u=n;a<this.children.length;a++){let h=this.children[a],d=c+h.length;if(c<e&&d>r)return h.domBoundsAround(e,r,c);if(d>=e&&i==-1&&(i=a,s=c),c>r&&h.dom.parentNode==this.dom){o=a,l=u;break}u=d,c=d+h.breakAfter}return{from:s,to:l<0?n+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=oO){this.markDirty();for(let i=e;i<r;i++){let s=this.children[i];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,r-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(r));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new S1(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}pe.prototype.breakAfter=0;function py(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class S1{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function x1(t,e,r,n,i,s,o,l,a){let{children:c}=t,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==n&&u&&!o&&!d&&s.length<2&&u.merge(r,i,s.length?h:null,r==0,l,a))){if(n<c.length){let f=c[n];f&&(i<f.length||f.breakAfter&&(h!=null&&h.breakAfter))?(e==n&&(f=f.split(i),i=0),!d&&h&&f.merge(0,i,h,!0,0,a)?s[s.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,a),s.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:o=1),n++}for(u&&(u.breakAfter=o,r>0&&(!o&&s.length&&u.merge(r,u.length,s[0],!1,l,0)?u.breakAfter=s.shift().breakAfter:(r<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(r,u.length,null,!1,l,0),e++));e<n&&s.length;)if(c[n-1].become(s[s.length-1]))n--,s.pop(),a=s.length?0:l;else if(c[e].become(s[0]))e++,s.shift(),l=s.length?0:a;else break;!s.length&&e&&n<c.length&&!c[e-1].breakAfter&&c[n].merge(0,0,c[e-1],!1,l,a)&&e--,(e<n||s.length)&&t.replaceChildren(e,n,s)}}function w1(t,e,r,n,i,s){let o=t.childCursor(),{i:l,off:a}=o.findPos(r,1),{i:c,off:u}=o.findPos(e,-1),h=e-r;for(let d of n)h+=d.length;t.length+=h,x1(t,c,u,l,a,n,0,i,s)}let kt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},dp=typeof document<"u"?document:{documentElement:{style:{}}};const fp=/Edge\/(\d+)/.exec(kt.userAgent),b1=/MSIE \d/.test(kt.userAgent),pp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kt.userAgent),rh=!!(b1||pp||fp),gy=!rh&&/gecko\/(\d+)/i.test(kt.userAgent),id=!rh&&/Chrome\/(\d+)/.exec(kt.userAgent),cD="webkitFontSmoothing"in dp.documentElement.style,k1=!rh&&/Apple Computer/.test(kt.vendor),Oy=k1&&(/Mobile\/\w+/.test(kt.userAgent)||kt.maxTouchPoints>2);var q={mac:Oy||/Mac/.test(kt.platform),windows:/Win/.test(kt.platform),linux:/Linux|X11/.test(kt.platform),ie:rh,ie_version:b1?dp.documentMode||6:pp?+pp[1]:fp?+fp[1]:0,gecko:gy,gecko_version:gy?+(/Firefox\/(\d+)/.exec(kt.userAgent)||[0,0])[1]:0,chrome:!!id,chrome_version:id?+id[1]:0,ios:Oy,android:/Android\b/.test(kt.userAgent),safari:k1,webkit_version:cD?+(/\bAppleWebKit\/(\d+)/.exec(kt.userAgent)||[0,0])[1]:0,tabSize:dp.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const uD=256;class yr extends pe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return this.flags&8||n&&(!(n instanceof yr)||this.length-(r-e)+n.length>uD||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new yr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new at(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return hD(this.dom,e,r)}}class un extends pe{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let i of r)i.setParent(this)}setAttrs(e){if(O1(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,i,s,o){return n&&(!(n instanceof un&&n.mark.eq(this.mark))||e&&s<=0||r<this.length&&o<=0)?!1:(w1(this,e,r,n?n.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let r=[],n=0,i=-1,s=0;for(let l of this.children){let a=n+l.length;a>e&&r.push(n<e?l.split(e-n):l),i<0&&n>=e&&(i=s),n=a,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new un(this.mark,r,o)}domAtPos(e){return Q1(this,e)}coordsAt(e,r){return T1(this,e,r)}}function hD(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let i=e,s=e,o=0;e==0&&r<0||e==n&&r>=0?q.chrome||q.gecko||(e?(i--,o=1):s<n&&(s++,o=-1)):r<0?i--:s<n&&s++;let l=Ci(t,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:r>=0)?0:l.length-1];return q.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),o?Gl(a,o<0):a||null}class Rn extends pe{static create(e,r,n){return new Rn(e,r,n)}constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}split(e){let r=Rn.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,n,i,s,o){return n&&(!(n instanceof Rn)||!this.widget.compare(n.widget)||e>0&&s<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof Rn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return le.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):le.empty}domAtPos(e){return(this.length?e==0:this.side>0)?at.before(this.dom):at.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?i.length-1:0;s=i[l],!(e>0?l==0:l==i.length-1||s.top<s.bottom);l+=o?-1:1);return Gl(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Is extends pe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Is&&e.side==this.side}split(){return new Is(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?at.before(this.dom):at.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return le.empty}get isHidden(){return!0}}yr.prototype.children=Rn.prototype.children=Is.prototype.children=oO;function Q1(t,e){let r=t.dom,{children:n}=t,i=0;for(let s=0;i<n.length;i++){let o=n[i],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==r)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=i;s>0;s--){let o=n[s-1];if(o.dom.parentNode==r)return o.domAtPos(o.length)}for(let s=i;s<n.length;s++){let o=n[s];if(o.dom.parentNode==r)return o.domAtPos(0)}return new at(r,0)}function P1(t,e,r){let n,{children:i}=t;r>0&&e instanceof un&&i.length&&(n=i[i.length-1])instanceof un&&n.mark.eq(e.mark)?P1(n,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function T1(t,e,r){let n=null,i=-1,s=null,o=-1;function l(c,u){for(let h=0,d=0;h<c.children.length&&d<=u;h++){let f=c.children[h],p=d+f.length;p>=u&&(f.children.length?l(f,u-d):(!s||s.isHidden&&(r>0||fD(s,f)))&&(p>u||d==p&&f.getSide()>0)?(s=f,o=u-d):(d<u||d==p&&f.getSide()<0&&!f.isHidden)&&(n=f,i=u-d)),d=p}}l(t,e);let a=(r<0?n:s)||n||s;return a?a.coordsAt(Math.max(0,a==n?i:o),r):dD(t)}function dD(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=Ns(e);return r[r.length-1]||null}function fD(t,e){let r=t.coordsAt(0,1),n=e.coordsAt(0,1);return r&&n&&n.top<r.bottom}function gp(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const my=Object.create(null);function eu(t,e,r){if(t==e)return!0;t||(t=my),e||(e=my);let n=Object.keys(t),i=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let s of n)if(s!=r&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Op(t,e,r){let n=!1;if(e)for(let i in e)r&&i in r||(n=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(r)for(let i in r)e&&e[i]==r[i]||(n=!0,i=="style"?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n}function pD(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}class qr{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Ot=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ot||(Ot={}));class W extends $i{constructor(e,r,n,i){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Fl(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new Vn(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:o}=$1(e,r);n=(s?r?-3e8:-1:5e8)-1,i=(o?r?2e8:1:-6e8)+1}return new Vn(e,n,i,r,e.widget||null,!0)}static line(e){return new Yl(e)}static set(e,r=!1){return ae.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}W.none=ae.empty;class Fl extends W{constructor(e){let{start:r,end:n}=$1(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,n;return this==e||e instanceof Fl&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&eu(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Fl.prototype.point=!1;class Yl extends W{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Yl&&this.spec.class==e.spec.class&&eu(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Yl.prototype.mapMode=et.TrackBefore;Yl.prototype.point=!0;class Vn extends W{constructor(e,r,n,i,s,o){super(r,n,s,e),this.block=i,this.isReplace=o,this.mapMode=i?r<=0?et.TrackBefore:et.TrackAfter:et.TrackDel}get type(){return this.startSide!=this.endSide?Ot.WidgetRange:this.startSide<=0?Ot.WidgetBefore:Ot.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Vn&&gD(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}Vn.prototype.point=!0;function $1(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function gD(t,e){return t==e||!!(t&&e&&t.compare(e))}function pc(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class je extends pe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,i,s,o){if(n){if(!(n instanceof je))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),w1(this,e,r,n?n.children.slice():[],s,o),!0}split(e){let r=new je;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:i}=this.childPos(e);i&&(r.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)r.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){eu(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){P1(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=gp(r,this.attrs||{})),n&&(this.attrs=gp({class:n},this.attrs||{}))}domAtPos(e){return Q1(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var n;this.dom?this.flags&4&&(O1(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Op(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&pe.get(i)instanceof un;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=pe.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!q.ios||!this.children.some(s=>s instanceof yr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof yr)||/[^ -~]/.test(n.text))return null;let i=Ns(n.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=T1(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof je&&this.children.length==0&&e.children.length==0&&eu(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],o=i+s.length;if(o>=r){if(s instanceof je)return s;if(o>r)break}i=o+s.breakAfter}return null}}class nn extends pe{constructor(e,r,n){super(),this.widget=e,this.length=r,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,i,s,o){return n&&(!(n instanceof nn)||!this.widget.compare(n.widget)||e>0&&s<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?at.before(this.dom):at.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new nn(this.widget,r,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return oO}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):le.empty}domBoundsAround(){return null}become(e){return e instanceof nn&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);return n||(this.widget instanceof mp?null:Gl(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:n}=this.deco;return r==n?!1:e<0?r<0:n>0}}class mp extends qr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Yo{constructor(e,r,n,i){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof nn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new je),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ea(new Is(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof nn)&&this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(Ea(new yr(this.text.slice(this.textOff,this.textOff+i)),r),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,r,n,i){this.buildText(r-e,n,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,n,i,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Vn){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=r-e;if(n instanceof Vn)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new nn(n.widget||Ls.block,l,n));else{let a=Rn.create(n.widget||Ls.inline,l,l?0:n.startSide),c=this.atCursorPos&&!a.isEditable&&s<=i.length&&(e<r||n.startSide>0),u=!a.isEditable&&(e<r||s>i.length||n.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(Ea(new Is(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(Ea(a,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<r||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=s)}static build(e,r,n,i,s){let o=new Yo(e,r,n,s);return o.openEnd=ae.spans(i,r,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Ea(t,e){for(let r of e)t=new un(r,[t],t.length);return t}class Ls extends qr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ls.inline=new Ls("span");Ls.block=new Ls("div");var we=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(we||(we={}));const Ei=we.LTR,lO=we.RTL;function _1(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const OD=_1("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mD=_1("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),yp=Object.create(null),wr=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);yp[e]=r,yp[r]=-e}function C1(t){return t<=247?OD[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?mD[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const yD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class An{get dir(){return this.level%2?lO:Ei}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,i){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=r&&l.to>=r){if(l.level==n)return o;(s<0||(i!=0?i<0?l.from<r:l.to>r:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function E1(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!E1(n.inner,i.inner))return!1}return!0}const fe=[];function vD(t,e,r,n,i){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,l=s<n.length?n[s].from:r,a=s?256:i;for(let c=o,u=a,h=a;c<l;c++){let d=C1(t.charCodeAt(c));d==512?d=u:d==8&&h==4&&(d=16),fe[c]=d==4?2:d,d&7&&(h=d),u=d}for(let c=o,u=a,h=a;c<l;c++){let d=fe[c];if(d==128)c<l-1&&u==fe[c+1]&&u&24?d=fe[c]=u:fe[c]=256;else if(d==64){let f=c+1;for(;f<l&&fe[f]==64;)f++;let p=c&&u==8||f<r&&fe[f]==8?h==1?1:8:256;for(let O=c;O<f;O++)fe[O]=p;c=f-1}else d==8&&h==1&&(fe[c]=1);u=d,d&7&&(h=d)}}}function SD(t,e,r,n,i){let s=i==1?2:1;for(let o=0,l=0,a=0;o<=n.length;o++){let c=o?n[o-1].to:e,u=o<n.length?n[o].from:r;for(let h=c,d,f,p;h<u;h++)if(f=yp[d=t.charCodeAt(h)])if(f<0){for(let O=l-3;O>=0;O-=3)if(wr[O+1]==-f){let y=wr[O+2],g=y&2?i:y&4?y&1?s:i:0;g&&(fe[h]=fe[wr[O]]=g),l=O;break}}else{if(wr.length==189)break;wr[l++]=h,wr[l++]=d,wr[l++]=a}else if((p=fe[h])==2||p==1){let O=p==i;a=O?0:1;for(let y=l-3;y>=0;y-=3){let g=wr[y+2];if(g&2)break;if(O)wr[y+2]|=2;else{if(g&4)break;wr[y+2]|=4}}}}}function xD(t,e,r,n){for(let i=0,s=n;i<=r.length;i++){let o=i?r[i-1].to:t,l=i<r.length?r[i].from:e;for(let a=o;a<l;){let c=fe[a];if(c==256){let u=a+1;for(;;)if(u==l){if(i==r.length)break;u=r[i++].to,l=i<r.length?r[i].from:e}else if(fe[u]==256)u++;else break;let h=s==1,d=(u<e?fe[u]:n)==1,f=h==d?h?1:2:n;for(let p=u,O=i,y=O?r[O-1].to:t;p>a;)p==y&&(p=r[--O].from,y=O?r[O-1].to:t),fe[--p]=f;a=u}else s=c,a++}}}function vp(t,e,r,n,i,s,o){let l=n%2?2:1;if(n%2==i%2)for(let a=e,c=0;a<r;){let u=!0,h=!1;if(c==s.length||a<s[c].from){let O=fe[a];O!=l&&(u=!1,h=O==16)}let d=!u&&l==1?[]:null,f=u?n:n+1,p=a;e:for(;;)if(c<s.length&&p==s[c].from){if(h)break e;let O=s[c];if(!u)for(let y=O.to,g=c+1;;){if(y==r)break e;if(g<s.length&&s[g].from==y)y=s[g++].to;else{if(fe[y]==l)break e;break}}if(c++,d)d.push(O);else{O.from>a&&o.push(new An(a,O.from,f));let y=O.direction==Ei!=!(f%2);Sp(t,y?n+1:n,i,O.inner,O.from,O.to,o),a=O.to}p=O.to}else{if(p==r||(u?fe[p]!=l:fe[p]==l))break;p++}d?vp(t,a,p,n+1,i,d,o):a<p&&o.push(new An(a,p,f)),a=p}else for(let a=r,c=s.length;a>e;){let u=!0,h=!1;if(!c||a>s[c-1].to){let O=fe[a-1];O!=l&&(u=!1,h=O==16)}let d=!u&&l==1?[]:null,f=u?n:n+1,p=a;e:for(;;)if(c&&p==s[c-1].to){if(h)break e;let O=s[--c];if(!u)for(let y=O.from,g=c;;){if(y==e)break e;if(g&&s[g-1].to==y)y=s[--g].from;else{if(fe[y-1]==l)break e;break}}if(d)d.push(O);else{O.to<a&&o.push(new An(O.to,a,f));let y=O.direction==Ei!=!(f%2);Sp(t,y?n+1:n,i,O.inner,O.from,O.to,o),a=O.from}p=O.from}else{if(p==e||(u?fe[p-1]!=l:fe[p-1]==l))break;p--}d?vp(t,p,a,n+1,i,d,o):p<a&&o.push(new An(p,a,f)),a=p}}function Sp(t,e,r,n,i,s,o){let l=e%2?2:1;vD(t,i,s,n,l),SD(t,i,s,n,l),xD(i,s,n,l),vp(t,i,s,e,r,n,o)}function wD(t,e,r){if(!t)return[new An(0,0,e==lO?1:0)];if(e==Ei&&!r.length&&!yD.test(t))return R1(t.length);if(r.length)for(;t.length>fe.length;)fe[fe.length]=256;let n=[],i=e==Ei?0:1;return Sp(t,i,i,r,0,t.length,n),n}function R1(t){return[new An(0,t,0)]}let A1="";function bD(t,e,r,n,i){var s;let o=n.head-t.from,l=An.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),a=e[l],c=a.side(i,r);if(o==c){let d=l+=i?1:-1;if(d<0||d>=e.length)return null;a=e[l=d],o=a.side(!i,r),c=a.side(i,r)}let u=tt(t.text,o,a.forward(i,r));(u<a.from||u>a.to)&&(u=c),A1=t.text.slice(Math.min(o,u),Math.max(o,u));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<a.level?$.cursor(h.side(!i,r)+t.from,h.forward(i,r)?1:-1,h.level):$.cursor(u+t.from,a.forward(i,r)?-1:1,a.level)}function kD(t,e,r){for(let n=e;n<r;n++){let i=C1(t.charCodeAt(n));if(i==1)return Ei;if(i==2||i==4)return lO}return Ei}const j1=Z.define(),D1=Z.define(),N1=Z.define(),I1=Z.define(),xp=Z.define(),L1=Z.define(),M1=Z.define(),aO=Z.define(),cO=Z.define(),Z1=Z.define({combine:t=>t.some(e=>e)}),U1=Z.define({combine:t=>t.some(e=>e)}),q1=Z.define();class ws{constructor(e,r="nearest",n="nearest",i=5,s=5,o=!1){this.range=e,this.y=r,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new ws(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ws($.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ra=J.define({map:(t,e)=>t.map(e)}),z1=J.define();function Tt(t,e,r){let n=t.facet(I1);n.length?n[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const Kr=Z.define({combine:t=>t.length?t[0]:!0});let QD=0;const $o=Z.define();class Re{constructor(e,r,n,i,s){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=i,this.extension=s(this)}static define(e,r){const{eventHandlers:n,eventObservers:i,provide:s,decorations:o}=r||{};return new Re(QD++,e,n,i,l=>{let a=[$o.of(l)];return o&&a.push(Ql.of(c=>{let u=c.plugin(l);return u?o(u):W.none})),s&&a.push(s(l)),a})}static fromClass(e,r){return Re.define(n=>new e(n),r)}}class sd{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(Tt(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){Tt(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){Tt(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const X1=Z.define(),uO=Z.define(),Ql=Z.define(),W1=Z.define(),hO=Z.define(),B1=Z.define();function yy(t,e){let r=t.state.facet(B1);if(!r.length)return r;let n=r.map(s=>s instanceof Function?s(t):s),i=[];return ae.spans(n,e.from,e.to,{point(){},span(s,o,l,a){let c=s-e.from,u=o-e.from,h=i;for(let d=l.length-1;d>=0;d--,a--){let f=l[d].spec.bidiIsolate,p;if(f==null&&(f=kD(e.text,c,u)),a>0&&h.length&&(p=h[h.length-1]).to==c&&p.direction==f)p.to=u,h=p.inner;else{let O={from:c,to:u,direction:f,inner:[]};h.push(O),h=O.inner}}}}),i}const V1=Z.define();function dO(t){let e=0,r=0,n=0,i=0;for(let s of t.state.facet(V1)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(r=Math.max(r,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:r,top:n,bottom:i}}const _o=Z.define();class tr{constructor(e,r,n,i){this.fromA=e,this.toA=r,this.fromB=n,this.toB=i}join(e){return new tr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let i=0,s=0,o=0,l=0;;i++){let a=i==e.length?null:e[i],c=o-l,u=a?a.fromB:1e9;for(;s<r.length&&r[s]<u;){let h=r[s],d=r[s+1],f=Math.max(l,h),p=Math.min(u,d);if(f<=p&&new tr(f+c,p+c,f,p).addToSet(n),d>u)break;s+=2}if(!a)return n;new tr(a.fromA,a.toA,a.fromB,a.toB).addToSet(n),o=a.toA,l=a.toB}}}class tu{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Ue.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,l,a)=>i.push(new tr(s,o,l,a))),this.changedRanges=i}static create(e,r,n){return new tu(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vy extends pe{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=W.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new je],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new tr(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?i=this.domChanged.newSel.head:!RD(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?TD(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;n=new tr(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(q.ie||q.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),a=CD(o,l,e.changes);return n=tr.extendWithRanges(n,a),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=q.chrome||q.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof nn&&o.widget instanceof mp&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,r,n){let i=n?n.range.addToSet(e.slice()):e,s=this.childCursor(r);for(let o=i.length-1;;o--){let l=o>=0?i[o]:null;if(!l)break;let{fromA:a,toA:c,fromB:u,toB:h}=l,d,f,p,O;if(n&&n.range.fromB<h&&n.range.toB>u){let b=Yo.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),x=Yo.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);f=b.breakAtStart,p=b.openStart,O=x.openEnd;let Q=this.compositionView(n);x.breakAtStart?Q.breakAfter=1:x.content.length&&Q.merge(Q.length,Q.length,x.content[0],!1,x.openStart,0)&&(Q.breakAfter=x.content[0].breakAfter,x.content.shift()),b.content.length&&Q.merge(0,0,b.content[b.content.length-1],!0,0,b.openEnd)&&b.content.pop(),d=b.content.concat(Q).concat(x.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:O}=Yo.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:y,off:g}=s.findPos(c,1),{i:m,off:S}=s.findPos(a,-1);x1(this,m,S,y,g,d,f,p,O)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(z1)&&(this.editContextFormatting=n.value)}compositionView(e){let r=new yr(e.text.nodeValue);r.flags|=8;for(let{deco:i}of e.marks)r=new un(i,[r],r.length);let n=new je;return n.append(r,0),n}fixCompositionDOM(e){let r=(s,o)=>{o.flags|=8|(o.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(o);let l=pe.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];r(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)n=i.childPos(n.off,1),i=i.children[n.i],r(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,s=!i&&!(this.view.state.facet(Kr)||this.dom.tabIndex>-1)&&fc(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||r||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),c=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(q.gecko&&l.empty&&!this.hasComposition&&PD(a)){let h=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(h,a.node.childNodes[a.offset]||null)),a=c=new at(h,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!Fo(a.node,a.offset,u.anchorNode,u.anchorOffset)||!Fo(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,l))&&(this.view.observer.ignore(()=>{q.android&&q.chrome&&this.dom.contains(u.focusNode)&&ED(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=kl(this.view.root);if(h)if(l.empty){if(q.gecko){let d=$D(a.node,a.offset);if(d&&d!=3){let f=(d==1?y1:v1)(a.node,a.offset);f&&(a=new at(f.node,f.offset))}}h.collapse(a.node,a.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(a.node,a.offset);try{h.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();l.anchor>l.head&&([a,c]=[c,a]),d.setEnd(c.node,c.offset),d.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new at(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new at(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&Fo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=kl(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let o=je.find(this,r.head);if(!o)return;let l=o.posAtStart;if(r.head==l||r.head==l+o.length)return;let a=this.coordsAt(r.head,-1),c=this.coordsAt(r.head,1);if(!a||!c||a.bottom>c.top)return;let u=this.domAtPos(r.head+r.assoc);n.collapse(u.node,u.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=r.from&&n.collapse(i,s)}moveToLine(e){let r=this.dom,n;if(e.node!=r)return e;for(let i=e.offset;!n&&i<r.childNodes.length;i++){let s=pe.get(r.childNodes[i]);s instanceof je&&(n=s.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let s=pe.get(r.childNodes[i]);s instanceof je&&(n=s.domAtPos(s.length))}return n?new at(n.node,n.offset,!0):e}nearest(e){for(let r=e;r;){let n=pe.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(n<i.length||i instanceof je)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){let n=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],a=s-l.breakAfter,c=a-l.length;if(a<e)break;if(c<=e&&(c<e||l.covers(-1))&&(a>e||l.covers(1))&&(!n||l instanceof je&&!(n instanceof je&&r>=0)))n=l,i=c;else if(n&&c==e&&a==e&&l instanceof nn&&Math.abs(r)<2){if(l.deco.startSide<0)break;o&&(n=null)}s=c}return n?n.coordsAt(e-i,r):null}coordsForChar(e){let{i:r,off:n}=this.childPos(e,1),i=this.children[r];if(!(i instanceof je))return null;for(;i.children.length;){let{i:l,off:a}=i.childPos(n,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}n=a}if(!(i instanceof yr))return null;let s=tt(i.text,n);if(s==n)return null;let o=Ci(i.dom,n,s).getClientRects();for(let l=0;l<o.length;l++){let a=o[l];if(l==o.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let r=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==we.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>i)break;if(c>=n){let f=h.dom.getBoundingClientRect();if(r.push(f.height),o){let p=h.dom.lastChild,O=p?Ns(p):[];if(O.length){let y=O[O.length-1],g=a?y.right-f.left:f.right-y.left;g>l&&(l=g,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?we.RTL:we.LTR}measureTextSize(){for(let s of this.children)if(s instanceof je){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),r,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Ns(e.firstChild)[0];r=e.getBoundingClientRect().height,n=s?s.width/27:7,i=s?s.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new S1(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,i=0;;i++){let s=i==r.viewports.length?null:r.viewports[i],o=s?s.from-1:this.length;if(o>n){let l=(r.lineBlockAt(o).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(W.replace({widget:new mp(l),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return W.set(e)}updateDeco(){let e=1,r=this.view.state.facet(Ql).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(W1).map((s,o)=>{let l=typeof s=="function";return l&&(n=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,r.push(ae.join(i))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(q1))try{if(c(this.view,e.range,e))return!0}catch(u){Tt(this.view.state,u,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!n)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=dO(this.view),o={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;iD(this.view.scrollDOM,o,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==we.LTR)}}function PD(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function G1(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=y1(r.focusNode,r.focusOffset),i=v1(r.focusNode,r.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let l=pe.get(i.node);if(!l||l instanceof yr&&l.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let a=pe.get(n.node);!a||a instanceof yr&&a.text!=n.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function TD(t,e,r){let n=G1(t,r);if(!n)return null;let{node:i,from:s,to:o}=n,l=i.nodeValue;if(/[\n\r]/.test(l)||t.state.doc.sliceString(n.from,n.to)!=l)return null;let a=e.invertedDesc,c=new tr(a.mapPos(s),a.mapPos(o),s,o),u=[];for(let h=i.parentNode;;h=h.parentNode){let d=pe.get(h);if(d instanceof un)u.push({node:h,deco:d.mark});else{if(d instanceof je||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=t.contentDOM)u.push({node:h,deco:new Fl({inclusive:!0,attributes:pD(h),tagName:h.tagName.toLowerCase()})});else return null}}}function $D(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let _D=class{constructor(){this.changes=[]}compareRange(e,r){pc(e,r,this.changes)}comparePoint(e,r){pc(e,r,this.changes)}boundChange(e){pc(e,e,this.changes)}};function CD(t,e,r){let n=new _D;return ae.compare(t,e,r,n),n.changes}function ED(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function RD(t,e){let r=!1;return e&&t.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(r=!0)}),r}function AD(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return $.cursor(e);s==0?r=1:s==i.length&&(r=-1);let o=s,l=s;r<0?o=tt(i.text,s,!1):l=tt(i.text,s);let a=n(i.text.slice(o,l));for(;o>0;){let c=tt(i.text,o,!1);if(n(i.text.slice(c,o))!=a)break;o=c}for(;l<i.length;){let c=tt(i.text,l);if(n(i.text.slice(l,c))!=a)break;l=c}return $.range(o+i.from,l+i.from)}function jD(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function DD(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function od(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Sy(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function xy(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function wp(t,e,r){let n,i,s,o,l=!1,a,c,u,h;for(let p=t.firstChild;p;p=p.nextSibling){let O=Ns(p);for(let y=0;y<O.length;y++){let g=O[y];i&&od(i,g)&&(g=Sy(xy(g,i.bottom),i.top));let m=jD(e,g),S=DD(r,g);if(m==0&&S==0)return p.nodeType==3?wy(p,e,r):wp(p,e,r);if(!n||o>S||o==S&&s>m){n=p,i=g,s=m,o=S;let b=S?r<g.top?-1:1:m?e<g.left?-1:1:0;l=!b||(b>0?y<O.length-1:y>0)}m==0?r>g.bottom&&(!u||u.bottom<g.bottom)?(a=p,u=g):r<g.top&&(!h||h.top>g.top)&&(c=p,h=g):u&&od(u,g)?u=xy(u,g.bottom):h&&od(h,g)&&(h=Sy(h,g.top))}}if(u&&u.bottom>=r?(n=a,i=u):h&&h.top<=r&&(n=c,i=h),!n)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return wy(n,d,r);if(l&&n.contentEditable!="false")return wp(n,d,r);let f=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:f}}function wy(t,e,r){let n=t.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<n;l++){let a=Ci(t,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>r?u.top-r:r-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let d=e>=(u.left+u.right)/2,f=d;if((q.chrome||q.gecko)&&Ci(t,l).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:t,offset:l+(f?1:0)};i=l+(f?1:0),s=h}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function F1(t,e,r,n=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),l=o.top+t.viewState.paddingTop,a,{docHeight:c}=t.viewState,{x:u,y:h}=e,d=h-l;if(d<0)return 0;if(d>c)return t.state.doc.length;for(let b=t.viewState.heightOracle.textHeight/2,x=!1;a=t.elementAtHeight(d),a.type!=Ot.Text;)for(;d=n>0?a.bottom+b:a.top-b,!(d>=0&&d<=c);){if(x)return r?null:0;x=!0,n=-n}h=l+d;let f=a.from;if(f<t.viewport.from)return t.viewport.from==0?0:r?null:by(t,o,a,u,h);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:by(t,o,a,u,h);let p=t.dom.ownerDocument,O=t.root.elementFromPoint?t.root:p,y=O.elementFromPoint(u,h);y&&!t.contentDOM.contains(y)&&(y=null),y||(u=Math.max(o.left+1,Math.min(o.right-1,u)),y=O.elementFromPoint(u,h),y&&!t.contentDOM.contains(y)&&(y=null));let g,m=-1;if(y&&((i=t.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let b=p.caretPositionFromPoint(u,h);b&&({offsetNode:g,offset:m}=b)}else if(p.caretRangeFromPoint){let b=p.caretRangeFromPoint(u,h);b&&({startContainer:g,startOffset:m}=b,(!t.contentDOM.contains(g)||q.safari&&ND(g,m,u)||q.chrome&&ID(g,m,u))&&(g=void 0))}g&&(m=Math.min(Mr(g),m))}if(!g||!t.docView.dom.contains(g)){let b=je.find(t.docView,f);if(!b)return d>a.top+a.height/2?a.to:a.from;({node:g,offset:m}=wp(b.dom,u,h))}let S=t.docView.nearest(g);if(!S)return null;if(S.isWidget&&((s=S.dom)===null||s===void 0?void 0:s.nodeType)==1){let b=S.dom.getBoundingClientRect();return e.y<b.top||e.y<=b.bottom&&e.x<=(b.left+b.right)/2?S.posAtStart:S.posAtEnd}else return S.localPosFromDOM(g,m)+S.posAtStart}function by(t,e,r,n,i){let s=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let l=t.viewState.heightOracle.textHeight,a=Math.floor((i-r.top-(t.defaultLineHeight-l)*.5)/l);s+=a*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(r.from,r.to);return r.from+ap(o,s,t.state.tabSize)}function ND(t,e,r){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Ci(t,n-1,n).getBoundingClientRect().left>r}function ID(t,e,r){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=t.nodeType==1?t.getBoundingClientRect():Ci(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function bp(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let n of r.type)if(n.to>e||n.to==e&&(n.to==r.to||n.type==Ot.Text))return n}return r}function LD(t,e,r,n){let i=bp(t,e.head),s=!n||i.type!=Ot.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),l=t.textDirectionAt(i.from),a=t.posAtCoords({x:r==(l==we.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(a!=null)return $.cursor(a,r?-1:1)}return $.cursor(r?i.to:i.from,r?-1:1)}function ky(t,e,r,n){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let l=e,a=null;;){let c=bD(i,s,o,l,r),u=A1;if(!c){if(i.number==(r?t.state.doc.lines:1))return l;u=`
`,i=t.state.doc.line(i.number+(r?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!r)}if(a){if(!a(u))return l}else{if(!n)return c;a=n(u)}l=c}}function MD(t,e,r){let n=t.state.charCategorizer(e),i=n(r);return s=>{let o=n(s);return i==ke.Space&&(i=o),i==o}}function ZD(t,e,r,n){let i=e.head,s=r?1:-1;if(i==(r?t.state.doc.length:0))return $.cursor(i,e.assoc);let o=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)o==null&&(o=c.left-a.left),l=s<0?c.top:c.bottom;else{let f=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-f.from))),l=(s<0?f.top:f.bottom)+u}let h=a.left+o,d=n??t.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=l+(d+f)*s,O=F1(t,{x:h,y:p},!1,s);if(p<a.top||p>a.bottom||(s<0?O<i:O>i)){let y=t.docView.coordsForChar(O),g=!y||p<y.top?-1:1;return $.cursor(O,g,void 0,o)}}}function gc(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let a=n||r||(e-s<o-e?-1:1);e=a<0?s:o,n=a}});if(!n)return e}}function ld(t,e,r){let n=gc(t.state.facet(hO).map(i=>i(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:$.cursor(n,n<r.from?1:-1)}const Co="";class UD{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(oe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Co}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==r)break;let l=pe.get(i),a=pe.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:Kc(i))||Kc(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=r.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(l=i.exec(r))&&(s=l.index,o=l[0].length),this.append(r.slice(n,s<0?r.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let r=pe.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(qD(e,n.node,n.offset)?r:0))}}function qD(t,e,r){for(;;){if(!e||r<Mr(e))return!1;if(e==t)return!0;r=_i(e)+1,e=e.parentNode}}class Qy{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class zD{constructor(e,r,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let l=s||o?[]:BD(e),a=new UD(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=VD(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!hp(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!hp(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),u=e.viewport;if((q.ios||q.chrome)&&e.state.selection.main.empty&&a!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(a,c),d=Math.max(a,c),f=u.from-h,p=u.to-d;(f==0||f==1||h==0)&&(p==0||p==-1||d==e.state.doc.length)&&(a=0,c=e.state.doc.length)}this.newSel=$.single(c,a)}}}function Y1(t,e){let r,{newSel:n}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=i.from,c=null;(s===8||q.android&&e.text.length<l-o)&&(a=i.to,c="end");let u=WD(t.state.doc.sliceString(o,l,Co),e.text,a-o,c);u&&(q.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Co+Co&&u.toB--,r={from:o+u.from,to:o+u.toA,insert:le.of(e.text.slice(u.from,u.toB).split(Co))})}else n&&(!t.hasFocus&&t.state.facet(Kr)||n.main.eq(i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(q.mac||q.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=$.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:le.of([r.insert.toString().replace("."," ")])}):r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:q.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=$.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:le.of([" "])}),r)return fO(t,r,n,s);if(n&&!n.main.eq(i)){let o=!1,l="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),l=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:o,userEvent:l}),!0}else return!1}function fO(t,e,r,n=-1){if(q.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(q.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&xs(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&xs(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&xs(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,l=()=>o||(o=XD(t,e,r));return t.state.facet(L1).some(a=>a(t,e.from,e.to,s,l))||t.dispatch(l()),!0}function XD(t,e,r){let n,i=t.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",a=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+a))}else{let l=i.changes(e),a=r&&r.main.to<=l.newLength?r.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),u,h=r&&G1(t,r.main.head);if(h){let p=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-p}}else u=t.state.doc.lineAt(s.head);let d=s.to-e.to,f=s.to-s.from;n=i.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:l,range:a||p.map(l)};let O=p.to-d,y=O-c.length;if(p.to-p.from!=f||t.state.sliceDoc(y,O)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let g=i.changes({from:y,to:O,insert:e.insert}),m=p.to-s.to;return{changes:g,range:a?$.range(Math.max(0,a.anchor+m),Math.max(0,a.head+m)):p.map(g)}})}else n={changes:l,selection:a&&i.selection.replaceRange(a)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:o,scrollIntoView:!0})}function WD(t,e,r,n){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,l=e.length;for(;o>0&&l>0&&t.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(n=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&t.length<e.length){let a=r<=s&&r>=o?s-r:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function BD(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}=t.observer.selectionRange;return r&&(e.push(new Qy(r,n)),(i!=r||s!=n)&&e.push(new Qy(i,s))),e}function VD(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?$.single(r+e,n+e):null}class GD{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,q.safari&&e.contentDOM.addEventListener("input",()=>null),q.gecko&&uN(e.contentDOM.ownerDocument)}handleEvent(e){!rN(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,r);for(let i of n.handlers){if(r.defaultPrevented)break;if(i(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=FD(e),n=this.handlers,i=this.view.contentDOM;for(let s in r)if(s!="scroll"){let o=!r[s].handlers.length,l=n[s];l&&o!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in n)s!="scroll"&&!r[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&J1.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),q.android&&q.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return q.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=H1.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||YD.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,xs(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:q.safari&&!q.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Py(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(i){Tt(r.state,i)}}}function FD(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let i=n.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&r(s).handlers.push(Py(n.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&r(s).observers.push(Py(n.value,o))}}for(let n in vr)r(n).handlers.push(vr[n]);for(let n in sr)r(n).observers.push(sr[n]);return e}const H1=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],YD="dthko",J1=[16,17,18,20,91,92,224,225],Aa=6;function ja(t){return Math.max(0,t)*.7+8}function HD(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class JD{constructor(e,r,n,i){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=sD(e.contentDOM),this.atoms=e.state.facet(hO).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(oe.allowMultipleSelections)&&KD(e,r),this.dragging=tN(e,r)&&tk(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&HD(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,i=0,s=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=dO(this.view);e.clientX-a.left<=i+Aa?r=-ja(i-e.clientX):e.clientX+a.right>=o-Aa&&(r=ja(e.clientX-o)),e.clientY-a.top<=s+Aa?n=-ja(s-e.clientY):e.clientY+a.bottom>=l-Aa&&(n=ja(e.clientY-l)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let o=gc(this.atoms,i.from,0);o!=i.from&&(s=$.cursor(o,-1))}else{let o=gc(this.atoms,i.from,-1),l=gc(this.atoms,i.to,1);(o!=i.from||l!=i.to)&&(s=$.range(i.from==i.anchor?o:l,i.from==i.head?o:l))}s&&(r||(r=e.ranges.slice()),r[n]=s)}return r?$.create(r,e.mainIndex):e}select(e){let{view:r}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function KD(t,e){let r=t.state.facet(j1);return r.length?r[0](e):q.mac?e.metaKey:e.ctrlKey}function eN(t,e){let r=t.state.facet(D1);return r.length?r[0](e):q.mac?!e.altKey:!e.ctrlKey}function tN(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=kl(t.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function rN(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=pe.get(r))&&n.ignoreEvent(e))return!1;return!0}const vr=Object.create(null),sr=Object.create(null),K1=q.ie&&q.ie_version<15||q.ios&&q.webkit_version<604;function nN(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),ek(t,r.value)},50)}function nh(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function ek(t,e){e=nh(t.state,aO,e);let{state:r}=t,n,i=1,s=r.toText(e),o=s.lines==r.selection.ranges.length;if(kp!=null&&r.selection.ranges.every(a=>a.empty)&&kp==s.toString()){let a=-1;n=r.changeByRange(c=>{let u=r.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=r.toText((o?s.line(i++).text:e)+r.lineBreak);return{changes:{from:u.from,insert:h},range:$.cursor(c.from+h.length)}})}else o?n=r.changeByRange(a=>{let c=s.line(i++);return{changes:{from:a.from,to:a.to,insert:c.text},range:$.cursor(a.from+c.length)}}):n=r.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}sr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};vr.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);sr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};sr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};vr.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet(N1))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=oN(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new JD(t,e,r,n)),n&&t.observer.ignore(()=>{g1(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Ty(t,e,r,n){if(n==1)return $.cursor(e,r);if(n==2)return AD(t.state,e,r);{let i=je.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<t.state.doc.length&&l==s.to&&l++,$.range(o,l)}}let $y=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function iN(t,e,r,n){let i=je.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&$y(r,n,o))return-1;let l=i.coordsAt(s,1);return l&&$y(r,n,l)?1:o&&o.bottom>=n?-1:1}function _y(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:iN(t,r,e.clientX,e.clientY)}}const sN=q.ie&&q.ie_version<=11;let Cy=null,Ey=0,Ry=0;function tk(t){if(!sN)return t.detail;let e=Cy,r=Ry;return Cy=t,Ry=Date.now(),Ey=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Ey+1)%3:1}function oN(t,e){let r=_y(t,e),n=tk(e),i=t.state.selection;return{update(s){s.docChanged&&(r.pos=s.changes.mapPos(r.pos),i=i.map(s.changes))},get(s,o,l){let a=_y(t,s),c,u=Ty(t,a.pos,a.bias,n);if(r.pos!=a.pos&&!o){let h=Ty(t,r.pos,r.bias,n),d=Math.min(h.from,u.from),f=Math.max(h.to,u.to);u=d<u.from?$.range(d,f):$.range(f,d)}return o?i.replaceRange(i.main.extend(u.from,u.to)):l&&n==1&&i.ranges.length>1&&(c=lN(i,a.pos))?c:l?i.addRange(u):$.create([u])}}}function lN(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return $.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}vr.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=r.to||o<=r.from)&&(r=$.range(s,o))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",nh(t.state,cO,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};vr.dragend=t=>(t.inputState.draggedContent=null,!1);function Ay(t,e,r,n){if(r=nh(t.state,aO,r),!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=n&&s&&eN(t,e)?{from:s.from,to:s.to}:null,l={from:i,insert:r},a=t.state.changes(o?[o,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}vr.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,s=()=>{++i==r.length&&Ay(t,e,n.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<r.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(n[o]=l.result),s()},l.readAsText(r[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return Ay(t,e,n,!0),!0}return!1};vr.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=K1?null:e.clipboardData;return r?(ek(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(nN(t),!1)};function aN(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function cN(t){let e=[],r=[],n=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),r.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}n=!0}return{text:nh(t,cO,e.join(t.lineBreak)),ranges:r,linewise:n}}let kp=null;vr.copy=vr.cut=(t,e)=>{let{text:r,ranges:n,linewise:i}=cN(t.state);if(!r&&!i)return!1;kp=i?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=K1?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",r),!0):(aN(t,r),!1)};const rk=Zr.define();function nk(t,e){let r=[];for(let n of t.facet(M1)){let i=n(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:rk.of(!0)}):null}function ik(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=nk(t.state,e);r?t.dispatch(r):t.update([])}},10)}sr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),ik(t)};sr.blur=t=>{t.observer.clearSelectionRange(),ik(t)};sr.compositionstart=sr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};sr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,q.chrome&&q.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};sr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};vr.beforeinput=(t,e)=>{var r,n;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let l=o[0],a=t.posAtDOM(l.startContainer,l.startOffset),c=t.posAtDOM(l.endContainer,l.endOffset);return fO(t,{from:a,to:c,insert:t.state.toText(s)},null),!0}}let i;if(q.chrome&&q.android&&(i=H1.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return q.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),q.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>sr.compositionend(t,e),20),!1};const jy=new Set;function uN(t){jy.has(t)||(jy.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const Dy=["pre-wrap","normal","pre-line","break-spaces"];let Ms=!1;function Ny(){Ms=!1}class hN{constructor(e){this.lineWrapping=e,this.doc=le.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Dy.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,n,i,s,o){let l=Dy.indexOf(e)>-1,a=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=r,this.charWidth=n,this.textHeight=i,this.lineLength=s,a){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class dN{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Rr{constructor(e,r,n,i,s){this.from=e,this.length=r,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Ot.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Vn?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Rr(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var Se=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Se||(Se={}));const Oc=.001;class mt{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Oc&&(Ms=!0),this.height=e)}replace(e,r,n){return mt.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,i){let s=this,o=n.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:u,toB:h}=i[l],d=s.lineAt(a,Se.ByPosNoHeight,n.setDoc(r),0,0),f=d.to>=c?d:s.lineAt(c,Se.ByPosNoHeight,n,0,0);for(h+=f.to-c,c=f.to;l>0&&d.from<=i[l-1].toA;)a=i[l-1].fromA,u=i[l-1].fromB,l--,a<d.from&&(d=s.lineAt(a,Se.ByPosNoHeight,n,0,0));u+=d.from-a,a=d.from;let p=pO.build(n.setDoc(o),e,u,h);s=ru(s,s.replace(a,c,p))}return s.updateHeight(n,0)}static empty(){return new Mt(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,i=0,s=0;for(;;)if(r==n)if(i>s*2){let l=e[r-1];l.break?e.splice(--r,1,l.left,null,l.right):e.splice(--r,1,l.left,l.right),n+=1+l.break,i-=l.size}else if(s>i*2){let l=e[n];l.break?e.splice(n,1,l.left,null,l.right):e.splice(n,1,l.left,l.right),n+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[r++];l&&(i+=l.size)}else{let l=e[--n];l&&(s+=l.size)}let o=0;return e[r-1]==null?(o=1,r--):e[r]==null&&(o=1,n++),new fN(mt.of(e.slice(0,r)),o,mt.of(e.slice(n)))}}function ru(t,e){return t==e?t:(t.constructor!=e.constructor&&(Ms=!0),e)}mt.prototype.size=1;class sk extends mt{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,i){return new Rr(i,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,r,n,i,s,o){e<=s+this.length&&r>=s&&o(this.blockAt(0,n,i,s))}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Mt extends sk{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,i){return new Rr(i,this.length,n,this.height,this.breaks)}replace(e,r,n){let i=n[0];return n.length==1&&(i instanceof Mt||i instanceof Je&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Je?i=new Mt(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):mt.of(n)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Je extends mt{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,s=i-n+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*s);o=a/s,this.length>s+1&&(l=(this.height-a)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:i,perLine:o,perChar:l}}blockAt(e,r,n,i){let{firstLine:s,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(r,i);if(r.lineWrapping){let c=i+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),u=r.doc.lineAt(c),h=l+u.length*a,d=Math.max(n,e-h/2);return new Rr(u.from,u.length,d,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-n)/l))),{from:u,length:h}=r.doc.line(s+c);return new Rr(u,h,n+l*c,l,0)}}lineAt(e,r,n,i,s){if(r==Se.ByHeight)return this.blockAt(e,n,i,s);if(r==Se.ByPosNoHeight){let{from:f,to:p}=n.doc.lineAt(e);return new Rr(f,p-f,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(n,s),c=n.doc.lineAt(e),u=l+c.length*a,h=c.number-o,d=i+l*h+a*(c.from-s-h);return new Rr(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(e,r,n,i,s,o){e=Math.max(e,s),r=Math.min(r,s+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(n,s);for(let u=e,h=i;u<=r;){let d=n.doc.lineAt(u);if(u==e){let p=d.number-l;h+=a*p+c*(e-s-p)}let f=a+c*d.length;o(new Rr(d.from,d.length,h,f,0)),h+=f,u=d.to+1}}replace(e,r,n){let i=this.length-r;if(i>0){let s=n[n.length-1];s instanceof Je?n[n.length-1]=new Je(s.length+i):n.push(null,new Je(i-1))}if(e>0){let s=n[0];s instanceof Je?n[0]=new Je(e+s.length):n.unshift(new Je(e-1),null)}return mt.of(n)}decomposeLeft(e,r){r.push(new Je(e-1),null)}decomposeRight(e,r){r.push(null,new Je(this.length-e-1))}updateHeight(e,r=0,n=!1,i){let s=r+this.length;if(i&&i.from<=r+this.length&&i.more){let o=[],l=Math.max(r,i.from),a=-1;for(i.from>r&&o.push(new Je(i.from-r-1).updateHeight(e,r));l<=s&&i.more;){let u=e.doc.lineAt(l).length;o.length&&o.push(null);let h=i.heights[i.index++];a==-1?a=h:Math.abs(h-a)>=Oc&&(a=-2);let d=new Mt(u,h);d.outdated=!1,o.push(d),l+=u+1}l<=s&&o.push(null,new Je(s-l).updateHeight(e,l));let c=mt.of(o);return(a<0||Math.abs(c.height-this.height)>=Oc||Math.abs(a-this.heightMetrics(e,r).perLine)>=Oc)&&(Ms=!0),ru(this,c)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class fN extends mt{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,r,n,i):this.right.blockAt(e,r,s,i+this.left.length+this.break)}lineAt(e,r,n,i,s){let o=i+this.left.height,l=s+this.left.length+this.break,a=r==Se.ByHeight?e<o:e<l,c=a?this.left.lineAt(e,r,n,i,s):this.right.lineAt(e,r,n,o,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=r==Se.ByPosNoHeight?Se.ByPosNoHeight:Se.ByPos;return a?c.join(this.right.lineAt(l,u,n,o,l)):this.left.lineAt(l,u,n,i,s).join(c)}forEachLine(e,r,n,i,s,o){let l=i+this.left.height,a=s+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,r,n,i,s,o),r>=a&&this.right.forEachLine(e,r,n,l,a,o);else{let c=this.lineAt(a,Se.ByPos,n,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,n,i,s,o),c.to>=e&&c.from<=r&&o(c),r>c.to&&this.right.forEachLine(c.to+1,r,n,l,a,o)}}replace(e,r,n){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of n)s.push(l);if(e>0&&Iy(s,o-1),r<this.length){let l=s.length;this.decomposeRight(r,s),Iy(s,l)}return mt.of(s)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?mt.of(this.break?[e,null,r]:[e,r]):(this.left=ru(this.left,e),this.right=ru(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,i){let{left:s,right:o}=this,l=r+s.length+this.break,a=null;return i&&i.from<=r+s.length&&i.more?a=s=s.updateHeight(e,r,n,i):s.updateHeight(e,r,n),i&&i.from<=l+o.length&&i.more?a=o=o.updateHeight(e,l,n,i):o.updateHeight(e,l,n),a?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Iy(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof Je&&(n=t[e+1])instanceof Je&&t.splice(e-1,3,new Je(r.length+1+n.length))}const pN=5;class pO{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Mt?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Mt(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=r-e;n.block?this.addBlock(new sk(o,i,n)):(o||s||i>=pN)&&this.addLineDeco(i,s,o)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Mt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new Je(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Mt)return e;let r=new Mt(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Mt)&&!this.isCovered?this.nodes.push(new Mt(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof Mt&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,r,n,i){let s=new pO(n,e);return ae.spans(r,n,i,s,0),s.finish(n)}}function gN(t,e,r){let n=new ON;return ae.compare(t,e,r,n,0),n.changes}class ON{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,i){(e<r||n&&n.heightRelevant||i&&i.heightRelevant)&&pc(e,r,this.changes,5)}}function mN(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,s=Math.max(0,r.left),o=Math.min(i.innerWidth,r.right),l=Math.max(0,r.top),a=Math.min(i.innerHeight,r.bottom);for(let c=t.parentNode;c&&c!=n.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),l=Math.max(l,d.top),a=Math.min(c==t.parentNode?i.innerHeight:a,d.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-r.left,right:Math.max(s,o)-r.left,top:l-(r.top+e),bottom:Math.max(l,a)-(r.top+e)}}function yN(t){let e=t.getBoundingClientRect(),r=t.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function vN(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class ad{constructor(e,r,n,i){this.from=e,this.to=r,this.size=n,this.displaySize=i}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,r){return W.replace({widget:new SN(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class SN extends qr{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ly{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=My,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=we.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(uO).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new hN(r),this.stateDeco=e.facet(Ql).filter(n=>typeof n!="function"),this.heightMap=mt.empty().applyChanges(this.stateDeco,le.empty,this.heightOracle.setDoc(e.doc),[new tr(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=W.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let i=n?r.head:r.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Da(s,o))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?My:new gO(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Eo(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Ql).filter(u=>typeof u!="function");let i=e.changedRanges,s=tr.extendWithRanges(i,gN(n,this.stateDeco,e?e.changes:Ue.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Ny(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Ms)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<a.from||r.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,r));let c=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(U1)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?we.RTL:we.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=r.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,u=0;if(l.width&&l.height){let{scaleX:b,scaleY:x}=p1(r,l);(b>.005&&Math.abs(this.scaleX-b)>.005||x>.005&&Math.abs(this.scaleY-x)>.005)&&(this.scaleX=b,this.scaleY=x,c|=16,o=a=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=m1(e.scrollDOM);let p=(this.printing?vN:mN)(r,this.paddingTop),O=p.top-this.pixelViewport.top,y=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget&&!yN(e.dom))return 0;let m=l.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),a){let b=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(b)&&(o=!0),o||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){let{lineHeight:x,charWidth:Q,textHeight:P}=e.docView.measureTextSize();o=x>0&&i.refresh(s,x,Q,P,m/Q,b),o&&(e.docView.minWidth=0,c|=16)}O>0&&y>0?u=Math.max(O,y):O<0&&y<0&&(u=Math.min(O,y)),Ny();for(let x of this.viewports){let Q=x.from==this.viewport.from?b:e.docView.measureVisibleLineHeights(x);this.heightMap=(o?mt.empty().applyChanges(this.stateDeco,le.empty,this.heightOracle,[new tr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new dN(x.from,Q))}Ms&&(c|=2)}let S=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new Da(i.lineAt(o-n*1e3,Se.ByHeight,s,0,0).from,i.lineAt(l+(1-n)*1e3,Se.ByHeight,s,0,0).to);if(r){let{head:c}=r.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Se.ByPos,s,0,0),d;r.y=="center"?d=(h.top+h.bottom)/2-u/2:r.y=="start"||r.y=="nearest"&&c<a.from?d=h.top:d=h.bottom-u,a=new Da(i.lineAt(d-1e3/2,Se.ByHeight,s,0,0).from,i.lineAt(d+u+1e3/2,Se.ByHeight,s,0,0).to)}}return a}mapViewport(e,r){let n=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new Da(this.heightMap.lineAt(n,Se.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Se.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Se.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(r,Se.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||s>=l+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let i of e)r.touchesRange(i.from,i.to)||n.push(new ad(r.mapPos(i.from),r.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=we.LTR&&!n)return[];let l=[],a=(u,h,d,f)=>{if(h-u<s)return;let p=this.state.selection.main,O=[p.from];p.empty||O.push(p.to);for(let g of O)if(g>u&&g<h){a(u,g-10,d,f),a(g+10,h,d,f);return}let y=wN(e,g=>g.from>=d.from&&g.to<=d.to&&Math.abs(g.from-u)<s&&Math.abs(g.to-h)<s&&!O.some(m=>g.from<m&&g.to>m));if(!y){if(h<d.to&&r&&n&&r.visibleRanges.some(S=>S.from<=h&&S.to>=h)){let S=r.moveToLineBoundary($.cursor(h),!1,!0).head;S>u&&(h=S)}let g=this.gapSize(d,u,h,f),m=n||g<2e6?g:2e6;y=new ad(u,h,g,m)}l.push(y)},c=u=>{if(u.length<o||u.type!=Ot.Text)return;let h=xN(u.from,u.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(n){let O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,y,g;if(d!=null){let m=Ia(h,d),S=((this.visibleBottom-this.visibleTop)/2+O)/u.height;y=m-S,g=m+S}else y=(this.visibleTop-u.top-O)/u.height,g=(this.visibleBottom-u.top+O)/u.height;f=Na(h,y),p=Na(h,g)}else{let O=h.total*this.heightOracle.charWidth,y=i*this.heightOracle.charWidth,g=0;if(O>2e6)for(let Q of e)Q.from>=u.from&&Q.from<u.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+g<this.pixelViewport.left&&(g=Q.size-Q.displaySize);let m=this.pixelViewport.left+g,S=this.pixelViewport.right+g,b,x;if(d!=null){let Q=Ia(h,d),P=((S-m)/2+y)/O;b=Q-P,x=Q+P}else b=(m-y)/O,x=(S+y)/O;f=Na(h,b),p=Na(h,x)}f>u.from&&a(u.from,f,u,h),p<u.to&&a(p,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return l}gapSize(e,r,n,i){let s=Ia(i,n)-Ia(i,r);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){ad.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=W.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let n=[];ae.spans(r,this.viewport.from,this.viewport.to,{span(s,o){n.push({from:s,to:o})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let o=this.visibleRanges[s],l=n[s];(o.from!=l.from||o.to!=l.to)&&(i|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||Eo(this.heightMap.lineAt(e,Se.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||Eo(this.heightMap.lineAt(this.scaler.fromDOM(e),Se.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return Eo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Da{constructor(e,r){this.from=e,this.to=r}}function xN(t,e,r){let n=[],i=t,s=0;return ae.spans(r,t,e,{span(){},point(o,l){o>i&&(n.push({from:i,to:o}),s+=o-i),i=l}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Na({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let i=0;;i++){let{from:s,to:o}=e[i],l=o-s;if(n<=l)return s+n;n-=l}}function Ia(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}function wN(t,e){for(let r of t)if(e(r))return r}const My={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class gO{constructor(e,r,n){let i=0,s=0,o=0;this.viewports=n.map(({from:l,to:a})=>{let c=r.lineAt(l,Se.ByPos,e,0,0).top,u=r.lineAt(a,Se.ByPos,e,0,0).bottom;return i+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let r=0,n=0,i=0;;r++){let s=r<this.viewports.length?this.viewports[r]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let r=0,n=0,i=0;;r++){let s=r<this.viewports.length?this.viewports[r]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof gO?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function Eo(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Rr(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(i=>Eo(i,e)):t._content)}const La=Z.define({combine:t=>t.join(" ")}),Qp=Z.define({combine:t=>t.indexOf(!0)>-1}),Pp=Wn.newName(),ok=Wn.newName(),lk=Wn.newName(),ak={"&light":"."+ok,"&dark":"."+lk};function Tp(t,e,r){return new Wn(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+n}})}const bN=Tp("."+Pp,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ak),kN={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},cd=q.ie&&q.ie_version<=11;class QN{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new oD,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(q.ie&&q.ie_version<=11||q.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(q.chrome&&q.chrome_version<126)&&(this.editContext=new TN(e),e.state.facet(Kr)&&(e.contentDOM.editContext=this.editContext.editContext)),cd&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(Kr)?n.root.activeElement!=this.dom:!fc(this.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(q.ie&&q.ie_version<=11||q.android&&q.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Fo(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=kl(e.root);if(!r)return!1;let n=q.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&PN(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let i=fc(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&aD(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,kN),cd&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),cd&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&xs(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),r==-1?{from:r,to:n}=o:(r=Math.min(o.from,r),n=Math.max(o.to,n)))}return{from:r,to:n,typeOver:i}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),i=this.selectionChanged&&fc(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new zD(this.view,e,r,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,i=Y1(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let n=Zy(r,e.previousSibling||e.target.previousSibling,-1),i=Zy(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Kr)!=e.state.facet(Kr)&&(e.view.contentDOM.editContext=e.state.facet(Kr)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Zy(t,e,r){for(;e;){let n=pe.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function Uy(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Fo(o.node,o.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function PN(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Uy(t,i)}let r=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?Uy(t,r):null}class TN{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:o}=i,l=this.toEditorPos(n.updateRangeStart),a=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:l,drifted:!1});let c={from:l,to:a,insert:le.of(n.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=$.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((q.mac||q.android)&&c.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:l,to:a,insert:le.of([n.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);fO(e,c,$.single(this.toEditorPos(n.selectionStart,u),this.toEditorPos(n.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let o=this.toEditorPos(n.rangeStart),l=this.toEditorPos(n.rangeEnd);o<l;o++){let a=e.coordsForChar(o);s=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||s||new DOMRect,i.push(s)}r.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let o=s.underlineStyle,l=s.underlineThickness;if(o!="None"&&l!="None"){let a=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(a<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;i.push(W.mark({attributes:{style:u}}).range(a,c))}}}e.dispatch({effects:z1.of(W.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=kl(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,l,a,c)=>{if(n)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,r+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=r,o+=r,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}r+=u}),i&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),i=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class L{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||lD(e.parent)||document,this.viewState=new Ly(e.state||oe.create(e)),e.scrollTo&&e.scrollTo.is(Ra)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet($o).map(i=>new sd(i));for(let i of this.plugins)i.update(this);this.observer=new QN(this),this.inputState=new GD(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vy(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof Ie?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,a=null;e.some(d=>d.annotation(rk))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=nk(s,o),a||(l=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(oe.phrases)!=this.state.facet(oe.phrases))return this.setState(s);i=tu.create(this,s,e),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;h=new ws(f.empty?f:$.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(Ra)&&(h=f.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=nu.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(_o)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(La)!=i.state.facet(La)&&(this.viewState.mustMeasureContent=!0),(r||n||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(xp))try{d(i)}catch(f){Tt(this.state,f,"update listener")}(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!Y1(this,u)&&c.force&&xs(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new Ly(e),this.plugins=e.facet($o).map(n=>new sd(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new vy(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet($o),n=e.state.facet($o);if(r!=n){let i=[];for(let s of n){let o=r.indexOf(s);if(o<0)i.push(new sd(s));else{let l=this.plugins[o];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){Tt(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(m1(n))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(i);s=f.from,o=f.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];a&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(f=>{try{return f.read(this)}catch(p){return Tt(this.state,p),qy}}),h=tu.create(this,this.state,[]),d=!1;h.flags|=a,r?r.flags|=a:r=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let f=0;f<c.length;f++)if(u[f]!=qy)try{let p=c[f];p.write&&p.write(u[f],this)}catch(p){Tt(this.state,p)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){i=i+p,n.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let l of this.state.facet(xp))l(r)}get themeClasses(){return Pp+" "+(this.state.facet(Qp)?lk:ok)+" "+this.state.facet(La)}updateAttrs(){let e=zy(this,X1,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Kr)?"true":"false",class:"cm-content",style:`${q.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),zy(this,uO,r);let n=this.observer.ignore(()=>{let i=Op(this.contentDOM,this.contentAttrs,r),s=Op(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let i of n.effects)if(i.is(L.announce)){r&&(this.announceDOM.textContent=""),r=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(_o);let e=this.state.facet(L.cspNonce);Wn.mount(this.root,this.styleModules.concat(bN).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return ld(this,e,ky(this,e,r,n))}moveByGroup(e,r){return ld(this,e,ky(this,e,r,n=>MD(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[r?n.length-1:0];return $.cursor(s.side(r,i)+e.from,s.forward(!r,i)?1:-1)}moveToLineBoundary(e,r,n=!0){return LD(this,e,r,n)}moveVertically(e,r,n){return ld(this,e,ZD(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),F1(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[An.find(s,e-i.from,-1,r)];return Gl(n,o.dir==we.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Z1)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>$N)return R1(e.length);let r=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==r&&(s.fresh||E1(s.isolates,n=yy(this,e))))return s.order;n||(n=yy(this,e));let i=wD(e.text,r,n);return this.bidiCache.push(new nu(e.from,e.to,r,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||q.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{g1(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return Ra.of(new ws(typeof e=="number"?$.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Ra.of(new ws($.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Re.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Re.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=Wn.newName(),i=[La.of(n),_o.of(Tp(`.${n}`,e))];return r&&r.dark&&i.push(Qp.of(!0)),i}static baseTheme(e){return ti.lowest(_o.of(Tp("."+Pp,e,ak)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),i=n&&pe.get(n)||pe.get(e);return((r=i==null?void 0:i.rootView)===null||r===void 0?void 0:r.view)||null}}L.styleModule=_o;L.inputHandler=L1;L.clipboardInputFilter=aO;L.clipboardOutputFilter=cO;L.scrollHandler=q1;L.focusChangeEffect=M1;L.perLineTextDirection=Z1;L.exceptionSink=I1;L.updateListener=xp;L.editable=Kr;L.mouseSelectionStyle=N1;L.dragMovesSelection=D1;L.clickAddsSelectionRange=j1;L.decorations=Ql;L.outerDecorations=W1;L.atomicRanges=hO;L.bidiIsolatedRanges=B1;L.scrollMargins=V1;L.darkTheme=Qp;L.cspNonce=Z.define({combine:t=>t.length?t[0]:""});L.contentAttributes=uO;L.editorAttributes=X1;L.lineWrapping=L.contentAttributes.of({class:"cm-lineWrapping"});L.announce=J.define();const $N=4096,qy={};class nu{constructor(e,r,n,i,s,o){this.from=e,this.to=r,this.dir=n,this.isolates=i,this.fresh=s,this.order=o}static update(e,r){if(r.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:we.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!r.touchesRange(o.from,o.to)&&n.push(new nu(r.mapPos(o.from,1),r.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function zy(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],o=typeof s=="function"?s(t):s;o&&gp(o,r)}return r}const _N=q.mac?"mac":q.windows?"win":q.linux?"linux":"key";function CN(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let i,s,o,l;for(let a=0;a<r.length-1;++a){const c=r[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Ma(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const EN=ti.default(L.domEventHandlers({keydown(t,e){return uk(ck(e.state),t,e,"editor")}})),Hl=Z.define({enables:EN}),Xy=new WeakMap;function ck(t){let e=t.facet(Hl),r=Xy.get(e);return r||Xy.set(e,r=jN(e.reduce((n,i)=>n.concat(i),[]))),r}function RN(t,e,r){return uk(ck(t.state),e,t,r)}let Tn=null;const AN=4e3;function jN(t,e=_N){let r=Object.create(null),n=Object.create(null),i=(o,l)=>{let a=n[o];if(a==null)n[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,a,c,u)=>{var h,d;let f=r[o]||(r[o]=Object.create(null)),p=l.split(/ (?!$)/).map(g=>CN(g,e));for(let g=1;g<p.length;g++){let m=p.slice(0,g).join(" ");i(m,!0),f[m]||(f[m]={preventDefault:!0,stopPropagation:!1,run:[S=>{let b=Tn={view:S,prefix:m,scope:o};return setTimeout(()=>{Tn==b&&(Tn=null)},AN),!0}]})}let O=p.join(" ");i(O,!1);let y=f[O]||(f[O]={preventDefault:!1,stopPropagation:!1,run:((d=(h=f._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});a&&y.run.push(a),c&&(y.preventDefault=!0),u&&(y.stopPropagation=!0)};for(let o of t){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of l){let u=r[c]||(r[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in u)u[d].run.push(f=>h(f,$p))}let a=o[e]||o.key;if(a)for(let c of l)s(c,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return r}let $p=null;function uk(t,e,r,n){$p=e;let i=rD(e),s=bt(i,0),o=Er(s)==i.length&&i!=" ",l="",a=!1,c=!1,u=!1;Tn&&Tn.view==r&&Tn.scope==n&&(l=Tn.prefix+" ",J1.indexOf(e.keyCode)<0&&(c=!0,Tn=null));let h=new Set,d=y=>{if(y){for(let g of y.run)if(!h.has(g)&&(h.add(g),g(r)))return y.stopPropagation&&(u=!0),!0;y.preventDefault&&(y.stopPropagation&&(u=!0),c=!0)}return!1},f=t[n],p,O;return f&&(d(f[l+Ma(i,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(q.windows&&e.ctrlKey&&e.altKey)&&(p=Bn[e.keyCode])&&p!=i?(d(f[l+Ma(p,e,!0)])||e.shiftKey&&(O=bl[e.keyCode])!=i&&O!=p&&d(f[l+Ma(O,e,!1)]))&&(a=!0):o&&e.shiftKey&&d(f[l+Ma(i,e,!0)])&&(a=!0),!a&&d(f._any)&&(a=!0)),c&&(a=!0),a&&u&&e.stopPropagation(),$p=null,a}class Jl{constructor(e,r,n,i,s){this.className=e,this.left=r,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=hk(e);return[new Jl(r,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return DN(e,r,n)}}function hk(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==we.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function Wy(t,e,r,n){let i=t.coordsAtPos(e,r*2);if(!i)return n;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=t.posAtCoords({x:s.left+1,y:o}),a=t.posAtCoords({x:s.right-1,y:o});return l==null||a==null?n:{from:Math.max(n.from,Math.min(l,a)),to:Math.min(n.to,Math.max(l,a))}}function DN(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),s=t.textDirection==we.LTR,o=t.contentDOM,l=o.getBoundingClientRect(),a=hk(t),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=l.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=l.right-(u?parseInt(u.paddingRight):0),f=bp(t,n),p=bp(t,i),O=f.type==Ot.Text?f:null,y=p.type==Ot.Text?p:null;if(O&&(t.lineWrapping||f.widgetLineBreaks)&&(O=Wy(t,n,1,O)),y&&(t.lineWrapping||p.widgetLineBreaks)&&(y=Wy(t,i,-1,y)),O&&y&&O.from==y.from&&O.to==y.to)return m(S(r.from,r.to,O));{let x=O?S(r.from,null,O):b(f,!1),Q=y?S(null,r.to,y):b(p,!0),P=[];return(O||f).to<(y||p).from-(O&&y?1:0)||f.widgetLineBreaks>1&&x.bottom+t.defaultLineHeight/2<Q.top?P.push(g(h,x.bottom,d,Q.top)):x.bottom<Q.top&&t.elementAtHeight((x.bottom+Q.top)/2).type==Ot.Text&&(x.bottom=Q.top=(x.bottom+Q.top)/2),m(x).concat(P).concat(m(Q))}function g(x,Q,P,T){return new Jl(e,x-a.left,Q-a.top,P-x,T-Q)}function m({top:x,bottom:Q,horizontal:P}){let T=[];for(let _=0;_<P.length;_+=2)T.push(g(P[_],x,P[_+1],Q));return T}function S(x,Q,P){let T=1e9,_=-1e9,C=[];function D(N,M,B,V,E){let A=t.coordsAtPos(N,N==P.to?-2:2),U=t.coordsAtPos(B,B==P.from?2:-2);!A||!U||(T=Math.min(A.top,U.top,T),_=Math.max(A.bottom,U.bottom,_),E==we.LTR?C.push(s&&M?h:A.left,s&&V?d:U.right):C.push(!s&&V?h:U.left,!s&&M?d:A.right))}let R=x??P.from,X=Q??P.to;for(let N of t.visibleRanges)if(N.to>R&&N.from<X)for(let M=Math.max(N.from,R),B=Math.min(N.to,X);;){let V=t.state.doc.lineAt(M);for(let E of t.bidiSpans(V)){let A=E.from+V.from,U=E.to+V.from;if(A>=B)break;U>M&&D(Math.max(A,M),x==null&&A<=R,Math.min(U,B),Q==null&&U>=X,E.dir)}if(M=V.to+1,M>=B)break}return C.length==0&&D(R,x==null,X,Q==null,t.textDirection),{top:T,bottom:_,horizontal:C}}function b(x,Q){let P=l.top+(Q?x.top:x.bottom);return{top:P,bottom:P,horizontal:[]}}}function NN(t,e){return t.constructor==e.constructor&&t.eq(e)}class IN{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(mc)!=e.state.facet(mc)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(mc);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!NN(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[n].constructor&&i.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const mc=Z.define();function dk(t){return[Re.define(e=>new IN(e,t)),mc.of(t)]}const Pl=Z.define({combine(t){return Ur(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function LN(t={}){return[Pl.of(t),MN,ZN,UN,U1.of(!0)]}function fk(t){return t.startState.facet(Pl)!=t.state.facet(Pl)}const MN=dk({above:!0,markers(t){let{state:e}=t,r=e.facet(Pl),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||r.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:$.cursor(i.head,i.head>i.anchor?-1:1);for(let a of Jl.forRange(t,o,l))n.push(a)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=fk(t);return r&&By(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){By(e.state,t)},class:"cm-cursorLayer"});function By(t,e){e.style.animationDuration=t.facet(Pl).cursorBlinkRate+"ms"}const ZN=dk({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Jl.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||fk(t)},class:"cm-selectionLayer"}),UN=ti.highest(L.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),pk=J.define({map(t,e){return t==null?null:e.mapPos(t)}}),Ro=Fe.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(pk)?n.value:r,t)}}),qN=Re.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(Ro);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Ro)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Ro),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Ro)!=t&&this.view.dispatch({effects:pk.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function zN(){return[Ro,qN]}function Vy(t,e,r,n,i){e.lastIndex=0;for(let s=t.iterRange(r,n),o=r,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(o+l.index,l)}function XN(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:s}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class WN{constructor(e){const{regexp:r,decoration:n,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(l,a,c,u)=>i(u,c,c+l[0].length,l,a);else if(typeof n=="function")this.addMatch=(l,a,c,u)=>{let h=n(l,a,c);h&&u(c,c+l[0].length,h)};else if(n)this.addMatch=(l,a,c,u)=>u(c,c+l[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let r=new cn,n=r.add.bind(r);for(let{from:i,to:s}of XN(e,this.maxLength))Vy(e.state.doc,this.regexp,i,s,(o,l)=>this.addMatch(l,e,o,n));return r.finish()}updateDeco(e,r){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,a)=>{a>=e.view.viewport.from&&l<=e.view.viewport.to&&(n=Math.min(l,n),i=Math.max(a,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),n,i):r}updateRange(e,r,n,i){for(let s of e.visibleRanges){let o=Math.max(s.from,n),l=Math.min(s.to,i);if(l>o){let a=e.state.doc.lineAt(o),c=a.to<l?e.state.doc.lineAt(l):a,u=Math.max(s.from,a.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>a.from;o--)if(this.boundary.test(a.text[o-1-a.from])){u=o;break}for(;l<c.to;l++)if(this.boundary.test(c.text[l-c.from])){h=l;break}}let d=[],f,p=(O,y,g)=>d.push(g.range(O,y));if(a==c)for(this.regexp.lastIndex=u-a.from;(f=this.regexp.exec(a.text))&&f.index<h-a.from;)this.addMatch(f,e,f.index+a.from,p);else Vy(e.state.doc,this.regexp,u,h,(O,y)=>this.addMatch(y,e,O,p));r=r.update({filterFrom:u,filterTo:h,filter:(O,y)=>O<u||y>h,add:d})}}return r}}const _p=/x/.unicode!=null?"gu":"g",BN=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,_p),VN={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ud=null;function GN(){var t;if(ud==null&&typeof document<"u"&&document.body){let e=document.body.style;ud=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return ud||!1}const yc=Z.define({combine(t){let e=Ur(t,{render:null,specialChars:BN,addSpecialChars:null});return(e.replaceTabs=!GN())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,_p)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,_p)),e}});function FN(t={}){return[yc.of(t),YN()]}let Gy=null;function YN(){return Gy||(Gy=Re.fromClass(class{constructor(t){this.view=t,this.decorations=W.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(yc)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new WN({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,s=bt(e[0],0);if(s==9){let o=i.lineAt(n),l=r.state.tabSize,a=Js(o.text,l,n-o.from);return W.replace({widget:new eI((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=W.replace({widget:new KN(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(yc);t.startState.facet(yc)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const HN="";function JN(t){return t>=32?HN:t==10?"":String.fromCharCode(9216+t)}class KN extends qr{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=JN(this.code),n=e.state.phrase("Control character")+" "+(VN[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let s=document.createElement("span");return s.textContent=r,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class eI extends qr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function tI(){return nI}const rI=W.line({class:"cm-activeLine"}),nI=Re.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(rI.range(i.from)),e=i.from)}return W.set(r)}},{decorations:t=>t.decorations});class iI extends qr{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?r.setAttribute("aria-label","placeholder "+this.content):r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?Ns(e.firstChild):[];if(!r.length)return null;let n=window.getComputedStyle(e.parentNode),i=Gl(r[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function sI(t){return Re.fromClass(class{constructor(e){this.view=e,this.placeholder=t?W.set([W.widget({widget:new iI(t),side:1}).range(0)]):W.none}get decorations(){return this.view.state.doc.length?W.none:this.placeholder}},{decorations:e=>e.decorations})}const Cp=2e3;function oI(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),s=[];if(e.off>Cp||r.off>Cp||e.col<0||r.col<0){let o=Math.min(e.off,r.off),l=Math.max(e.off,r.off);for(let a=n;a<=i;a++){let c=t.doc.line(a);c.length<=l&&s.push($.range(c.from+o,c.to+l))}}else{let o=Math.min(e.col,r.col),l=Math.max(e.col,r.col);for(let a=n;a<=i;a++){let c=t.doc.line(a),u=ap(c.text,o,t.tabSize,!0);if(u<0)s.push($.cursor(c.to));else{let h=ap(c.text,l,t.tabSize);s.push($.range(c.from+u,c.from+h))}}}return s}function lI(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function Fy(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),i=r-n.from,s=i>Cp?-1:i==n.length?lI(t,e.clientX):Js(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:s,off:i}}function aI(t,e){let r=Fy(t,e),n=t.state.selection;return r?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(r.line).from),o=i.state.doc.lineAt(s);r={line:o.number,col:r.col,off:Math.min(r.off,o.length)},n=n.map(i.changes)}},get(i,s,o){let l=Fy(t,i);if(!l)return n;let a=oI(t.state,r,l);return a.length?o?$.create(a.concat(n.ranges)):$.create(a):n}}:null}function cI(t){let e=r=>r.altKey&&r.button==0;return L.mouseSelectionStyle.of((r,n)=>e(n)?aI(r,n):null)}const uI={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},hI={style:"cursor: crosshair"};function dI(t={}){let[e,r]=uI[t.key||"Alt"],n=Re.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[n,L.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?hI:null})]}const yo="-10000px";class gk{constructor(e,r,n,i){this.facet=r,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(r),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=n(o,s))}update(e,r){var n;let i=e.state.facet(this.facet),s=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[],l=r?[]:null;for(let a=0;a<s.length;a++){let c=s[a],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==c.create&&(u=h)}if(u<0)o[a]=this.createTooltipView(c,a?o[a-1]:null),l&&(l[a]=!!c.above);else{let h=o[a]=this.tooltipViews[u];l&&(l[a]=r[u]),h.update&&h.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(this.removeTooltipView(a),(n=a.destroy)===null||n===void 0||n.call(a));return r&&(l.forEach((a,c)=>r[c]=a),r.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function fI(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const hd=Z.define({combine:t=>{var e,r,n;return{position:q.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||fI}}}),Yy=new WeakMap,OO=Re.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(hd);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new gk(t,mO,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(hd);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",r.dom.appendChild(i)}return r.dom.style.position=this.position,r.dom.style.top=yo,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(q.gecko)r=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==yo&&s.style.left=="0px"){let o=s.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=dO(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(hd).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:r,space:n,scaleX:i,scaleY:s}=t,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],c=this.manager.tooltipViews[l],{dom:u}=c,h=t.pos[l],d=t.size[l];if(!h||a.clip!==!1&&(h.bottom<=Math.max(r.top,n.top)||h.top>=Math.min(r.bottom,n.bottom)||h.right<Math.max(r.left,n.left)-.1||h.left>Math.min(r.right,n.right)+.1)){u.style.top=yo;continue}let f=a.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,O=d.right-d.left,y=(e=Yy.get(c))!==null&&e!==void 0?e:d.bottom-d.top,g=c.offset||gI,m=this.view.textDirection==we.LTR,S=d.width>n.right-n.left?m?n.left:n.right-d.width:m?Math.max(n.left,Math.min(h.left-(f?14:0)+g.x,n.right-O)):Math.min(Math.max(n.left,h.left-O+(f?14:0)-g.x),n.right-O),b=this.above[l];!a.strictSide&&(b?h.top-y-p-g.y<n.top:h.bottom+y+p+g.y>n.bottom)&&b==n.bottom-h.bottom>h.top-n.top&&(b=this.above[l]=!b);let x=(b?h.top-n.top:n.bottom-h.bottom)-p;if(x<y&&c.resize!==!1){if(x<this.view.defaultLineHeight){u.style.top=yo;continue}Yy.set(c,y),u.style.height=(y=x)/s+"px"}else u.style.height&&(u.style.height="");let Q=b?h.top-y-p-g.y:h.bottom+p+g.y,P=S+O;if(c.overlap!==!0)for(let T of o)T.left<P&&T.right>S&&T.top<Q+y&&T.bottom>Q&&(Q=b?T.top-y-2-p:T.bottom+p+2);if(this.position=="absolute"?(u.style.top=(Q-t.parent.top)/s+"px",Hy(u,(S-t.parent.left)/i)):(u.style.top=Q/s+"px",Hy(u,S/i)),f){let T=h.left+(m?g.x:-g.x)-(S+14-7);f.style.left=T/i+"px"}c.overlap!==!0&&o.push({left:S,top:Q,right:P,bottom:Q+y}),u.classList.toggle("cm-tooltip-above",b),u.classList.toggle("cm-tooltip-below",!b),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=yo}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Hy(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}const pI=L.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),gI={x:0,y:0},mO=Z.define({enables:[OO,pI]}),iu=Z.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class ih{static create(e){return new ih(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new gk(e,iu,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(r===void 0)r=i;else if(r!==i)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const OI=mO.compute([iu],t=>{let e=t.facet(iu);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:ih.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class mI{constructor(e,r,n,i,s){this.view=e,this.source=r,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.nearest(r.target);if(!n)return;let i,s=1;if(n instanceof Rn)i=n.posAtStart;else{if(i=e.posAtCoords(r),i==null)return;let l=e.coordsAtPos(i);if(!l||r.y<l.top||r.y>l.bottom||r.x<l.left-e.defaultCharacterWidth||r.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=a&&a.dir==we.RTL?-1:1;s=r.x<l.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let l=this.pending={pos:i};o.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>Tt(e.state,a,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(OO),r=e?e.manager.tooltips.findIndex(n=>n.create==ih.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!yI(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,l=(n=(r=i[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!vI(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Za=4;function yI(t,e){let{left:r,right:n,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=r-Za&&e.clientX<=n+Za&&e.clientY>=i-Za&&e.clientY<=s+Za}function vI(t,e,r,n,i,s){let o=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>n||o.right<n||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=t.posAtCoords({x:n,y:i},!1);return a>=e&&a<=r}function SI(t,e={}){let r=J.define(),n=Fe.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let l of i){let a=s.changes.mapPos(l.pos,-1,et.TrackDel);if(a!=null){let c=Object.assign(Object.create(null),l);c.pos=a,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(r)&&(i=o.value),o.is(xI)&&(i=[]);return i},provide:i=>iu.from(i)});return{active:n,extension:[n,Re.define(i=>new mI(i,t,n,r,e.hoverTime||300)),OI]}}function Ok(t,e){let r=t.plugin(OO);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const xI=J.define(),Jy=Z.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function Tl(t,e){let r=t.plugin(mk),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const mk=Re.fromClass(class{constructor(t){this.input=t.state.facet($l),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(Jy);this.top=new Ua(t,!0,e.topContainer),this.bottom=new Ua(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(Jy);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ua(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ua(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet($l);if(r!=this.input){let n=r.filter(a=>a),i=[],s=[],o=[],l=[];for(let a of n){let c=this.specs.indexOf(a),u;c<0?(u=a(t.view),l.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?s:o).push(u)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>L.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Ua{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=Ky(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=Ky(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Ky(t){let e=t.nextSibling;return t.remove(),e}const $l=Z.define({enables:mk});class hn extends $i{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}hn.prototype.elementClass="";hn.prototype.toDOM=void 0;hn.prototype.mapMode=et.TrackBefore;hn.prototype.startSide=hn.prototype.endSide=-1;hn.prototype.point=!0;const vc=Z.define(),wI=Z.define(),bI={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ae.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ho=Z.define();function kI(t){return[yk(),Ho.of(Object.assign(Object.assign({},bI),t))]}const ev=Z.define({combine:t=>t.some(e=>e)});function yk(t){return[QI]}const QI=Re.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ho).map(e=>new rv(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(ev),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(ev)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=ae.iter(this.view.state.facet(vc),this.view.viewport.from),n=[],i=this.gutters.map(s=>new PI(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==Ot.Text&&o){Ep(r,n,l.from);for(let a of i)a.line(this.view,l,n);o=!1}else if(l.widget)for(let a of i)a.widget(this.view,l)}else if(s.type==Ot.Text){Ep(r,n,s.from);for(let o of i)o.line(this.view,s,n)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ho),r=t.state.facet(Ho),n=t.docChanged||t.heightChanged||t.viewportChanged||!ae.eq(t.startState.facet(vc),t.state.facet(vc),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(n=!0);else{n=!0;let i=[];for(let s of r){let o=e.indexOf(s);o<0?i.push(new rv(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>L.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==we.LTR?{left:r.dom.offsetWidth*e.scaleX}:{right:r.dom.offsetWidth*e.scaleX}})});function tv(t){return Array.isArray(t)?t:[t]}function Ep(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class PI{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=ae.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:i}=this,s=(r.top-this.height)/e.scaleY,o=r.height/e.scaleY;if(this.i==i.elements.length){let l=new vk(e,o,s,n);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,o,s,n);this.height=r.bottom,this.i++}line(e,r,n){let i=[];Ep(this.cursor,i,r.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,r,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),i=n?[n]:null;for(let s of e.state.facet(wI)){let o=s(e,r.widget,r);o&&(i||(i=[])).push(o)}i&&this.addElement(e,r,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class rv{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=i.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);r.domEventHandlers[n](e,l,i)&&i.preventDefault()});this.markers=tv(r.markers(e)),r.initialSpacer&&(this.spacer=new vk(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=tv(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!ae.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class vk{constructor(e,r,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,i)}update(e,r,n,i){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),TI(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let l=o,a=s<r.length?r[s++]:null,c=!1;if(a){let u=a.elementClass;u&&(n+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,c=!0;break}}else l=this.markers.length;for(;o<l;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!a)break;a.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),c&&o++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function TI(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const $I=Z.define(),_I=Z.define(),cs=Z.define({combine(t){return Ur(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let i in r){let s=n[i],o=r[i];n[i]=s?(l,a,c)=>s(l,a,c)||o(l,a,c):o}return n}})}});class dd extends hn{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function fd(t,e){return t.state.facet(cs).formatNumber(e,t.state)}const CI=Ho.compute([cs],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet($I)},lineMarker(e,r,n){return n.some(i=>i.toDOM)?null:new dd(fd(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let i of e.state.facet(_I)){let s=i(e,r,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(cs)!=e.state.facet(cs),initialSpacer(e){return new dd(fd(e,nv(e.state.doc.lines)))},updateSpacer(e,r){let n=fd(r.view,nv(r.view.state.doc.lines));return n==e.number?e:new dd(n)},domEventHandlers:t.facet(cs).domEventHandlers}));function EI(t={}){return[cs.of(t),yk(),CI]}function nv(t){let e=9;for(;e<t;)e=e*10+9;return e}const RI=new class extends hn{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},AI=vc.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(RI.range(i)))}return ae.of(e)});function jI(){return AI}const Sk=1024;let DI=0;class pd{constructor(e,r){this.from=e,this.to=r}}class ne{constructor(e={}){this.id=DI++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=At.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}ne.closedBy=new ne({deserialize:t=>t.split(" ")});ne.openedBy=new ne({deserialize:t=>t.split(" ")});ne.group=new ne({deserialize:t=>t.split(" ")});ne.isolate=new ne({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});ne.contextHash=new ne({perNode:!0});ne.lookAhead=new ne({perNode:!0});ne.mounted=new ne({perNode:!0});class su{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[ne.mounted.id]}}const NI=Object.create(null);class At{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):NI,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new At(e.name||"",r,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(ne.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(ne.group),s=-1;s<(i?i.length:0);s++){let o=r[s<0?n.name:i[s]];if(o)return o}}}}At.none=new At("",Object.create(null),0,8);class yO{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let s of e){let o=s(n);o&&(i||(i=Object.assign({},n.props)),i[o[0].id]=o[1])}r.push(i?new At(n.name,i,n.id,n.flags):n)}return new yO(r)}}const qa=new WeakMap,iv=new WeakMap;var De;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(De||(De={}));class Le{constructor(e,r,n,i,s){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=su.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new Ap(this.topNode,e)}cursorAt(e,r=0,n=0){let i=qa.get(this)||this.topNode,s=new Ap(i);return s.moveTo(e,r),qa.set(this,s._tree),s}get topNode(){return new Rt(this,0,0,null)}resolve(e,r=0){let n=_l(qa.get(this)||this.topNode,e,r,!1);return qa.set(this,n),n}resolveInner(e,r=0){let n=_l(iv.get(this)||this.topNode,e,r,!0);return iv.set(this,n),n}resolveStack(e,r=0){return MI(this,e,r)}iterate(e){let{enter:r,leave:n,from:i=0,to:s=this.length}=e,o=e.mode||0,l=(o&De.IncludeAnonymous)>0;for(let a=this.cursor(o|De.IncludeAnonymous);;){let c=!1;if(a.from<=s&&a.to>=i&&(!l&&a.type.isAnonymous||r(a)!==!1)){if(a.firstChild())continue;c=!0}for(;c&&n&&(l||!a.type.isAnonymous)&&n(a),!a.nextSibling();){if(!a.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:xO(At.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new Le(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new Le(At.none,r,n,i)))}static build(e){return ZI(e)}}Le.empty=new Le(At.none,[],[],0);class vO{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new vO(this.buffer,this.index)}}class Gn{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return At.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,r,n,i,s){let{buffer:o}=this,l=-1;for(let a=e;a!=r&&!(xk(s,i,o[a+1],o[a+2])&&(l=a,n>0));a=o[a+3]);return l}slice(e,r,n){let i=this.buffer,s=new Uint16Array(r-e),o=0;for(let l=e,a=0;l<r;){s[a++]=i[l++],s[a++]=i[l++]-n;let c=s[a++]=i[l++]-n;s[a++]=i[l++]-e,o=Math.max(o,c)}return new Gn(s,o,this.set)}}function xk(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function _l(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Rt&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=n?0:De.IgnoreOverlays;if(n)for(let o=t,l=o.parent;l;o=l,l=o.parent)o instanceof Rt&&o.index<0&&((i=l.enter(e,r,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=l);for(;;){let o=t.enter(e,r,s);if(!o)return t;t=o}}class wk{cursor(e=0){return new Ap(this,e)}getChild(e,r=null,n=null){let i=sv(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return sv(this,e,r,n)}resolve(e,r=0){return _l(this,e,r,!1)}resolveInner(e,r=0){return _l(this,e,r,!0)}matchContext(e){return Rp(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let i=r.lastChild;if(!i||i.to!=r.to)break;i.type.isError&&i.from==i.to?(n=r,r=i.prevSibling):r=i}return n}get node(){return this}get next(){return this.parent}}class Rt extends wk{constructor(e,r,n,i){super(),this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,s=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,c=r>0?l.length:-1;e!=c;e+=r){let u=l[e],h=a[e]+o.from;if(xk(i,n,h,h+u.length)){if(u instanceof Gn){if(s&De.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,r,n-h,i);if(d>-1)return new Ar(new II(o,u,e,h),null,d)}else if(s&De.IncludeAnonymous||!u.type.isAnonymous||SO(u)){let d;if(!(s&De.IgnoreMounts)&&(d=su.get(u))&&!d.overlay)return new Rt(d.tree,h,e,o);let f=new Rt(u,h,e,o);return s&De.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(r<0?u.children.length-1:0,r,n,i)}}}if(s&De.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+r:e=r<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let i;if(!(n&De.IgnoreOverlays)&&(i=su.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:l}of i.overlay)if((r>0?o<=s:o<s)&&(r<0?l>=s:l>s))return new Rt(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function sv(t,e,r,n){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(r!=null){for(let o=!1;!o;)if(o=i.type.is(r),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function Rp(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class II{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}}class Ar extends wk{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return s<0?null:new Ar(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&De.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return s<0?null:new Ar(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ar(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Ar(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let o=n.buffer[this.index+1];e.push(n.slice(i,s,o)),r.push(0)}return new Le(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function bk(t){if(!t.length)return null;let e=0,r=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>r.from||o.to<r.to)&&(r=o,e=s)}let n=r instanceof Rt&&r.index<0?null:r.parent,i=t.slice();return n?i[e]=n:i.splice(e,1),new LI(i,r)}class LI{constructor(e,r){this.heads=e,this.node=r}get next(){return bk(this.heads)}}function MI(t,e,r){let n=t.resolveInner(e,r),i=null;for(let s=n instanceof Rt?n:n.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[n])).push(o.resolve(e,r)),s=o}else{let o=su.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Rt(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(_l(l,e,r,!1))}}return i?bk(i):n}class Ap{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Rt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Rt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&De.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&De.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&De.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let s=r+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let l=n._tree.children[s];if(this.mode&De.IncludeAnonymous||l instanceof Gn||!l.type.isAnonymous||SO(l))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;r=o,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)r=new Ar(this.buffer,r,this.stack[i]);return this.bufferNode=new Ar(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&r&&r(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return Rp(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Rp(this._tree,e,i);let o=n[r.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function SO(t){return t.children.some(e=>e instanceof Gn||!e.type.isAnonymous||SO(e))}function ZI(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=Sk,reused:s=[],minRepeatType:o=n.types.length}=t,l=Array.isArray(r)?new vO(r,r.length):r,a=n.types,c=0,u=0;function h(x,Q,P,T,_,C){let{id:D,start:R,end:X,size:N}=l,M=u,B=c;for(;N<0;)if(l.next(),N==-1){let G=s[D];P.push(G),T.push(R-x);return}else if(N==-3){c=D;return}else if(N==-4){u=D;return}else throw new RangeError(`Unrecognized record size: ${N}`);let V=a[D],E,A,U=R-x;if(X-R<=i&&(A=y(l.pos-Q,_))){let G=new Uint16Array(A.size-A.skip),F=l.pos-A.size,Ae=G.length;for(;l.pos>F;)Ae=g(A.start,G,Ae);E=new Gn(G,X-A.start,n),U=A.start-x}else{let G=l.pos-N;l.next();let F=[],Ae=[],Xe=D>=o?D:-1,ht=0,dt=X;for(;l.pos>G;)Xe>=0&&l.id==Xe&&l.size>=0?(l.end<=dt-i&&(p(F,Ae,R,ht,l.end,dt,Xe,M,B),ht=F.length,dt=l.end),l.next()):C>2500?d(R,G,F,Ae):h(R,G,F,Ae,Xe,C+1);if(Xe>=0&&ht>0&&ht<F.length&&p(F,Ae,R,ht,R,dt,Xe,M,B),F.reverse(),Ae.reverse(),Xe>-1&&ht>0){let lr=f(V,B);E=xO(V,F,Ae,0,F.length,0,X-R,lr,lr)}else E=O(V,F,Ae,X-R,M-X,B)}P.push(E),T.push(U)}function d(x,Q,P,T){let _=[],C=0,D=-1;for(;l.pos>Q;){let{id:R,start:X,end:N,size:M}=l;if(M>4)l.next();else{if(D>-1&&X<D)break;D<0&&(D=N-i),_.push(R,X,N),C++,l.next()}}if(C){let R=new Uint16Array(C*4),X=_[_.length-2];for(let N=_.length-3,M=0;N>=0;N-=3)R[M++]=_[N],R[M++]=_[N+1]-X,R[M++]=_[N+2]-X,R[M++]=M;P.push(new Gn(R,_[2]-X,n)),T.push(X-x)}}function f(x,Q){return(P,T,_)=>{let C=0,D=P.length-1,R,X;if(D>=0&&(R=P[D])instanceof Le){if(!D&&R.type==x&&R.length==_)return R;(X=R.prop(ne.lookAhead))&&(C=T[D]+R.length+X)}return O(x,P,T,_,C,Q)}}function p(x,Q,P,T,_,C,D,R,X){let N=[],M=[];for(;x.length>T;)N.push(x.pop()),M.push(Q.pop()+P-_);x.push(O(n.types[D],N,M,C-_,R-C,X)),Q.push(_-P)}function O(x,Q,P,T,_,C,D){if(C){let R=[ne.contextHash,C];D=D?[R].concat(D):[R]}if(_>25){let R=[ne.lookAhead,_];D=D?[R].concat(D):[R]}return new Le(x,Q,P,T,D)}function y(x,Q){let P=l.fork(),T=0,_=0,C=0,D=P.end-i,R={size:0,start:0,skip:0};e:for(let X=P.pos-x;P.pos>X;){let N=P.size;if(P.id==Q&&N>=0){R.size=T,R.start=_,R.skip=C,C+=4,T+=4,P.next();continue}let M=P.pos-N;if(N<0||M<X||P.start<D)break;let B=P.id>=o?4:0,V=P.start;for(P.next();P.pos>M;){if(P.size<0)if(P.size==-3)B+=4;else break e;else P.id>=o&&(B+=4);P.next()}_=V,T+=N,C+=B}return(Q<0||T==x)&&(R.size=T,R.start=_,R.skip=C),R.size>4?R:void 0}function g(x,Q,P){let{id:T,start:_,end:C,size:D}=l;if(l.next(),D>=0&&T<o){let R=P;if(D>4){let X=l.pos-(D-4);for(;l.pos>X;)P=g(x,Q,P)}Q[--P]=R,Q[--P]=C-x,Q[--P]=_-x,Q[--P]=T}else D==-3?c=T:D==-4&&(u=T);return P}let m=[],S=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,m,S,-1,0);let b=(e=t.length)!==null&&e!==void 0?e:m.length?S[0]+m[0].length:0;return new Le(a[t.topID],m.reverse(),S.reverse(),b)}const ov=new WeakMap;function Sc(t,e){if(!t.isAnonymous||e instanceof Gn||e.type!=t)return 1;let r=ov.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Le)){r=1;break}r+=Sc(t,n)}ov.set(e,r)}return r}function xO(t,e,r,n,i,s,o,l,a){let c=0;for(let p=n;p<i;p++)c+=Sc(t,e[p]);let u=Math.ceil(c*1.5/8),h=[],d=[];function f(p,O,y,g,m){for(let S=y;S<g;){let b=S,x=O[S],Q=Sc(t,p[S]);for(S++;S<g;S++){let P=Sc(t,p[S]);if(Q+P>=u)break;Q+=P}if(S==b+1){if(Q>u){let P=p[b];f(P.children,P.positions,0,P.children.length,O[b]+m);continue}h.push(p[b])}else{let P=O[S-1]+p[S-1].length-x;h.push(xO(t,p,O,b,S,x,P,null,a))}d.push(x+m-s)}}return f(e,r,n,i,0),(l||a)(h,d,o)}class kk{constructor(){this.map=new WeakMap}setBuffer(e,r,n){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(r,n)}getBuffer(e,r){let n=this.map.get(e);return n&&n.get(r)}set(e,r){e instanceof Ar?this.setBuffer(e.context.buffer,e.index,r):e instanceof Rt&&this.map.set(e.tree,r)}get(e){return e instanceof Ar?this.getBuffer(e.context.buffer,e.index):e instanceof Rt?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class vi{constructor(e,r,n,i,s=!1,o=!1){this.from=e,this.to=r,this.tree=n,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let i=[new vi(0,e.length,e,0,!1,n)];for(let s of r)s.to>e.length&&i.push(s);return i}static applyChanges(e,r,n=128){if(!r.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<r.length?r[l]:null,h=u?u.fromA:1e9;if(h-a>=n)for(;o&&o.from<h;){let d=o;if(a>=d.from||h<=d.to||c){let f=Math.max(d.from,a)-c,p=Math.min(d.to,h)-c;d=f>=p?null:new vi(f,p,d.tree,d.offset+c,l>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return i}}class Qk{startParse(e,r,n){return typeof e=="string"&&(e=new UI(e)),n=n?n.length?n.map(i=>new pd(i.from,i.to)):[new pd(0,0)]:[new pd(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let s=i.advance();if(s)return s}}}class UI{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new ne({perNode:!0});let qI=0;class Yt{constructor(e,r,n,i){this.name=e,this.set=r,this.base=n,this.modified=i,this.id=qI++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof Yt&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let i=new Yt(n,[],null,[]);if(i.set.push(i),r)for(let s of r.set)i.set.push(s);return i}static defineModifier(e){let r=new ou(e);return n=>n.modified.indexOf(r)>-1?n:ou.get(n.base||n,n.modified.concat(r).sort((i,s)=>i.id-s.id))}}let zI=0;class ou{constructor(e){this.name=e,this.instances=[],this.id=zI++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(l=>l.base==e&&XI(r,l.modified));if(n)return n;let i=[],s=new Yt(e.name,i,e,r);for(let l of r)l.instances.push(s);let o=WI(r);for(let l of e.set)if(!l.modified.length)for(let a of o)i.push(ou.get(l,a));return s}}function XI(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function WI(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function wO(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let s=[],o=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let f=i[h++];if(h==i.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let a=s.length-1,c=s[a];if(!c)throw new RangeError("Invalid path: "+i);let u=new lu(n,o,a>0?s.slice(0,a):null);e[c]=u.sort(e[c])}}return Pk.add(e)}const Pk=new ne;class lu{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}lu.empty=new lu([],2,null);function Tk(t,e){let r=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))r[s.tag.id]=s.class;else for(let o of s.tag)r[o.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let o=i;for(let l of s)for(let a of l.set){let c=r[a.id];if(c){o=o?o+" "+c:c;break}}return o},scope:n}}function BI(t,e){let r=null;for(let n of t){let i=n.style(e);i&&(r=r?r+" "+i:i)}return r}function VI(t,e,r,n=0,i=t.length){let s=new GI(n,Array.isArray(e)?e:[e],r);s.highlightRange(t.cursor(),n,i,"",s.highlighters),s.flush(i)}class GI{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,i,s){let{type:o,from:l,to:a}=e;if(l>=n||a<=r)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let c=i,u=FI(e)||lu.empty,h=BI(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(r,l),c),u.opaque)return;let d=e.tree&&e.tree.prop(ne.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+l,1),p=this.highlighters.filter(y=>!y.scope||y.scope(d.tree.type)),O=e.firstChild();for(let y=0,g=l;;y++){let m=y<d.overlay.length?d.overlay[y]:null,S=m?m.from+l:a,b=Math.max(r,g),x=Math.min(n,S);if(b<x&&O)for(;e.from<x&&(this.highlightRange(e,b,x,i,s),this.startSpan(Math.min(x,e.to),c),!(e.to>=S||!e.nextSibling())););if(!m||S>n)break;g=m.to+l,g>r&&(this.highlightRange(f.cursor(),Math.max(r,m.from+l),Math.min(n,g),"",p),this.startSpan(Math.min(n,g),c))}O&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,i,s),this.startSpan(Math.min(n,e.to),c)}while(e.nextSibling());e.parent()}}}function FI(t){let e=t.type.prop(Pk);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const I=Yt.define,za=I(),wn=I(),lv=I(wn),av=I(wn),bn=I(),Xa=I(bn),gd=I(bn),Pr=I(),ii=I(Pr),br=I(),kr=I(),jp=I(),vo=I(jp),Wa=I(),w={comment:za,lineComment:I(za),blockComment:I(za),docComment:I(za),name:wn,variableName:I(wn),typeName:lv,tagName:I(lv),propertyName:av,attributeName:I(av),className:I(wn),labelName:I(wn),namespace:I(wn),macroName:I(wn),literal:bn,string:Xa,docString:I(Xa),character:I(Xa),attributeValue:I(Xa),number:gd,integer:I(gd),float:I(gd),bool:I(bn),regexp:I(bn),escape:I(bn),color:I(bn),url:I(bn),keyword:br,self:I(br),null:I(br),atom:I(br),unit:I(br),modifier:I(br),operatorKeyword:I(br),controlKeyword:I(br),definitionKeyword:I(br),moduleKeyword:I(br),operator:kr,derefOperator:I(kr),arithmeticOperator:I(kr),logicOperator:I(kr),bitwiseOperator:I(kr),compareOperator:I(kr),updateOperator:I(kr),definitionOperator:I(kr),typeOperator:I(kr),controlOperator:I(kr),punctuation:jp,separator:I(jp),bracket:vo,angleBracket:I(vo),squareBracket:I(vo),paren:I(vo),brace:I(vo),content:Pr,heading:ii,heading1:I(ii),heading2:I(ii),heading3:I(ii),heading4:I(ii),heading5:I(ii),heading6:I(ii),contentSeparator:I(Pr),list:I(Pr),quote:I(Pr),emphasis:I(Pr),strong:I(Pr),link:I(Pr),monospace:I(Pr),strikethrough:I(Pr),inserted:I(),deleted:I(),changed:I(),invalid:I(),meta:Wa,documentMeta:I(Wa),annotation:I(Wa),processingInstruction:I(Wa),definition:Yt.defineModifier("definition"),constant:Yt.defineModifier("constant"),function:Yt.defineModifier("function"),standard:Yt.defineModifier("standard"),local:Yt.defineModifier("local"),special:Yt.defineModifier("special")};for(let t in w){let e=w[t];e instanceof Yt&&(e.name=t)}Tk([{tag:w.link,class:"tok-link"},{tag:w.heading,class:"tok-heading"},{tag:w.emphasis,class:"tok-emphasis"},{tag:w.strong,class:"tok-strong"},{tag:w.keyword,class:"tok-keyword"},{tag:w.atom,class:"tok-atom"},{tag:w.bool,class:"tok-bool"},{tag:w.url,class:"tok-url"},{tag:w.labelName,class:"tok-labelName"},{tag:w.inserted,class:"tok-inserted"},{tag:w.deleted,class:"tok-deleted"},{tag:w.literal,class:"tok-literal"},{tag:w.string,class:"tok-string"},{tag:w.number,class:"tok-number"},{tag:[w.regexp,w.escape,w.special(w.string)],class:"tok-string2"},{tag:w.variableName,class:"tok-variableName"},{tag:w.local(w.variableName),class:"tok-variableName tok-local"},{tag:w.definition(w.variableName),class:"tok-variableName tok-definition"},{tag:w.special(w.variableName),class:"tok-variableName2"},{tag:w.definition(w.propertyName),class:"tok-propertyName tok-definition"},{tag:w.typeName,class:"tok-typeName"},{tag:w.namespace,class:"tok-namespace"},{tag:w.className,class:"tok-className"},{tag:w.macroName,class:"tok-macroName"},{tag:w.propertyName,class:"tok-propertyName"},{tag:w.operator,class:"tok-operator"},{tag:w.comment,class:"tok-comment"},{tag:w.meta,class:"tok-meta"},{tag:w.invalid,class:"tok-invalid"},{tag:w.punctuation,class:"tok-punctuation"}]);var Od;const us=new ne;function $k(t){return Z.define({combine:t?e=>e.concat(t):void 0})}const bO=new ne;class pr{constructor(e,r,n=[],i=""){this.data=e,this.name=i,oe.prototype.hasOwnProperty("tree")||Object.defineProperty(oe.prototype,"tree",{get(){return Me(this)}}),this.parser=r,this.extension=[Fn.of(this),oe.languageData.of((s,o,l)=>{let a=cv(s,o,l),c=a.type.prop(us);if(!c)return[];let u=s.facet(c),h=a.type.prop(bO);if(h){let d=a.resolve(o-a.from,l);for(let f of h)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(u)}}return u})].concat(n)}isActiveAt(e,r,n=-1){return cv(e,r,n).type.prop(us)==this.data}findRegions(e){let r=e.facet(Fn);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],i=(s,o)=>{if(s.prop(us)==this.data){n.push({from:o,to:o+s.length});return}let l=s.prop(ne.mounted);if(l){if(l.tree.prop(us)==this.data){if(l.overlay)for(let a of l.overlay)n.push({from:a.from+o,to:a.to+o});else n.push({from:o,to:o+s.length});return}else if(l.overlay){let a=n.length;if(i(l.tree,l.overlay[0].from+o),n.length>a)return}}for(let a=0;a<s.children.length;a++){let c=s.children[a];c instanceof Le&&i(c,s.positions[a]+o)}};return i(Me(e),0),n}get allowsNesting(){return!0}}pr.setState=J.define();function cv(t,e,r){let n=t.facet(Fn),i=Me(t).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,r,De.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Cl extends pr{constructor(e,r,n){super(e,r,[],n),this.parser=r}static define(e){let r=$k(e.languageData);return new Cl(r,e.parser.configure({props:[us.add(n=>n.isTop?r:void 0)]}),e.name)}configure(e,r){return new Cl(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Me(t){let e=t.field(pr.state,!1);return e?e.tree:Le.empty}class YI{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let So=null;class au{constructor(e,r,n=[],i,s,o,l,a){this.parser=e,this.state=r,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new au(e,r,[],Le.empty,0,n,[],null)}startParse(){return this.parser.startParse(new YI(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Le.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vi.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(vi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=So;So=this;try{return e()}finally{So=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=uv(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:i,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,h,d)=>a.push({fromA:c,toA:u,fromB:h,toB:d})),n=vi.applyChanges(n,a),i=Le.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&l.push({from:u,to:h})}}}return new au(this.parser,r,n,i,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=uv(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends Qk{createParse(r,n,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let a=So;if(a){for(let c of i)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new Le(At.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return So}}function uv(t,e,r){return vi.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class Zs{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new Zs(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=au.create(e.facet(Fn).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new Zs(n)}}pr.state=Fe.define({create:Zs.init,update(t,e){for(let r of e.effects)if(r.is(pr.setState))return r.value;return e.startState.facet(Fn)!=e.state.facet(Fn)?Zs.init(e.state):t.apply(e)}});let _k=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(_k=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const md=typeof navigator<"u"&&(!((Od=navigator.scheduling)===null||Od===void 0)&&Od.isInputPending)?()=>navigator.scheduling.isInputPending():null,HI=Re.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(pr.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(pr.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=_k(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(pr.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!md?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&n.doc.length>i+1e3,a=s.context.work(()=>md&&md()||Date.now()>o,i+(l?0:1e5));this.chunkBudget-=Date.now()-r,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:pr.setState.of(new Zs(s.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>Tt(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Fn=Z.define({combine(t){return t.length?t[0]:null},enables:t=>[pr.state,HI,L.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class Ck{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const JI=Z.define(),Kl=Z.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function cu(t){let e=t.facet(Kl);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function El(t,e){let r="",n=t.tabSize,i=t.facet(Kl)[0];if(i=="	"){for(;e>=n;)r+="	",e-=n;i=" "}for(let s=0;s<e;s++)r+=i;return r}function kO(t,e){t instanceof oe&&(t=new sh(t));for(let n of t.state.facet(JI)){let i=n(t,e);if(i!==void 0)return i}let r=Me(t.state);return r.length>=e?KI(t,r,e):null}class sh{constructor(e,r={}){this.state=e,this.options=r,this.unit=cu(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,r);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,r=1){let{text:n,from:i}=this.lineAt(e,r),s=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,r=e.length){return Js(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:i}=this.lineAt(e,r),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const QO=new ne;function KI(t,e,r){let n=e.resolveStack(r),i=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(i!=n.node){let s=[];for(let o=i;o&&!(o.from==n.node.from&&o.type==n.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)n={node:s[o],next:n}}return Ek(n,t,r)}function Ek(t,e,r){for(let n=t;n;n=n.next){let i=tL(n.node);if(i)return i(PO.create(e,r,n))}return 0}function eL(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function tL(t){let e=t.type.prop(QO);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(ne.closedBy))){let i=t.lastChild,s=i&&n.indexOf(i.name)>-1;return o=>Rk(o,!0,1,void 0,s&&!eL(o)?i.from:void 0)}return t.parent==null?rL:null}function rL(){return 0}class PO extends sh{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new PO(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(nL(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return Ek(this.context.next,this.base,this.pos)}}function nL(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function iL(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(r.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=r.to;;){let a=e.childAfter(l);if(!a||a==n)return null;if(!a.type.isSkipped){if(a.from>=o)return null;let c=/^ */.exec(s.text.slice(r.to-s.from))[0].length;return{from:r.from,to:r.to+c}}l=a.to}}function xc({closing:t,align:e=!0,units:r=1}){return n=>Rk(n,e,r,t)}function Rk(t,e,r,n,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,l=n&&s.slice(o,o+n.length)==n||i==t.pos+o,a=e?iL(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*r)}const sL=t=>t.baseIndent;function yd({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}const oL=200;function lL(){return oe.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+oL)return t;let s=r.sliceString(i.from,n);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,l=-1,a=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==l)continue;l=u.from;let h=kO(o,u.from);if(h==null)continue;let d=/^\s*/.exec(u.text)[0],f=El(o,h);d!=f&&a.push({from:u.from,to:u.from+d.length,insert:f})}return a.length?[t,{changes:a,sequential:!0}]:t})}const aL=Z.define(),TO=new ne;function Ak(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function cL(t,e,r){let n=Me(t);if(n.length<r)return null;let i=n.resolveStack(r,1),s=null;for(let o=i;o;o=o.next){let l=o.node;if(l.to<=r||l.from>r)continue;if(s&&l.from<e)break;let a=l.type.prop(TO);if(a&&(l.to<n.length-50||n.length==t.doc.length||!uL(l))){let c=a(l,t);c&&c.from<=r&&c.from>=e&&c.to>r&&(s=c)}}return s}function uL(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function uu(t,e,r){for(let n of t.facet(aL)){let i=n(t,e,r);if(i)return i}return cL(t,e,r)}function jk(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const oh=J.define({map:jk}),ea=J.define({map:jk});function Dk(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const Ri=Fe.define({create(){return W.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)if(r.is(oh)&&!hL(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(Lk),i=n?W.replace({widget:new yL(n(e.state,r.value))}):hv;t=t.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(ea)&&(t=t.update({filter:(n,i)=>r.value.from!=n||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(i,s)=>{i<n&&s>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(i,s)=>s<=n||i>=n}))}return t},provide:t=>L.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,i)=>{r.push(n,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(hv.range(n,i))}return W.set(e,!0)}});function hu(t,e,r){var n;let i=null;return(n=t.field(Ri,!1))===null||n===void 0||n.between(e,r,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function hL(t,e,r){let n=!1;return t.between(e,e,(i,s)=>{i==e&&s==r&&(n=!0)}),n}function Nk(t,e){return t.field(Ri,!1)?e:e.concat(J.appendConfig.of(Mk()))}const dL=t=>{for(let e of Dk(t)){let r=uu(t.state,e.from,e.to);if(r)return t.dispatch({effects:Nk(t.state,[oh.of(r),Ik(t,r)])}),!0}return!1},fL=t=>{if(!t.state.field(Ri,!1))return!1;let e=[];for(let r of Dk(t)){let n=hu(t.state,r.from,r.to);n&&e.push(ea.of(n),Ik(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Ik(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return L.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}const pL=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),s=uu(e,i.from,i.to);s&&r.push(oh.of(s)),n=(s?t.lineBlockAt(s.to):i).to+1}return r.length&&t.dispatch({effects:Nk(t.state,r)}),!!r.length},gL=t=>{let e=t.state.field(Ri,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,i)=>{r.push(ea.of({from:n,to:i}))}),t.dispatch({effects:r}),!0},OL=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:dL},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fL},{key:"Ctrl-Alt-[",run:pL},{key:"Ctrl-Alt-]",run:gL}],mL={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Lk=Z.define({combine(t){return Ur(t,mL)}});function Mk(t){return[Ri,xL]}function Zk(t,e){let{state:r}=t,n=r.facet(Lk),i=o=>{let l=t.lineBlockAt(t.posAtDOM(o.target)),a=hu(t.state,l.from,l.to);a&&t.dispatch({effects:ea.of(a)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",r.phrase("folded code")),s.title=r.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const hv=W.replace({widget:new class extends qr{toDOM(t){return Zk(t,null)}}});class yL extends qr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Zk(e,this.value)}}const vL={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class vd extends hn{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function SL(t={}){let e=Object.assign(Object.assign({},vL),t),r=new vd(e,!0),n=new vd(e,!1),i=Re.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Fn)!=o.state.facet(Fn)||o.startState.field(Ri,!1)!=o.state.field(Ri,!1)||Me(o.startState)!=Me(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new cn;for(let a of o.viewportLineBlocks){let c=hu(o.state,a.from,a.to)?n:uu(o.state,a.from,a.to)?r:null;c&&l.add(a.from,a.from,c)}return l.finish()}}),{domEventHandlers:s}=e;return[i,kI({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(i))===null||l===void 0?void 0:l.markers)||ae.empty},initialSpacer(){return new vd(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,l,a)=>{if(s.click&&s.click(o,l,a))return!0;let c=hu(o.state,l.from,l.to);if(c)return o.dispatch({effects:ea.of(c)}),!0;let u=uu(o.state,l.from,l.to);return u?(o.dispatch({effects:oh.of(u)}),!0):!1}})}),Mk()]}const xL=L.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ta{constructor(e,r){this.specs=e;let n;function i(l){let a=Wn.newName();return(n||(n=Object.create(null)))["."+a]=l,a}const s=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,o=r.scope;this.scope=o instanceof pr?l=>l.prop(us)==o.data:o?l=>l==o:void 0,this.style=Tk(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=n?new Wn(n):null,this.themeType=r.themeType}static define(e,r){return new ta(e,r||{})}}const Dp=Z.define(),Uk=Z.define({combine(t){return t.length?[t[0]]:null}});function Sd(t){let e=t.facet(Dp);return e.length?e:t.facet(Uk)}function qk(t,e){let r=[bL],n;return t instanceof ta&&(t.module&&r.push(L.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(Uk.of(t)):n?r.push(Dp.computeN([L.darkTheme],i=>i.facet(L.darkTheme)==(n=="dark")?[t]:[])):r.push(Dp.of(t)),r}class wL{constructor(e){this.markCache=Object.create(null),this.tree=Me(e.state),this.decorations=this.buildDeco(e,Sd(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=Me(e.state),n=Sd(e.state),i=n!=Sd(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);r.length<s.to&&!i&&r.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,r){if(!r||!this.tree.length)return W.none;let n=new cn;for(let{from:i,to:s}of e.visibleRanges)VI(this.tree,r,(o,l,a)=>{n.add(o,l,this.markCache[a]||(this.markCache[a]=W.mark({class:a})))},i,s);return n.finish()}}const bL=ti.high(Re.fromClass(wL,{decorations:t=>t.decorations})),kL=ta.define([{tag:w.meta,color:"#404740"},{tag:w.link,textDecoration:"underline"},{tag:w.heading,textDecoration:"underline",fontWeight:"bold"},{tag:w.emphasis,fontStyle:"italic"},{tag:w.strong,fontWeight:"bold"},{tag:w.strikethrough,textDecoration:"line-through"},{tag:w.keyword,color:"#708"},{tag:[w.atom,w.bool,w.url,w.contentSeparator,w.labelName],color:"#219"},{tag:[w.literal,w.inserted],color:"#164"},{tag:[w.string,w.deleted],color:"#a11"},{tag:[w.regexp,w.escape,w.special(w.string)],color:"#e40"},{tag:w.definition(w.variableName),color:"#00f"},{tag:w.local(w.variableName),color:"#30a"},{tag:[w.typeName,w.namespace],color:"#085"},{tag:w.className,color:"#167"},{tag:[w.special(w.variableName),w.macroName],color:"#256"},{tag:w.definition(w.propertyName),color:"#00c"},{tag:w.comment,color:"#940"},{tag:w.invalid,color:"#f00"}]),QL=L.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),zk=1e4,Xk="()[]{}",Wk=Z.define({combine(t){return Ur(t,{afterCursor:!0,brackets:Xk,maxScanDistance:zk,renderMatch:$L})}}),PL=W.mark({class:"cm-matchingBracket"}),TL=W.mark({class:"cm-nonmatchingBracket"});function $L(t){let e=[],r=t.matched?PL:TL;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const _L=Fe.define({create(){return W.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(Wk);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=jr(e.state,i.head,-1,n)||i.head>0&&jr(e.state,i.head-1,1,n)||n.afterCursor&&(jr(e.state,i.head,1,n)||i.head<e.state.doc.length&&jr(e.state,i.head+1,-1,n));s&&(r=r.concat(n.renderMatch(s,e.state)))}return W.set(r,!0)},provide:t=>L.decorations.from(t)}),CL=[_L,QL];function EL(t={}){return[Wk.of(t),CL]}const RL=new ne;function Np(t,e,r){let n=t.prop(e<0?ne.openedBy:ne.closedBy);if(n)return n;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function Ip(t){let e=t.type.prop(RL);return e?e(t.node):t}function jr(t,e,r,n={}){let i=n.maxScanDistance||zk,s=n.brackets||Xk,o=Me(t),l=o.resolveInner(e,r);for(let a=l;a;a=a.parent){let c=Np(a.type,r,s);if(c&&a.from<a.to){let u=Ip(a);if(u&&(r>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return AL(t,e,r,a,u,c,s)}}return jL(t,e,r,o,l.type,i,s)}function AL(t,e,r,n,i,s,o){let l=n.parent,a={from:i.from,to:i.to},c=0,u=l==null?void 0:l.cursor();if(u&&(r<0?u.childBefore(n.from):u.childAfter(n.to)))do if(r<0?u.to<=n.from:u.from>=n.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=Ip(u);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Np(u.type,r,o))c++;else if(Np(u.type,-r,o)){if(c==0){let h=Ip(u);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(r<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function jL(t,e,r,n,i,s,o){let l=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=r>0)return null;let c={from:r<0?e-1:e,to:r>0?e+1:e},u=t.doc.iterRange(e,r>0?t.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=s;){let f=u.value;r<0&&(d+=f.length);let p=e+d*r;for(let O=r>0?0:f.length-1,y=r>0?f.length:-1;O!=y;O+=r){let g=o.indexOf(f[O]);if(!(g<0||n.resolveInner(p+O,1).type!=i))if(g%2==0==r>0)h++;else{if(h==1)return{start:c,end:{from:p+O,to:p+O+1},matched:g>>1==a>>1};h--}}r>0&&(d+=f.length)}return u.done?{start:c,matched:!1}:null}const DL=Object.create(null),dv=[At.none],fv=[],pv=Object.create(null),NL=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])NL[t]=IL(DL,e);function xd(t,e){fv.indexOf(t)>-1||(fv.push(t),console.warn(e))}function IL(t,e){let r=[];for(let l of e.split(" ")){let a=[];for(let c of l.split(".")){let u=t[c]||w[c];u?typeof u=="function"?a.length?a=a.map(u):xd(c,`Modifier ${c} used at start of tag`):a.length?xd(c,`Tag ${c} used as modifier`):a=Array.isArray(u)?u:[u]:xd(c,`Unknown highlighting tag ${c}`)}for(let c of a)r.push(c)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+r.map(l=>l.id),s=pv[i];if(s)return s.id;let o=pv[i]=At.define({id:dv.length,name:n,props:[wO({[n]:r})]});return dv.push(o),o.id}we.RTL,we.LTR;const LL=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=_O(t.state,r.from);return n.line?ML(t):n.block?UL(t):!1};function $O(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(n(r.update(i)),!0):!1}}const ML=$O(XL,0),ZL=$O(Bk,0),UL=$O((t,e)=>Bk(t,e,zL(e)),0);function _O(t,e){let r=t.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const xo=50;function qL(t,{open:e,close:r},n,i){let s=t.sliceDoc(n-xo,n),o=t.sliceDoc(i,i+xo),l=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(o)[0].length,c=s.length-l;if(s.slice(c-e.length,c)==e&&o.slice(a,a+r.length)==r)return{open:{pos:n-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let u,h;i-n<=2*xo?u=h=t.sliceDoc(n,i):(u=t.sliceDoc(n,n+xo),h=t.sliceDoc(i-xo,i));let d=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-r.length;return u.slice(d,d+e.length)==e&&h.slice(p,p+r.length)==r?{open:{pos:n+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-f-r.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function zL(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to);i.from>n.from&&i.from==r.to&&(i=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function Bk(t,e,r=e.selection.ranges){let n=r.map(s=>_O(e,s.from).block);if(!n.every(s=>s))return null;let i=r.map((s,o)=>qL(e,n[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(r.map((s,o)=>i[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,l;o<i.length;o++)if(l=i[o]){let a=n[o],{open:c,close:u}=l;s.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:s}}return null}function XL(t,e,r=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:o}of r){let l=n.length,a=1e9,c=_O(e,s).line;if(c){for(let u=s;u<=o;){let h=e.doc.lineAt(u);if(h.from>i&&(s==o||o>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,f=d==h.length,p=h.text.slice(d,d+c.length)==c?d:-1;d<h.text.length&&d<a&&(a=d),n.push({line:h,comment:p,token:c,indent:d,empty:f,single:!1})}u=h.to+1}if(a<1e9)for(let u=l;u<n.length;u++)n[u].indent<n[u].line.text.length&&(n[u].indent=a);n.length==l+1&&(n[l].single=!0)}}if(t!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:a,indent:c,empty:u,single:h}of n)(h||!u)&&s.push({from:l.from+c,insert:a+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:a}of n)if(l>=0){let c=o.from+l,u=c+a.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const Lp=Zr.define(),WL=Zr.define(),BL=Z.define(),Vk=Z.define({combine(t){return Ur(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,i)=>e(n,i)||r(n,i)})}}),Gk=Fe.define({create(){return Dr.empty},update(t,e){let r=e.state.facet(Vk),n=e.annotation(Lp);if(n){let a=$t.fromTransaction(e,n.selection),c=n.side,u=c==0?t.undone:t.done;return a?u=du(u,u.length,r.minDepth,a):u=Hk(u,e.startState.selection),new Dr(c==0?n.rest:u,c==0?u:n.rest)}let i=e.annotation(WL);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ie.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=$t.fromTransaction(e),o=e.annotation(Ie.time),l=e.annotation(Ie.userEvent);return s?t=t.addChanges(s,o,l,r,e):e.selection&&(t=t.addSelection(e.startState.selection,o,l,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Dr(t.done.map($t.fromJSON),t.undone.map($t.fromJSON))}});function VL(t={}){return[Gk,Vk.of(t),L.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?Fk:e.inputType=="historyRedo"?Mp:null;return n?(e.preventDefault(),n(r)):!1}})]}function lh(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(Gk,!1);if(!i)return!1;let s=i.pop(t,r,e);return s?(n(s),!0):!1}}const Fk=lh(0,!1),Mp=lh(1,!1),GL=lh(0,!0),FL=lh(1,!0);class $t{constructor(e,r,n,i,s){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new $t(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new $t(e.changes&&Ue.fromJSON(e.changes),[],e.mapped&&Lr.fromJSON(e.mapped),e.startSelection&&$.fromJSON(e.startSelection),e.selectionsAfter.map($.fromJSON))}static fromTransaction(e,r){let n=Jt;for(let i of e.startState.facet(BL)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new $t(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,Jt)}static selection(e){return new $t(void 0,Jt,void 0,void 0,e)}}function du(t,e,r,n){let i=e+1>r+20?e-r-1:0,s=t.slice(i,e);return s.push(n),s}function YL(t,e){let r=[],n=!1;return t.iterChangedRanges((i,s)=>r.push(i,s)),e.iterChangedRanges((i,s,o,l)=>{for(let a=0;a<r.length;){let c=r[a++],u=r[a++];l>=c&&o<=u&&(n=!0)}}),n}function HL(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function Yk(t,e){return t.length?e.length?t.concat(e):t:e}const Jt=[],JL=200;function Hk(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-JL));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),du(t,t.length-1,1e9,r.setSelAfter(n)))}else return[$t.selection([e])]}function KL(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function wd(t,e){if(!t.length)return t;let r=t.length,n=Jt;for(;r;){let i=e5(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,r);return s[r-1]=i,s}else e=i.mapped,r--,n=i.selectionsAfter}return n.length?[$t.selection(n)]:Jt}function e5(t,e,r){let n=Yk(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):Jt,r);if(!t.changes)return $t.selection(n);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new $t(i,J.mapEffects(t.effects,e),o,t.startSelection.map(s),n)}const t5=/^(input\.type|delete)($|\.)/;class Dr{constructor(e,r,n=0,i=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Dr(this.done,this.undone):this}addChanges(e,r,n,i,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||t5.test(n))&&(!l.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,YL(l.changes,e.changes))||n=="input.type.compose")?o=du(o,o.length-1,i.minDepth,new $t(e.changes.compose(l.changes),Yk(J.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,Jt)):o=du(o,o.length,i.minDepth,e),new Dr(o,Jt,r,n)}addSelection(e,r,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Jt;return s.length>0&&r-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&HL(s[s.length-1],e)?this:new Dr(Hk(this.done,e),this.undone,r,n)}addMapping(e){return new Dr(wd(this.done,e),wd(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||r.selection;if(n&&s.selectionsAfter.length)return r.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Lp.of({side:e,rest:KL(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?Jt:i.slice(0,i.length-1);return s.mapped&&(l=wd(l,s.mapped)),r.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Lp.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Dr.empty=new Dr(Jt,Jt);const r5=[{key:"Mod-z",run:Fk,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Mp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Mp,preventDefault:!0},{key:"Mod-u",run:GL,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:FL,preventDefault:!0}];function Ks(t,e){return $.create(t.ranges.map(e),t.mainIndex)}function zr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Sr({state:t,dispatch:e},r){let n=Ks(t.selection,r);return n.eq(t.selection,!0)?!1:(e(zr(t,n)),!0)}function ah(t,e){return $.cursor(e?t.to:t.from)}function Jk(t,e){return Sr(t,r=>r.empty?t.moveByChar(r,e):ah(r,e))}function ut(t){return t.textDirectionAt(t.state.selection.main.head)==we.LTR}const Kk=t=>Jk(t,!ut(t)),eQ=t=>Jk(t,ut(t));function tQ(t,e){return Sr(t,r=>r.empty?t.moveByGroup(r,e):ah(r,e))}const n5=t=>tQ(t,!ut(t)),i5=t=>tQ(t,ut(t));function s5(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function ch(t,e,r){let n=Me(t).resolveInner(e.head),i=r?ne.closedBy:ne.openedBy;for(let a=e.head;;){let c=r?n.childAfter(a):n.childBefore(a);if(!c)break;s5(t,c,i)?n=c:a=r?c.to:c.from}let s=n.type.prop(i),o,l;return s&&(o=r?jr(t,n.from,1):jr(t,n.to,-1))&&o.matched?l=r?o.end.to:o.end.from:l=r?n.to:n.from,$.cursor(l,r?-1:1)}const o5=t=>Sr(t,e=>ch(t.state,e,!ut(t))),l5=t=>Sr(t,e=>ch(t.state,e,ut(t)));function rQ(t,e){return Sr(t,r=>{if(!r.empty)return ah(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const nQ=t=>rQ(t,!1),iQ=t=>rQ(t,!0);function sQ(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let s of t.state.facet(L.scrollMargins)){let o=s(t);o!=null&&o.top&&(r=Math.max(o==null?void 0:o.top,r)),o!=null&&o.bottom&&(n=Math.max(o==null?void 0:o.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function oQ(t,e){let r=sQ(t),{state:n}=t,i=Ks(n.selection,o=>o.empty?t.moveVertically(o,e,r.height):ah(o,e));if(i.eq(n.selection))return!1;let s;if(r.selfScroll){let o=t.coordsAtPos(n.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+r.marginTop,c=l.bottom-r.marginBottom;o&&o.top>a&&o.bottom<c&&(s=L.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-a}))}return t.dispatch(zr(n,i),{effects:s}),!0}const gv=t=>oQ(t,!1),Zp=t=>oQ(t,!0);function ri(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let s=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=$.cursor(n.from+s))}return i}const a5=t=>Sr(t,e=>ri(t,e,!0)),c5=t=>Sr(t,e=>ri(t,e,!1)),u5=t=>Sr(t,e=>ri(t,e,!ut(t))),h5=t=>Sr(t,e=>ri(t,e,ut(t))),d5=t=>Sr(t,e=>$.cursor(t.lineBlockAt(e.head).from,1)),f5=t=>Sr(t,e=>$.cursor(t.lineBlockAt(e.head).to,-1));function p5(t,e,r){let n=!1,i=Ks(t.selection,s=>{let o=jr(t,s.head,-1)||jr(t,s.head,1)||s.head>0&&jr(t,s.head-1,1)||s.head<t.doc.length&&jr(t,s.head+1,-1);if(!o||!o.end)return s;n=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return $.cursor(l)});return n?(e(zr(t,i)),!0):!1}const g5=({state:t,dispatch:e})=>p5(t,e);function or(t,e){let r=Ks(t.state.selection,n=>{let i=e(n);return $.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(zr(t.state,r)),!0)}function lQ(t,e){return or(t,r=>t.moveByChar(r,e))}const aQ=t=>lQ(t,!ut(t)),cQ=t=>lQ(t,ut(t));function uQ(t,e){return or(t,r=>t.moveByGroup(r,e))}const O5=t=>uQ(t,!ut(t)),m5=t=>uQ(t,ut(t)),y5=t=>or(t,e=>ch(t.state,e,!ut(t))),v5=t=>or(t,e=>ch(t.state,e,ut(t)));function hQ(t,e){return or(t,r=>t.moveVertically(r,e))}const dQ=t=>hQ(t,!1),fQ=t=>hQ(t,!0);function pQ(t,e){return or(t,r=>t.moveVertically(r,e,sQ(t).height))}const Ov=t=>pQ(t,!1),mv=t=>pQ(t,!0),S5=t=>or(t,e=>ri(t,e,!0)),x5=t=>or(t,e=>ri(t,e,!1)),w5=t=>or(t,e=>ri(t,e,!ut(t))),b5=t=>or(t,e=>ri(t,e,ut(t))),k5=t=>or(t,e=>$.cursor(t.lineBlockAt(e.head).from)),Q5=t=>or(t,e=>$.cursor(t.lineBlockAt(e.head).to)),yv=({state:t,dispatch:e})=>(e(zr(t,{anchor:0})),!0),vv=({state:t,dispatch:e})=>(e(zr(t,{anchor:t.doc.length})),!0),Sv=({state:t,dispatch:e})=>(e(zr(t,{anchor:t.selection.main.anchor,head:0})),!0),xv=({state:t,dispatch:e})=>(e(zr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),P5=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),T5=({state:t,dispatch:e})=>{let r=uh(t).map(({from:n,to:i})=>$.range(n,Math.min(i+1,t.doc.length)));return e(t.update({selection:$.create(r),userEvent:"select"})),!0},$5=({state:t,dispatch:e})=>{let r=Ks(t.selection,n=>{let i=Me(t),s=i.resolveStack(n.from,1);if(n.empty){let o=i.resolveStack(n.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&o.next)return $.range(l.to,l.from)}return n});return r.eq(t.selection)?!1:(e(zr(t,r)),!0)},_5=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=$.create([r.main]):r.main.empty||(n=$.create([$.cursor(r.main.head)])),n?(e(zr(t,n)),!0):!1};function ra(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let a=e(s);a<o?(r="delete.backward",a=Ba(t,a,!1)):a>o&&(r="delete.forward",a=Ba(t,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=Ba(t,o,!1),l=Ba(t,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:$.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?L.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Ba(t,e,r){if(t instanceof L)for(let n of t.state.facet(L.atomicRanges).map(i=>i(t)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=r?s:i)});return e}const gQ=(t,e,r)=>ra(t,n=>{let i=n.from,{state:s}=t,o=s.doc.lineAt(i),l,a;if(r&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,i-o.from))){if(l[l.length-1]=="	")return i-1;let c=Js(l,s.tabSize),u=c%cu(s)||cu(s);for(let h=0;h<u&&l[l.length-1-h]==" ";h++)i--;a=i}else a=tt(o.text,i-o.from,e,e)+o.from,a==i&&o.number!=(e?s.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,i-o.from))&&(a=tt(o.text,a-o.from,!1,!1)+o.from);return a}),Up=t=>gQ(t,!1,!0),OQ=t=>gQ(t,!0,!1),mQ=(t,e)=>ra(t,r=>{let n=r.head,{state:i}=t,s=i.doc.lineAt(n),o=i.charCategorizer(n);for(let l=null;;){if(n==(e?s.to:s.from)){n==r.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let a=tt(s.text,n-s.from,e)+s.from,c=s.text.slice(Math.min(n,a)-s.from,Math.max(n,a)-s.from),u=o(c);if(l!=null&&u!=l)break;(c!=" "||n!=r.head)&&(l=u),n=a}return n}),yQ=t=>mQ(t,!1),C5=t=>mQ(t,!0),E5=t=>ra(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),R5=t=>ra(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),A5=t=>ra(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),j5=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:le.of(["",""])},range:$.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},D5=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let i=n.from,s=t.doc.lineAt(i),o=i==s.from?i-1:tt(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:tt(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(o,i))},range:$.cursor(l)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function uh(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),s=t.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=t.doc.lineAt(n.to-1)),r>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});r=s.number+1}return e}function vQ(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let s of uh(t)){if(r?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(r?s.to+1:s.from-1),l=o.length+1;if(r){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let a of s.ranges)i.push($.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let a of s.ranges)i.push($.range(a.anchor-l,a.head-l))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:$.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const N5=({state:t,dispatch:e})=>vQ(t,e,!1),I5=({state:t,dispatch:e})=>vQ(t,e,!0);function SQ(t,e,r){if(t.readOnly)return!1;let n=[];for(let i of uh(t))r?n.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):n.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const L5=({state:t,dispatch:e})=>SQ(t,e,!1),M5=({state:t,dispatch:e})=>SQ(t,e,!0),Z5=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(uh(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=Ks(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),l=t.coordsAtPos(i.head,i.assoc||1);l&&(s=o.bottom+t.documentTop-l.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function U5(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Me(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(ne.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const wv=xQ(!1),q5=xQ(!0);function xQ(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:o}=i,l=e.doc.lineAt(s),a=!t&&s==o&&U5(e,s);t&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let c=new sh(e,{simulateBreak:s,simulateDoubleBreak:!!a}),u=kO(c,s);for(u==null&&(u=Js(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:s,to:o}=a:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let h=["",El(e,u)];return a&&h.push(El(e,c.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:le.of(h)},range:$.cursor(s+1+h[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function CO(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let l=t.doc.lineAt(o);l.number>r&&(n.empty||n.to>l.from)&&(e(l,i,n),r=l.number),o=l.to+1}let s=t.changes(i);return{changes:i,range:$.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const z5=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new sh(t,{overrideIndentation:s=>{let o=r[s];return o??-1}}),i=CO(t,(s,o,l)=>{let a=kO(n,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let c=/^\s*/.exec(s.text)[0],u=El(t,a);(c!=u||l.from<s.from+c.length)&&(r[s.from]=a,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},wQ=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(CO(t,(r,n)=>{n.push({from:r.from,insert:t.facet(Kl)})}),{userEvent:"input.indent"})),!0),bQ=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(CO(t,(r,n)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let s=Js(i,t.tabSize),o=0,l=El(t,Math.max(0,s-cu(t)));for(;o<i.length&&o<l.length&&i.charCodeAt(o)==l.charCodeAt(o);)o++;n.push({from:r.from+o,to:r.from+i.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),X5=t=>(t.setTabFocusMode(),!0),W5=[{key:"Ctrl-b",run:Kk,shift:aQ,preventDefault:!0},{key:"Ctrl-f",run:eQ,shift:cQ},{key:"Ctrl-p",run:nQ,shift:dQ},{key:"Ctrl-n",run:iQ,shift:fQ},{key:"Ctrl-a",run:d5,shift:k5},{key:"Ctrl-e",run:f5,shift:Q5},{key:"Ctrl-d",run:OQ},{key:"Ctrl-h",run:Up},{key:"Ctrl-k",run:E5},{key:"Ctrl-Alt-h",run:yQ},{key:"Ctrl-o",run:j5},{key:"Ctrl-t",run:D5},{key:"Ctrl-v",run:Zp}],B5=[{key:"ArrowLeft",run:Kk,shift:aQ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n5,shift:O5,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:u5,shift:w5,preventDefault:!0},{key:"ArrowRight",run:eQ,shift:cQ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:i5,shift:m5,preventDefault:!0},{mac:"Cmd-ArrowRight",run:h5,shift:b5,preventDefault:!0},{key:"ArrowUp",run:nQ,shift:dQ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:yv,shift:Sv},{mac:"Ctrl-ArrowUp",run:gv,shift:Ov},{key:"ArrowDown",run:iQ,shift:fQ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:vv,shift:xv},{mac:"Ctrl-ArrowDown",run:Zp,shift:mv},{key:"PageUp",run:gv,shift:Ov},{key:"PageDown",run:Zp,shift:mv},{key:"Home",run:c5,shift:x5,preventDefault:!0},{key:"Mod-Home",run:yv,shift:Sv},{key:"End",run:a5,shift:S5,preventDefault:!0},{key:"Mod-End",run:vv,shift:xv},{key:"Enter",run:wv,shift:wv},{key:"Mod-a",run:P5},{key:"Backspace",run:Up,shift:Up},{key:"Delete",run:OQ},{key:"Mod-Backspace",mac:"Alt-Backspace",run:yQ},{key:"Mod-Delete",mac:"Alt-Delete",run:C5},{mac:"Mod-Backspace",run:R5},{mac:"Mod-Delete",run:A5}].concat(W5.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),V5=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:o5,shift:y5},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:l5,shift:v5},{key:"Alt-ArrowUp",run:N5},{key:"Shift-Alt-ArrowUp",run:L5},{key:"Alt-ArrowDown",run:I5},{key:"Shift-Alt-ArrowDown",run:M5},{key:"Escape",run:_5},{key:"Mod-Enter",run:q5},{key:"Alt-l",mac:"Ctrl-l",run:T5},{key:"Mod-i",run:$5,preventDefault:!0},{key:"Mod-[",run:bQ},{key:"Mod-]",run:wQ},{key:"Mod-Alt-\\",run:z5},{key:"Shift-Mod-k",run:Z5},{key:"Shift-Mod-\\",run:g5},{key:"Mod-/",run:LL},{key:"Alt-A",run:ZL},{key:"Ctrl-m",mac:"Shift-Alt-m",run:X5}].concat(B5),G5={key:"Tab",run:wQ,shift:bQ};function de(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?t.setAttribute(n,i):i!=null&&(t[n]=i)}e++}for(;e<arguments.length;e++)kQ(t,arguments[e]);return t}function kQ(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)kQ(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const bv=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Us{constructor(e,r,n=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?l=>s(bv(l)):bv,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return bt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=rO(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Er(e);let i=this.normalize(r);if(i.length)for(let s=0,o=n;;s++){let l=i.charCodeAt(s),a=this.match(l,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(a)return this.value=a,this;break}o==n&&s<r.length&&r.charCodeAt(s)==l&&o++}}}match(e,r,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:r,to:n}:this.matches.push(1,r)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Us.prototype[Symbol.iterator]=function(){return this});const QQ={from:-1,to:-1,match:/.*/.exec("")},EO="gm"+(/x/.unicode==null?"":"u");class PQ{constructor(e,r,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=QQ,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new TQ(e,r,n,i,s);this.re=new RegExp(r,EO+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=fu(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=fu(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const bd=new WeakMap;class bs{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=bd.get(e);if(!i||i.from>=n||i.to<=r){let l=new bs(r,e.sliceString(r,n));return bd.set(e,l),l}if(i.from==r&&i.to==n)return i;let{text:s,from:o}=i;return o>r&&(s=e.sliceString(r,o)+s,o=r),i.to<n&&(s+=e.sliceString(i.to,n)),bd.set(e,new bs(o,s)),new bs(r,s.slice(r-o,n-o))}}class TQ{constructor(e,r,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=QQ,this.matchPos=fu(e,i),this.re=new RegExp(r,EO+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=bs.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,i=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this.matchPos=fu(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=bs.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(PQ.prototype[Symbol.iterator]=TQ.prototype[Symbol.iterator]=function(){return this});function F5(t){try{return new RegExp(t,EO),!0}catch{return!1}}function fu(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function qp(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=de("input",{class:"cm-textfield",name:"line",value:e}),n=de("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Jo.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},de("label",t.state.phrase("Go to line"),": ",r)," ",de("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),de("button",{name:"close",onclick:()=>{t.dispatch({effects:Jo.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!s)return;let{state:o}=t,l=o.doc.lineAt(o.selection.main.head),[,a,c,u,h]=s,d=u?+u.slice(1):0,f=c?+c:l.number;if(c&&h){let y=f/100;a&&(y=y*(a=="-"?-1:1)+l.number/o.doc.lines),f=Math.round(o.doc.lines*y)}else c&&a&&(f=f*(a=="-"?-1:1)+l.number);let p=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),O=$.cursor(p.from+Math.max(0,Math.min(d,p.length)));t.dispatch({effects:[Jo.of(!1),L.scrollIntoView(O.from,{y:"center"})],selection:O}),t.focus()}return{dom:n}}const Jo=J.define(),kv=Fe.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(Jo)&&(t=r.value);return t},provide:t=>$l.from(t,e=>e?qp:null)}),Y5=t=>{let e=Tl(t,qp);if(!e){let r=[Jo.of(!0)];t.state.field(kv,!1)==null&&r.push(J.appendConfig.of([kv,H5])),t.dispatch({effects:r}),e=Tl(t,qp)}return e&&e.dom.querySelector("input").select(),!0},H5=L.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),J5={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},K5=Z.define({combine(t){return Ur(t,J5,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function eM(t){return[sM,iM]}const tM=W.mark({class:"cm-selectionMatch"}),rM=W.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Qv(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=ke.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=ke.Word)}function nM(t,e,r,n){return t(e.sliceDoc(r,r+1))==ke.Word&&t(e.sliceDoc(n-1,n))==ke.Word}const iM=Re.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(K5),{state:r}=t,n=r.selection;if(n.ranges.length>1)return W.none;let i=n.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return W.none;let a=r.wordAt(i.head);if(!a)return W.none;o=r.charCategorizer(i.head),s=r.sliceDoc(a.from,a.to)}else{let a=i.to-i.from;if(a<e.minSelectionLength||a>200)return W.none;if(e.wholeWords){if(s=r.sliceDoc(i.from,i.to),o=r.charCategorizer(i.head),!(Qv(o,r,i.from,i.to)&&nM(o,r,i.from,i.to)))return W.none}else if(s=r.sliceDoc(i.from,i.to),!s)return W.none}let l=[];for(let a of t.visibleRanges){let c=new Us(r.doc,s,a.from,a.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!o||Qv(o,r,u,h))&&(i.empty&&u<=i.from&&h>=i.to?l.push(rM.range(u,h)):(u>=i.to||h<=i.from)&&l.push(tM.range(u,h)),l.length>e.maxMatches))return W.none}}return W.set(l)}},{decorations:t=>t.decorations}),sM=L.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),oM=({state:t,dispatch:e})=>{let{selection:r}=t,n=$.create(r.ranges.map(i=>t.wordAt(i.head)||$.cursor(i.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function lM(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),s=i&&i.from==r.from&&i.to==r.to;for(let o=!1,l=new Us(t.doc,e,n[n.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new Us(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(a=>a.from==l.value.from))continue;if(s){let a=t.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const aM=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(s=>s.from===s.to))return oM({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=n))return!1;let i=lM(t,n);return i?(e(t.update({selection:t.selection.addRange($.range(i.from,i.to),!1),effects:L.scrollIntoView(i.to)})),!0):!1},eo=Z.define({combine(t){return Ur(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SM(e),scrollToMatch:e=>L.scrollIntoView(e)})}});class $Q{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||F5(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new dM(this):new uM(this)}getCursor(e,r=0,n){let i=e.doc?e:oe.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Fi(this,i,r,n):Gi(this,i,r,n)}}class _Q{constructor(e){this.spec=e}}function Gi(t,e,r,n){return new Us(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?cM(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function cM(t,e){return(r,n,i,s)=>((s>r||s+i.length<n)&&(s=Math.max(0,r-2),i=t.sliceString(s,Math.min(t.length,n+2))),(e(pu(i,r-s))!=ke.Word||e(gu(i,r-s))!=ke.Word)&&(e(gu(i,n-s))!=ke.Word||e(pu(i,n-s))!=ke.Word))}class uM extends _Q{constructor(e){super(e)}nextMatch(e,r,n){let i=Gi(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,r+this.spec.unquoted.length);i=Gi(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==r&&i.value.to==n?null:i.value}prevMatchInRange(e,r,n){for(let i=n;;){let s=Math.max(r,i-1e4-this.spec.unquoted.length),o=Gi(this.spec,e,s,i),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==r)return null;i-=1e4}}prevMatch(e,r,n){let i=this.prevMatchInRange(e,0,r);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=r||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=Gi(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let s=Gi(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Fi(t,e,r,n){return new PQ(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?hM(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function pu(t,e){return t.slice(tt(t,e,!1),e)}function gu(t,e){return t.slice(e,tt(t,e))}function hM(t){return(e,r,n)=>!n[0].length||(t(pu(n.input,n.index))!=ke.Word||t(gu(n.input,n.index))!=ke.Word)&&(t(gu(n.input,n.index+n[0].length))!=ke.Word||t(pu(n.input,n.index+n[0].length))!=ke.Word)}class dM extends _Q{nextMatch(e,r,n){let i=Fi(this.spec,e,n,e.doc.length).next();return i.done&&(i=Fi(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=1;;i++){let s=Math.max(r,n-i*1e4),o=Fi(this.spec,e,s,n),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==r||l.from>s+10))return l;if(s==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return r})}matchAll(e,r){let n=Fi(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let s=Fi(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Rl=J.define(),RO=J.define(),qn=Fe.define({create(t){return new kd(zp(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Rl)?t=new kd(r.value.create(),t.panel):r.is(RO)&&(t=new kd(t.query,r.value?AO:null));return t},provide:t=>$l.from(t,e=>e.panel)});class kd{constructor(e,r){this.query=e,this.panel=r}}const fM=W.mark({class:"cm-searchMatch"}),pM=W.mark({class:"cm-searchMatch cm-searchMatch-selected"}),gM=Re.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(qn))}update(t){let e=t.state.field(qn);(e!=t.startState.field(qn)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return W.none;let{view:r}=this,n=new cn;for(let i=0,s=r.visibleRanges,o=s.length;i<o;i++){let{from:l,to:a}=s[i];for(;i<o-1&&a>s[i+1].from-2*250;)a=s[++i].to;t.highlight(r.state,l,a,(c,u)=>{let h=r.state.selection.ranges.some(d=>d.from==c&&d.to==u);n.add(c,u,h?pM:fM)})}return n.finish()}},{decorations:t=>t.decorations});function na(t){return e=>{let r=e.state.field(qn,!1);return r&&r.query.spec.valid?t(e,r):RQ(e)}}const Ou=na((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=$.single(n.from,n.to),s=t.state.facet(eo);return t.dispatch({selection:i,effects:[jO(t,n),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),EQ(t),!0}),mu=na((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let s=$.single(i.from,i.to),o=t.state.facet(eo);return t.dispatch({selection:s,effects:[jO(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),EQ(t),!0}),OM=na((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:$.create(r.map(n=>$.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),mM=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,s=[],o=0;for(let l=new Us(t.doc,t.sliceDoc(n,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==n&&(o=s.length),s.push($.range(l.value.from,l.value.to))}return e(t.update({selection:$.create(s,o),userEvent:"select.search.matches"})),!0},Pv=na((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let s=e.nextMatch(r,n,n);if(!s)return!1;let o=s,l=[],a,c,u=[];if(o.from==n&&o.to==i&&(c=r.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(r,o.from,o.to),u.push(L.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),o){let h=l.length==0||l[0].from>=s.to?0:s.to-s.from-c.length;a=$.single(o.from-h,o.to-h),u.push(jO(t,o)),u.push(r.facet(eo).scrollToMatch(a.main,t))}return t.dispatch({changes:l,selection:a,effects:u,userEvent:"input.replace"}),!0}),yM=na((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:L.announce.of(n),userEvent:"input.replace.all"}),!0});function AO(t){return t.state.facet(eo).createPanel(t)}function zp(t,e){var r,n,i,s,o;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let c=t.facet(eo);return new $Q({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function CQ(t){let e=Tl(t,AO);return e&&e.dom.querySelector("[main-field]")}function EQ(t){let e=CQ(t);e&&e==t.root.activeElement&&e.select()}const RQ=t=>{let e=t.state.field(qn,!1);if(e&&e.panel){let r=CQ(t);if(r&&r!=t.root.activeElement){let n=zp(t.state,e.query.spec);n.valid&&t.dispatch({effects:Rl.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[RO.of(!0),e?Rl.of(zp(t.state,e.query.spec)):J.appendConfig.of(wM)]});return!0},AQ=t=>{let e=t.state.field(qn,!1);if(!e||!e.panel)return!1;let r=Tl(t,AO);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:RO.of(!1)}),!0},vM=[{key:"Mod-f",run:RQ,scope:"editor search-panel"},{key:"F3",run:Ou,shift:mu,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Ou,shift:mu,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:AQ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:mM},{key:"Mod-Alt-g",run:Y5},{key:"Mod-d",run:aM,preventDefault:!0}];class SM{constructor(e){this.view=e;let r=this.query=e.state.field(qn).query.spec;this.commit=this.commit.bind(this),this.searchField=de("input",{value:r.search,placeholder:jt(e,"Find"),"aria-label":jt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=de("input",{value:r.replace,placeholder:jt(e,"Replace"),"aria-label":jt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=de("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=de("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=de("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(i,s,o){return de("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=de("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Ou(e),[jt(e,"next")]),n("prev",()=>mu(e),[jt(e,"previous")]),n("select",()=>OM(e),[jt(e,"all")]),de("label",null,[this.caseField,jt(e,"match case")]),de("label",null,[this.reField,jt(e,"regexp")]),de("label",null,[this.wordField,jt(e,"by word")]),...e.state.readOnly?[]:[de("br"),this.replaceField,n("replace",()=>Pv(e),[jt(e,"replace")]),n("replaceAll",()=>yM(e),[jt(e,"replace all")])],de("button",{name:"close",onclick:()=>AQ(e),"aria-label":jt(e,"close"),type:"button"},[""])])}commit(){let e=new $Q({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Rl.of(e)}))}keydown(e){RN(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?mu:Ou)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Pv(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(Rl)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(eo).top}}function jt(t,e){return t.state.phrase(e)}const Va=30,Ga=/[\s\.,:;?!]/;function jO(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,s=Math.max(n.from,e-Va),o=Math.min(i,r+Va),l=t.state.sliceDoc(s,o);if(s!=n.from){for(let a=0;a<Va;a++)if(!Ga.test(l[a+1])&&Ga.test(l[a])){l=l.slice(a);break}}if(o!=i){for(let a=l.length-1;a>l.length-Va;a--)if(!Ga.test(l[a-1])&&Ga.test(l[a])){l=l.slice(0,a);break}}return L.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${n.number}.`)}const xM=L.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),wM=[qn,ti.low(gM),xM];class jQ{constructor(e,r,n,i){this.state=e,this.pos=r,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=Me(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),i=r.text.slice(n-r.from,this.pos-r.from),s=i.search(NQ(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function Tv(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function bM(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)r[i[s]]=!0}let n=Tv(e)+Tv(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function DO(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:bM(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:r}:null}}function DQ(t,e){return r=>{for(let n=Me(r.state).resolveInner(r.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(r)}}class $v{constructor(e,r,n,i){this.completion=e,this.source=r,this.match=n,this.score=i}}function Si(t){return t.selection.main.from}function NQ(t,e){var r;let{source:n}=t,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const NO=Zr.define();function kM(t,e,r,n){let{main:i}=t.selection,s=r-i.from,o=n-i.from;return Object.assign(Object.assign({},t.changeByRange(l=>{if(l!=i&&r!=n&&t.sliceDoc(l.from+s,l.from+o)!=t.sliceDoc(r,n))return{range:l};let a=t.toText(e);return{changes:{from:l.from+s,to:n==i.from?l.to:l.from+o,insert:a},range:$.cursor(l.from+s+a.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const _v=new WeakMap;function QM(t){if(!Array.isArray(t))return t;let e=_v.get(t);return e||_v.set(t,e=DO(t)),e}const yu=J.define(),Al=J.define();class PM{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=bt(e,r),i=Er(n);this.chars.push(n);let s=e.slice(r,r+i),o=s.toUpperCase();this.folded.push(bt(o==s?s.toLowerCase():o,0)),r+=i}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:i,precise:s,byWord:o}=this;if(r.length==1){let m=bt(e,0),S=Er(m),b=S==e.length?0:-100;if(m!=r[0])if(m==n[0])b+=-200;else return null;return this.ret(b,[0,S])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=r.length,c=0;if(l<0){for(let m=0,S=Math.min(e.length,200);m<S&&c<a;){let b=bt(e,m);(b==r[c]||b==n[c])&&(i[c++]=m),m+=Er(b)}if(c<a)return null}let u=0,h=0,d=!1,f=0,p=-1,O=-1,y=/[a-z]/.test(e),g=!0;for(let m=0,S=Math.min(e.length,200),b=0;m<S&&h<a;){let x=bt(e,m);l<0&&(u<a&&x==r[u]&&(s[u++]=m),f<a&&(x==r[f]||x==n[f]?(f==0&&(p=m),O=m+1,f++):f=0));let Q,P=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(Q=rO(x))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!m||P==1&&y||b==0&&P!=0)&&(r[h]==x||n[h]==x&&(d=!0)?o[h++]=m:o.length&&(g=!1)),b=P,m+=Er(x)}return h==a&&o[0]==0&&g?this.result(-100+(d?-200:0),o,e):f==a&&p==0?this.ret(-200-e.length+(O==e.length?0:-100),[0,O]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):f==a?this.ret(-900-e.length,[p,O]):h==a?this.result(-100+(d?-200:0)+-700+(g?0:-1100),o,e):r.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,n){let i=[],s=0;for(let o of r){let l=o+(this.astral?Er(bt(n,o)):1);s&&i[s-1]==o?i[s-1]=l:(i[s++]=o,i[s++]=l)}return this.ret(e-n.length,i)}}class TM{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Ve=Z.define({combine(t){return Ur(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:$M,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>Cv(e(n),r(n)),optionClass:(e,r)=>n=>Cv(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function Cv(t,e){return t?e?t+" "+e:t:e}function $M(t,e,r,n,i,s){let o=t.textDirection==we.RTL,l=o,a=!1,c="top",u,h,d=e.left-i.left,f=i.right-e.right,p=n.right-n.left,O=n.bottom-n.top;if(l&&d<Math.min(p,f)?l=!1:!l&&f<Math.min(p,d)&&(l=!0),p<=(l?d:f))u=Math.max(i.top,Math.min(r.top,i.bottom-O))-e.top,h=Math.min(400,l?d:f);else{a=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let m=i.bottom-e.bottom;m>=O||m>e.top?u=r.bottom-e.top:(c="bottom",u=e.bottom-r.top)}let y=(e.bottom-e.top)/s.offsetHeight,g=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/y}px; max-width: ${h/g}px`,class:"cm-completionInfo-"+(a?o?"left-narrow":"right-narrow":l?"left":"right")}}function _M(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=r.displayLabel||r.label,a=0;for(let c=0;c<s.length;){let u=s[c++],h=s[c++];u>a&&o.appendChild(document.createTextNode(l.slice(a,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(l.slice(u,h))),d.className="cm-completionMatchedText",a=h}return a<l.length&&o.appendChild(document.createTextNode(l.slice(a))),o},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function Qd(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class CM{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:s,selected:o}=i.open,l=e.state.facet(Ve);this.optionContent=_M(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Qd(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:c}=e.state.field(r).open;for(let u=a.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Ve).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Al.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:o,disabled:l}=n.open;(!i.open||i.open.options!=s)&&(this.range=Qd(s.length,o,e.state.facet(Ve).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),l!=((r=i.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=Qd(r.options.length,r.selected,this.view.state.facet(Ve).maxRenderedOptions),this.showOptions(r.options,e.id)),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:n}=r.options[r.selected],{info:i}=n;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>Tt(this.view.state,o,"completion info")):this.addInfoPane(s,n)}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return r&&RM(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,r.bottom)-10||i.bottom<Math.max(s.top,r.top)+10?null:this.view.state.facet(Ve).positionInfo(this.view,r,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=n.from;o<n.to;o++){let{completion:l,match:a}=e[o],{section:c}=l;if(c){let d=typeof c=="string"?c:c.name;if(d!=s&&(o>n.from||n.from==0))if(s=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let f=i.appendChild(document.createElement("completion-section"));f.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=r+"-"+o,u.setAttribute("role","option");let h=this.optionClass(l);h&&(u.className=h);for(let d of this.optionContent){let f=d(l,this.view.state,this.view,a);f&&u.appendChild(f)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function EM(t,e){return r=>new CM(r,t,e)}function RM(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/i)}function Ev(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function AM(t,e){let r=[],n=null,i=c=>{r.push(c);let{section:u}=c.completion;if(u){n||(n=[]);let h=typeof u=="string"?u:u.name;n.some(d=>d.name==h)||n.push(typeof u=="string"?{name:h}:u)}},s=e.facet(Ve);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new $v(h,c.source,u?u(h):[],1e9-r.length));else{let h=e.sliceDoc(c.from,c.to),d,f=s.filterStrict?new TM(h):new PM(h);for(let p of c.result.options)if(d=f.match(p.label)){let O=p.displayLabel?u?u(p,d.matched):[]:d.matched;i(new $v(p,c.source,O,d.score+(p.boost||0)))}}}if(n){let c=Object.create(null),u=0,h=(d,f)=>{var p,O;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((O=f.rank)!==null&&O!==void 0?O:1e9)||(d.name<f.name?-1:1)};for(let d of n.sort(h))u-=1e5,c[d.name]=u;for(let d of r){let{section:f}=d.completion;f&&(d.score+=c[typeof f=="string"?f:f.name])}}let o=[],l=null,a=s.compareCompletions;for(let c of r.sort((u,h)=>h.score-u.score||a(u.completion,h.completion))){let u=c.completion;!l||l.label!=u.label||l.detail!=u.detail||l.type!=null&&u.type!=null&&l.type!=u.type||l.apply!=u.apply||l.boost!=u.boost?o.push(c):Ev(c.completion)>Ev(l)&&(o[o.length-1]=c),l=c.completion}return o}class hs{constructor(e,r,n,i,s,o){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new hs(this.options,Rv(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let l=AM(e,r);if(!l.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let a=r.facet(Ve).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<l.length;u++)if(l[u].completion==c){a=u;break}}return new hs(l,Rv(n,a),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:MM,above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new hs(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new hs(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class vu{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new vu(IM,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(Ve),s=(n.override||r.languageDataAt("autocomplete",Si(r)).map(QM)).map(a=>(this.active.find(u=>u.source==a)||new Kt(a,this.active.some(u=>u.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((a,c)=>a==this.active[c])&&(s=this.active);let o=this.open,l=e.effects.some(a=>a.is(IO));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!jM(s,this.active)||l?o=hs.build(s,r,this.id,o,n,l):o&&o.disabled&&!s.some(a=>a.isPending)&&(o=null),!o&&s.every(a=>!a.isPending)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Kt(a.source,0):a));for(let a of e.effects)a.is(LQ)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new vu(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?DM:NM}}function jM(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let i=r==t.length,s=n==e.length;if(i||s)return i==s;if(t[r++].result!=e[n++].result)return!1}}const DM={"aria-autocomplete":"list"},NM={};function Rv(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const IM=[];function IQ(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(NO);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Kt{constructor(e,r,n=!1){this.source=e,this.state=r,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let n=IQ(e,r),i=this;(n&8||n&16&&this.touches(e))&&(i=new Kt(i.source,0)),n&4&&i.state==0&&(i=new Kt(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(yu))i=new Kt(i.source,1,s.value);else if(s.is(Al))i=new Kt(i.source,0);else if(s.is(IO))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Si(e.state))}}class ks extends Kt{constructor(e,r,n,i,s,o){super(e,3,r),this.limit=n,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=Si(e.state);if(l>o||!i||r&2&&(Si(e.startState)==this.from||l<this.limit))return new Kt(this.source,r&4?1:0);let a=e.changes.mapPos(this.limit);return LM(i.validFor,e.state,s,o)?new ks(this.source,this.explicit,a,i,s,o):i.update&&(i=i.update(i,s,o,new jQ(e.state,l,!1)))?new ks(this.source,this.explicit,a,i,i.from,(n=i.to)!==null&&n!==void 0?n:Si(e.state)):new Kt(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ks(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Kt(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function LM(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return typeof t=="function"?t(i,r,n,e):NQ(t,!0).test(i)}const IO=J.define({map(t,e){return t.map(r=>r.map(e))}}),LQ=J.define(),Qt=Fe.define({create(){return vu.start()},update(t,e){return t.update(e)},provide:t=>[mO.from(t,e=>e.tooltip),L.contentAttributes.from(t,e=>e.attrs)]});function LO(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(Qt).active.find(i=>i.source==e.source);return n instanceof ks?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},kM(t.state,r,n.from,n.to)),{annotations:NO.of(e.completion)})):r(t,e.completion,n.from,n.to),!0):!1}const MM=EM(Qt,LO);function Fa(t,e="option"){return r=>{let n=r.state.field(Qt,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(Ve).interactionDelay)return!1;let i=1,s;e=="page"&&(s=Ok(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,l=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),r.dispatch({effects:LQ.of(l)}),!0}}const ZM=t=>{let e=t.state.field(Qt,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ve).interactionDelay?!1:LO(t,e.open.options[e.open.selected])},Av=t=>t.state.field(Qt,!1)?(t.dispatch({effects:yu.of(!0)}),!0):!1,UM=t=>{let e=t.state.field(Qt,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:Al.of(null)}),!0)};class qM{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const zM=50,XM=1e3,WM=Re.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Qt).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Qt),r=t.state.facet(Ve);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Qt)==e)return;let n=t.transactions.some(s=>{let o=IQ(s,r);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(n||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>zM&&Date.now()-o.time>XM){for(let l of o.context.abortListeners)try{l()}catch(a){Tt(this.view.state,a)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(yu)))&&(this.pendingStart=!0);let i=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Qt);for(let r of e.active)r.isPending&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ve).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=Si(e),n=new jQ(e,r,t.explicit,this.view),i=new qM(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Al.of(null)}),Tt(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ve).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Ve),n=this.view.state.field(Qt);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Si(s.updates.length?s.updates[0].startState:this.view.state),a=Math.min(l,s.done.from+(s.active.explicit?0:1)),c=new ks(s.active.source,s.active.explicit,a,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:l);for(let u of s.updates)c=c.update(u,r);if(c.hasResult()){e.push(c);continue}}let o=n.active.find(l=>l.source==s.active.source);if(o&&o.isPending)if(s.done==null){let l=new Kt(s.active.source,0);for(let a of s.updates)l=l.update(a,r);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:IO.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Qt,!1);if(e&&e.tooltip&&this.view.state.facet(Ve).closeOnBlur){let r=e.open&&Ok(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Al.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:yu.of(!1)}),20),this.composing=0}}}),BM=typeof navigator=="object"&&/Win/.test(navigator.platform),VM=ti.highest(L.domEventHandlers({keydown(t,e){let r=e.state.field(Qt,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(BM&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(o=>o.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&LO(e,n),!1}})),MQ=L.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class GM{constructor(e,r,n,i){this.field=e,this.line=r,this.from=n,this.to=i}}class MO{constructor(e,r,n){this.field=e,this.from=r,this.to=n}map(e){let r=e.mapPos(this.from,-1,et.TrackDel),n=e.mapPos(this.to,1,et.TrackDel);return r==null||n==null?null:new MO(this.field,r,n)}}class ZO{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let n=[],i=[r],s=e.doc.lineAt(r),o=/^\s*/.exec(s.text)[0];for(let a of this.lines){if(n.length){let c=o,u=/^\t*/.exec(a)[0].length;for(let h=0;h<u;h++)c+=e.facet(Kl);i.push(r+c.length-u),a=c+a.slice(u)}n.push(a),r+=a.length+1}let l=this.fieldPositions.map(a=>new MO(a.field,i[a.line]+a.from,i[a.line]+a.to));return{text:n,ranges:l}}static parse(e){let r=[],n=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let l=s[1]?+s[1]:null,a=s[2]||s[3]||"",c=-1,u=a.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<r.length;h++)(l!=null?r[h].seq==l:u&&r[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<r.length&&(l==null||r[h].seq!=null&&r[h].seq<l);)h++;r.splice(h,0,{seq:l,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new GM(c,n.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+a+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(l,a,c)=>{for(let u of i)u.line==n.length&&u.from>c&&(u.from--,u.to--);return a}),n.push(o)}return new ZO(n,i)}}let FM=W.widget({widget:new class extends qr{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),YM=W.mark({class:"cm-snippetField"});class to{constructor(e,r){this.ranges=e,this.active=r,this.deco=W.set(e.map(n=>(n.from==n.to?FM:YM).range(n.from,n.to)))}map(e){let r=[];for(let n of this.ranges){let i=n.map(e);if(!i)return null;r.push(i)}return new to(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(n=>n.field==this.active&&n.from<=r.from&&n.to>=r.to))}}const ia=J.define({map(t,e){return t&&t.map(e)}}),HM=J.define(),jl=Fe.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(ia))return r.value;if(r.is(HM)&&t)return new to(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>L.decorations.from(t,e=>e?e.deco:W.none)});function UO(t,e){return $.create(t.filter(r=>r.field==e).map(r=>$.range(r.from,r.to)))}function JM(t){let e=ZO.parse(t);return(r,n,i,s)=>{let{text:o,ranges:l}=e.instantiate(r.state,i),{main:a}=r.state.selection,c={changes:{from:i,to:s==a.from?a.to:s,insert:le.of(o)},scrollIntoView:!0,annotations:n?[NO.of(n),Ie.userEvent.of("input.complete")]:void 0};if(l.length&&(c.selection=UO(l,0)),l.some(u=>u.field>0)){let u=new to(l,0),h=c.effects=[ia.of(u)];r.state.field(jl,!1)===void 0&&h.push(J.appendConfig.of([jl,nZ,iZ,MQ]))}r.dispatch(r.state.update(c))}}function ZQ(t){return({state:e,dispatch:r})=>{let n=e.field(jl,!1);if(!n||t<0&&n.active==0)return!1;let i=n.active+t,s=t>0&&!n.ranges.some(o=>o.field==i+t);return r(e.update({selection:UO(n.ranges,i),effects:ia.of(s?null:new to(n.ranges,i)),scrollIntoView:!0})),!0}}const KM=({state:t,dispatch:e})=>t.field(jl,!1)?(e(t.update({effects:ia.of(null)})),!0):!1,eZ=ZQ(1),tZ=ZQ(-1),rZ=[{key:"Tab",run:eZ,shift:tZ},{key:"Escape",run:KM}],jv=Z.define({combine(t){return t.length?t[0]:rZ}}),nZ=ti.highest(Hl.compute([jv],t=>t.facet(jv)));function Qe(t,e){return Object.assign(Object.assign({},e),{apply:JM(t)})}const iZ=L.domEventHandlers({mousedown(t,e){let r=e.state.field(jl,!1),n;if(!r||(n=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=r.ranges.find(s=>s.from<=n&&s.to>=n);return!i||i.field==r.active?!1:(e.dispatch({selection:UO(r.ranges,i.field),effects:ia.of(r.ranges.some(s=>s.field>i.field)?new to(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Dl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},gi=J.define({map(t,e){let r=e.mapPos(t,-1,et.TrackAfter);return r??void 0}}),qO=new class extends $i{};qO.startSide=1;qO.endSide=-1;const UQ=Fe.define({create(){return ae.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(gi)&&(t=t.update({add:[qO.range(r.value,r.value+1)]}));return t}});function sZ(){return[lZ,UQ]}const Pd="()[]{}<>";function qQ(t){for(let e=0;e<Pd.length;e+=2)if(Pd.charCodeAt(e)==t)return Pd.charAt(e+1);return rO(t<128?t:t+1)}function zQ(t,e){return t.languageDataAt("closeBrackets",e)[0]||Dl}const oZ=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lZ=L.inputHandler.of((t,e,r,n)=>{if((oZ?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||n.length==2&&Er(bt(n,0))==1||e!=i.from||r!=i.to)return!1;let s=uZ(t.state,n);return s?(t.dispatch(s),!0):!1}),aZ=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=zQ(t,t.selection.main.head).brackets||Dl.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let l=hZ(t.doc,o.head);for(let a of n)if(a==l&&hh(t.doc,o.head)==qQ(bt(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:$.cursor(o.head-a.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},cZ=[{key:"Backspace",run:aZ}];function uZ(t,e){let r=zQ(t,t.selection.main.head),n=r.brackets||Dl.brackets;for(let i of n){let s=qQ(bt(i,0));if(e==i)return s==i?pZ(t,i,n.indexOf(i+i+i)>-1,r):dZ(t,i,s,r.before||Dl.before);if(e==s&&XQ(t,t.selection.main.from))return fZ(t,i,s)}return null}function XQ(t,e){let r=!1;return t.field(UQ).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function hh(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Er(bt(r,0)))}function hZ(t,e){let r=t.sliceString(e-2,e);return Er(bt(r,0))==r.length?r:r.slice(1)}function dZ(t,e,r,n){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:r,from:o.to}],effects:gi.of(o.to+e.length),range:$.range(o.anchor+e.length,o.head+e.length)};let l=hh(t.doc,o.head);return!l||/\s/.test(l)||n.indexOf(l)>-1?{changes:{insert:e+r,from:o.head},effects:gi.of(o.head+e.length),range:$.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fZ(t,e,r){let n=null,i=t.changeByRange(s=>s.empty&&hh(t.doc,s.head)==r?{changes:{from:s.head,to:s.head+r.length,insert:r},range:$.cursor(s.head+r.length)}:n={range:s});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function pZ(t,e,r,n){let i=n.stringPrefixes||Dl.stringPrefixes,s=null,o=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:gi.of(l.to+e.length),range:$.range(l.anchor+e.length,l.head+e.length)};let a=l.head,c=hh(t.doc,a),u;if(c==e){if(Dv(t,a))return{changes:{insert:e+e,from:a},effects:gi.of(a+e.length),range:$.cursor(a+e.length)};if(XQ(t,a)){let d=r&&t.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+d.length,insert:d},range:$.cursor(a+d.length)}}}else{if(r&&t.sliceDoc(a-2*e.length,a)==e+e&&(u=Nv(t,a-2*e.length,i))>-1&&Dv(t,u))return{changes:{insert:e+e+e+e,from:a},effects:gi.of(a+e.length),range:$.cursor(a+e.length)};if(t.charCategorizer(a)(c)!=ke.Word&&Nv(t,a,i)>-1&&!gZ(t,a,e,i))return{changes:{insert:e+e,from:a},effects:gi.of(a+e.length),range:$.cursor(a+e.length)}}return{range:s=l}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Dv(t,e){let r=Me(t).resolveInner(e+1);return r.parent&&r.from==e}function gZ(t,e,r,n){let i=Me(t).resolveInner(e,-1),s=n.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+s)),a=l.indexOf(r);if(!a||a>-1&&n.indexOf(l.slice(0,a))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>r.length+a;){if(t.sliceDoc(u.to-r.length,u.to)==r)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function Nv(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=ke.Word)return e;for(let i of r){let s=e-i.length;if(t.sliceDoc(s,e)==i&&n(t.sliceDoc(s-1,s))!=ke.Word)return s}return-1}function OZ(t={}){return[VM,Qt,Ve.of(t),WM,mZ,MQ]}const WQ=[{key:"Ctrl-Space",run:Av},{mac:"Alt-`",run:Av},{key:"Escape",run:UM},{key:"ArrowDown",run:Fa(!0)},{key:"ArrowUp",run:Fa(!1)},{key:"PageDown",run:Fa(!0,"page")},{key:"PageUp",run:Fa(!1,"page")},{key:"Enter",run:ZM}],mZ=ti.highest(Hl.computeN([Ve],t=>t.facet(Ve).defaultKeymap?[WQ]:[]));class Iv{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class ui{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let i=n.facet(Nl).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((u,h)=>u.from-h.from||u.to-h.to),o=new cn,l=[],a=0;for(let u=0;;){let h=u==s.length?null:s[u];if(!h&&!l.length)break;let d,f;for(l.length?(d=a,f=l.reduce((O,y)=>Math.min(O,y.to),h&&h.from>d?h.from:1e8)):(d=h.from,f=h.to,l.push(h),u++);u<s.length;){let O=s[u];if(O.from==d&&(O.to>O.from||O.to==d))l.push(O),u++,f=Math.min(O.to,f);else{f=Math.min(O.from,f);break}}let p=CZ(l);if(l.some(O=>O.from==O.to||O.from==O.to-1&&n.doc.lineAt(O.from).to==O.from))o.add(d,d,W.widget({widget:new PZ(p),diagnostics:l.slice()}));else{let O=l.reduce((y,g)=>g.markClass?y+" "+g.markClass:y,"");o.add(d,f,W.mark({class:"cm-lintRange cm-lintRange-"+p+O,diagnostics:l.slice(),inclusiveEnd:l.some(y=>y.to>f)}))}a=f;for(let O=0;O<l.length;O++)l[O].to<=a&&l.splice(O--,1)}let c=o.finish();return new ui(c,r,qs(c))}}function qs(t,e=null,r=0){let n=null;return t.between(r,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new Iv(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new Iv(n.from,s,n.diagnostic)}}),n}function yZ(t,e){let r=e.pos,n=e.end||r,i=t.state.facet(Nl).hideOn(t,r,n);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(BQ))||t.changes.touchesRange(s.from,Math.max(s.to,n)))}function vZ(t,e){return t.field(Ut,!1)?e:e.concat(J.appendConfig.of(EZ))}const BQ=J.define(),zO=J.define(),VQ=J.define(),Ut=Fe.define({create(){return new ui(W.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);n=qs(r,t.selected.diagnostic,s)||qs(r,null,s)}!r.size&&i&&e.state.facet(Nl).autoPanel&&(i=null),t=new ui(r,i,n)}for(let r of e.effects)if(r.is(BQ)){let n=e.state.facet(Nl).autoPanel?r.value.length?Il.open:null:t.panel;t=ui.init(r.value,n,e.state)}else r.is(zO)?t=new ui(t.diagnostics,r.value?Il.open:null,t.selected):r.is(VQ)&&(t=new ui(t.diagnostics,t.panel,r.value));return t},provide:t=>[$l.from(t,e=>e.panel),L.decorations.from(t,e=>e.diagnostics)]}),SZ=W.mark({class:"cm-lintRange cm-lintRange-active"});function xZ(t,e,r){let{diagnostics:n}=t.state.field(Ut),i,s=-1,o=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(a,c,{spec:u})=>{if(e>=a&&e<=c&&(a==c||(e>a||r>0)&&(e<c||r<0)))return i=u.diagnostics,s=a,o=c,!1});let l=t.state.facet(Nl).tooltipFilter;return i&&l&&(i=l(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:wZ(t,i)}}}:null}function wZ(t,e){return de("ul",{class:"cm-tooltip-lint"},e.map(r=>FQ(t,r,!1)))}const bZ=t=>{let e=t.state.field(Ut,!1);(!e||!e.panel)&&t.dispatch({effects:vZ(t.state,[zO.of(!0)])});let r=Tl(t,Il.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},Lv=t=>{let e=t.state.field(Ut,!1);return!e||!e.panel?!1:(t.dispatch({effects:zO.of(!1)}),!0)},kZ=t=>{let e=t.state.field(Ut,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},QZ=[{key:"Mod-Shift-m",run:bZ,preventDefault:!0},{key:"F8",run:kZ}],Nl=Z.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Ur(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r}))}});function GQ(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let i=r[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function FQ(t,e,r){var n;let i=r?GQ(e.actions):[];return de("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},de("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let l=!1,a=d=>{if(d.preventDefault(),l)return;l=!0;let f=qs(t.state.field(Ut).diagnostics,e);f&&s.apply(t,f.from,f.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,h=u<0?c:[c.slice(0,u),de("u",c.slice(u,u+1)),c.slice(u+1)];return de("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&de("div",{class:"cm-diagnosticSource"},e.source))}class PZ extends qr{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return de("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Mv{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=FQ(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Il{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)Lv(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=GQ(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==i.keyCode){let a=qs(this.view.state.field(Ut).diagnostics,s);a&&s.actions[l].apply(e,a.from,a.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=de("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=de("div",{class:"cm-panel-lint"},this.list,de("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Lv(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ut).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(Ut),n=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,a,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let h=-1,d;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==u){h=f;break}h<0?(d=new Mv(this.view,u),this.items.splice(n,0,d),i=!0):(d=this.items[h],h>n&&(this.items.splice(n,h-n),i=!0)),r&&d.diagnostic==r.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Mv(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:a})=>{let c=a.height/this.list.offsetHeight;l.top<a.top?this.list.scrollTop-=(a.top-l.top)/c:l.bottom>a.bottom&&(this.list.scrollTop+=(l.bottom-a.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(Ut),n=qs(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:VQ.of(n)})}static open(e){return new Il(e)}}function TZ(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Ya(t){return TZ(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const $Z=L.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ya("#d11")},".cm-lintRange-warning":{backgroundImage:Ya("orange")},".cm-lintRange-info":{backgroundImage:Ya("#999")},".cm-lintRange-hint":{backgroundImage:Ya("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function _Z(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function CZ(t){let e="hint",r=1;for(let n of t){let i=_Z(n.severity);i>r&&(r=i,e=n.severity)}return e}const EZ=[Ut,L.decorations.compute([Ut],t=>{let{selected:e,panel:r}=t.field(Ut);return!e||!r||e.from==e.to?W.none:W.set([SZ.range(e.from,e.to)])}),SI(xZ,{hideOn:yZ}),$Z];var Zv=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(cZ)),e.defaultKeymap!==!1&&(n=n.concat(V5)),e.searchKeymap!==!1&&(n=n.concat(vM)),e.historyKeymap!==!1&&(n=n.concat(r5)),e.foldKeymap!==!1&&(n=n.concat(OL)),e.completionKeymap!==!1&&(n=n.concat(WQ)),e.lintKeymap!==!1&&(n=n.concat(QZ));var i=[];return e.lineNumbers!==!1&&i.push(EI()),e.highlightActiveLineGutter!==!1&&i.push(jI()),e.highlightSpecialChars!==!1&&i.push(FN()),e.history!==!1&&i.push(VL()),e.foldGutter!==!1&&i.push(SL()),e.drawSelection!==!1&&i.push(LN()),e.dropCursor!==!1&&i.push(zN()),e.allowMultipleSelections!==!1&&i.push(oe.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(lL()),e.syntaxHighlighting!==!1&&i.push(qk(kL,{fallback:!0})),e.bracketMatching!==!1&&i.push(EL()),e.closeBrackets!==!1&&i.push(sZ()),e.autocompletion!==!1&&i.push(OZ()),e.rectangularSelection!==!1&&i.push(cI()),r!==!1&&i.push(dI()),e.highlightActiveLine!==!1&&i.push(tI()),e.highlightSelectionMatches!==!1&&i.push(eM()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Kl.of(" ".repeat(e.tabSize))),i.concat([Hl.of(n.flat())]).filter(Boolean)};const RZ="#e5c07b",Uv="#e06c75",AZ="#56b6c2",jZ="#ffffff",wc="#abb2bf",Xp="#7d8799",DZ="#61afef",NZ="#98c379",qv="#d19a66",IZ="#c678dd",LZ="#21252b",zv="#2c313a",Xv="#282c34",Td="#353a42",MZ="#3E4451",Wv="#528bff",ZZ=L.theme({"&":{color:wc,backgroundColor:Xv},".cm-content":{caretColor:Wv},".cm-cursor, .cm-dropCursor":{borderLeftColor:Wv},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:MZ},".cm-panels":{backgroundColor:LZ,color:wc},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Xv,color:Xp,border:"none"},".cm-activeLineGutter":{backgroundColor:zv},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Td},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Td,borderBottomColor:Td},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:zv,color:wc}}},{dark:!0}),UZ=ta.define([{tag:w.keyword,color:IZ},{tag:[w.name,w.deleted,w.character,w.propertyName,w.macroName],color:Uv},{tag:[w.function(w.variableName),w.labelName],color:DZ},{tag:[w.color,w.constant(w.name),w.standard(w.name)],color:qv},{tag:[w.definition(w.name),w.separator],color:wc},{tag:[w.typeName,w.className,w.number,w.changed,w.annotation,w.modifier,w.self,w.namespace],color:RZ},{tag:[w.operator,w.operatorKeyword,w.url,w.escape,w.regexp,w.link,w.special(w.string)],color:AZ},{tag:[w.meta,w.comment],color:Xp},{tag:w.strong,fontWeight:"bold"},{tag:w.emphasis,fontStyle:"italic"},{tag:w.strikethrough,textDecoration:"line-through"},{tag:w.link,color:Xp,textDecoration:"underline"},{tag:w.heading,fontWeight:"bold",color:Uv},{tag:[w.atom,w.bool,w.special(w.variableName)],color:qv},{tag:[w.processingInstruction,w.string,w.inserted],color:NZ},{tag:w.invalid,color:jZ}]),qZ=[ZZ,qk(UZ)];var zZ=L.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),XZ=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:n=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:l=!0}=e,a=[];switch(r&&a.unshift(Hl.of([G5])),l&&(typeof l=="boolean"?a.unshift(Zv()):a.unshift(Zv(l))),o&&a.unshift(sI(o)),s){case"light":a.push(zZ);break;case"dark":a.push(qZ);break;case"none":break;default:a.push(s);break}return n===!1&&a.push(L.editable.of(!1)),i&&a.push(oe.readOnly.of(!0)),[...a]},WZ=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),Bv=Zr.define(),BZ=[];function VZ(t){var{value:e,selection:r,onChange:n,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:l=BZ,autoFocus:a,theme:c="light",height:u=null,minHeight:h=null,maxHeight:d=null,width:f=null,minWidth:p=null,maxWidth:O=null,placeholder:y="",editable:g=!0,readOnly:m=!1,indentWithTab:S=!0,basicSetup:b=!0,root:x,initialState:Q}=t,[P,T]=k.useState(),[_,C]=k.useState(),[D,R]=k.useState(),X=L.theme({"&":{height:u,minHeight:h,maxHeight:d,width:f,minWidth:p,maxWidth:O},"& .cm-scroller":{height:"100% !important"}}),N=L.updateListener.of(V=>{if(V.docChanged&&typeof n=="function"&&!V.transactions.some(U=>U.annotation(Bv))){var E=V.state.doc,A=E.toString();n(A,V)}i&&i(WZ(V))}),M=XZ({theme:c,editable:g,readOnly:m,placeholder:y,indentWithTab:S,basicSetup:b}),B=[N,X,...M];return o&&typeof o=="function"&&B.push(L.updateListener.of(o)),B=B.concat(l),k.useLayoutEffect(()=>{if(P&&!D){var V={doc:e,selection:r,extensions:B},E=Q?oe.fromJSON(Q.json,V,Q.fields):oe.create(V);if(R(E),!_){var A=new L({state:E,parent:P,root:x});C(A),s&&s(A,E)}}return()=>{_&&(R(void 0),C(void 0))}},[P,D]),k.useEffect(()=>{t.container&&T(t.container)},[t.container]),k.useEffect(()=>()=>{_&&(_.destroy(),C(void 0))},[_]),k.useEffect(()=>{a&&_&&_.focus()},[a,_]),k.useEffect(()=>{_&&_.dispatch({effects:J.reconfigure.of(B)})},[c,l,u,h,d,f,p,O,y,g,m,S,b,n,o]),k.useEffect(()=>{if(e!==void 0){var V=_?_.state.doc.toString():"";_&&e!==V&&_.dispatch({changes:{from:0,to:V.length,insert:e||""},annotations:[Bv.of(!0)]})}},[e,_]),{state:D,setState:R,view:_,setView:C,container:P,setContainer:T}}var GZ=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],YQ=k.forwardRef((t,e)=>{var{className:r,value:n="",selection:i,extensions:s=[],onChange:o,onStatistics:l,onCreateEditor:a,onUpdate:c,autoFocus:u,theme:h="light",height:d,minHeight:f,maxHeight:p,width:O,minWidth:y,maxWidth:g,basicSetup:m,placeholder:S,indentWithTab:b,editable:x,readOnly:Q,root:P,initialState:T}=t,_=Aj(t,GZ),C=k.useRef(null),{state:D,view:R,container:X,setContainer:N}=VZ({root:P,value:n,autoFocus:u,theme:h,height:d,minHeight:f,maxHeight:p,width:O,minWidth:y,maxWidth:g,basicSetup:m,placeholder:S,indentWithTab:b,editable:x,readOnly:Q,selection:i,onChange:o,onStatistics:l,onCreateEditor:a,onUpdate:c,extensions:s,initialState:T});k.useImperativeHandle(e,()=>({editor:C.current,state:D,view:R}),[C,X,D,R]);var M=k.useCallback(V=>{C.current=V,N(V)},[N]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var B=typeof h=="string"?"cm-theme-"+h:"cm-theme";return v.jsx("div",Ff({ref:M,className:""+B+(r?" "+r:"")},_))});YQ.displayName="CodeMirror";var Vv={};class Su{constructor(e,r,n,i,s,o,l,a,c,u=0,h){this.p=e,this.stack=r,this.state=n,this.reducePos=i,this.pos=s,this.score=o,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let i=e.parser.context;return new Su(e,[],r,n,n,0,[],0,i?new Gv(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let n=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let l=s.dynamicPrecedence(i);if(l&&(this.score+=l),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(n-1)*3-(e&262144?6:0),c=a?this.stack[a-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((r=this.p.parser.nodeSet.types[i])===null||r===void 0)&&r.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let h=a?this.stack[a-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,f,d+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,r,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(r==n)return;if(o.buffer[l-2]>=r){o.buffer[l-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,r,n,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let l=!1;for(let a=o;a>0&&this.buffer[a-2]>n;a-=4)if(this.buffer[a-1]>=0){l=!0;break}if(l)for(;o>0&&this.buffer[o-2]>n;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=r,this.buffer[o+2]=n,this.buffer[o+3]=i}}shift(e,r,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||r<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(r,n),r<=o.maxNode&&this.buffer.push(r,n,i,4)}}apply(e,r,n,i){e&65536?this.reduce(e):this.shift(e,r,n,i)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(r,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),i=e.bufferBase+r;for(;e&&i==e.bufferBase;)e=e.parent;return new Su(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new FZ(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(n==0)return!1;if(!(n&65536))return!0;r.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<r.length;s+=2)(o=r[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(r[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<r.length;s+=2){let o=r[s+1];i.some((l,a)=>a&1&&l==o)||i.push(r[s],o)}r=i}let n=[];for(let i=0;i<r.length&&n.length<4;i+=2){let s=r[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(r[i],this.pos),o.reducePos=this.pos,o.score-=200,n.push(o)}return n}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if(!(r&65536))return!1;if(!e.validAction(this.state,r)){let n=r>>19,i=r&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;r=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],n=(i,s)=>{if(!r.includes(i))return r.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-s;if(l>1){let a=o&65535,c=this.stack.length-l*3;if(c>=0&&e.getGoto(this.stack[c],a,!1)>=0)return l<<19|65536|a}}else{let l=n(o,s+1);if(l!=null)return l}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Gv(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Gv{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class FZ{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=i}}class xu{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new xu(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new xu(this.stack,this.pos,this.index)}}function Ao(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,i=0;n<t.length;){let s=0;for(;;){let o=t.charCodeAt(n++),l=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let a=o-32;if(a>=46&&(a-=46,l=!0),s+=a,l)break;s*=46}r?r[i++]=s:r=new e(s)}return r}class bc{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Fv=new bc;class YZ{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Fv,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let o=this.ranges[--i];s-=n.from-o.to,n=o}for(;r<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-n.to,n=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,n,i;if(r>=0&&r<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(r);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=n;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Fv,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let n="";for(let i of this.ranges){if(i.from>=r)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,r)))}return n}}class Qs{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:n}=r.p;HQ(this.data,e,r,this.id,n.data,n.tokenPrecTable)}}Qs.prototype.contextual=Qs.prototype.fallback=Qs.prototype.extend=!1;class Wp{constructor(e,r,n){this.precTable=r,this.elseToken=n,this.data=typeof e=="string"?Ao(e):e}token(e,r){let n=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(HQ(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(n,e.token),e.acceptToken(this.elseToken,i))}}Wp.prototype.contextual=Qs.prototype.fallback=Qs.prototype.extend=!1;class fn{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function HQ(t,e,r,n,i,s){let o=0,l=1<<n,{dialect:a}=r.p.parser;e:for(;l&t[o];){let c=t[o+1];for(let f=o+3;f<c;f+=2)if((t[f+1]&l)>0){let p=t[f];if(a.allows(p)&&(e.token.value==-1||e.token.value==p||HZ(p,e.token.value,i,s))){e.acceptToken(p);break}}let u=e.next,h=0,d=t[o+2];if(e.next<0&&d>h&&t[c+d*3-3]==65535){o=t[c+d*3-1];continue e}for(;h<d;){let f=h+d>>1,p=c+f+(f<<1),O=t[p],y=t[p+1]||65536;if(u<O)d=f;else if(u>=y)h=f+1;else{o=t[p+2],e.advance();continue e}}break}}function Yv(t,e,r){for(let n=e,i;(i=t[n])!=65535;n++)if(i==r)return n-e;return-1}function HZ(t,e,r,n){let i=Yv(r,n,e);return i<0||Yv(r,n,t)<i}const Dt=typeof process<"u"&&Vv&&/\bparse\b/.test(Vv.LOG);let $d=null;function Hv(t,e,r){let n=t.cursor(De.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class JZ{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Hv(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Hv(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],i=this.index[r];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],o=this.start[r]+n.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Le){if(o==e){if(o<this.safeFrom)return null;let l=o+s.length;if(l<=this.safeTo){let a=s.prop(ne.lookAhead);if(!a||l+a<this.fragment.to)return s}}this.index[r]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[r]++,this.nextStart=o+s.length}}}class KZ{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new bc)}getActions(e){let r=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(n&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=l)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=l),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),h.value!=0)){let d=r;if(h.extended>-1&&(r=this.addActions(e,h.extended,h.end,r)),r=this.addActions(e,h.value,h.end,r),!u.extend&&(n=h,r>d))break}}for(;this.actions.length>r;)this.actions.pop();return a&&e.setLookAhead(a),!n&&e.pos==this.stream.end&&(n=new bc,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,r=this.addActions(e,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new bc,{pos:n,p:i}=e;return r.start=n,r.end=Math.min(n+1,i.stream.end),r.value=n==i.stream.end?i.parser.eofTerm:0,r}updateCachedToken(e,r,n){let i=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let l=s.specializers[o](this.stream.read(e.start,e.end),n);if(l>=0&&n.p.parser.dialect.allows(l>>1)){l&1?e.extended=l>>1:e.value=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,r,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=r,this.actions[i++]=n,i}addActions(e,r,n,i){let{state:s}=e,{parser:o}=e.p,{data:l}=o;for(let a=0;a<2;a++)for(let c=o.stateSlot(s,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=Jr(l,c+2);else{i==0&&l[c+1]==2&&(i=this.putAction(Jr(l,c+2),r,n,i));break}l[c]==r&&(i=this.putAction(Jr(l,c+1),r,n,i))}return i}}class eU{constructor(e,r,n,i){this.parser=e,this.input=r,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new YZ(r,i),this.tokens=new KZ(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Su.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new JZ(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>r)n.push(l);else{if(this.advanceStack(l,n,e))continue;{i||(i=[],s=[]),i.push(l);let a=this.tokens.getMainToken(l);s.push(a.value,a.end)}}break}}if(!n.length){let o=i&&rU(i);if(o)return Dt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Dt&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(o)return Dt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(n.length>o)for(n.sort((l,a)=>a.score-l.score);n.length>o;)n.pop();n.some(l=>l.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let o=0;o<n.length-1;o++){let l=n[o];for(let a=o+1;a<n.length;a++){let c=n[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)n.splice(a--,1);else{n.splice(o--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let o=1;o<n.length;o++)n[o].pos<this.minStackPos&&(this.minStackPos=n[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,n){let i=e.pos,{parser:s}=this,o=Dt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let d=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(d>-1&&h.length&&(!c||(h.prop(ne.contextHash)||0)==u))return e.useNode(h,d),Dt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Le)||h.children.length==0||h.positions[0]>0)break;let f=h.children[0];if(f instanceof Le&&h.positions[0]==0)h=f;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),Dt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let c=0;c<a.length;){let u=a[c++],h=a[c++],d=a[c++],f=c==a.length||!n,p=f?e:e.split(),O=this.tokens.mainToken;if(p.apply(u,h,O?O.start:p.pos,d),Dt&&console.log(o+this.stackID(p)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${p==e?"":", split"})`),f)return!0;p.pos>i?r.push(p):n.push(p)}return!1}advanceFully(e,r){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Jv(e,r),!0}}runRecovery(e,r,n){let i=null,s=!1;for(let o=0;o<e.length;o++){let l=e[o],a=r[o<<1],c=r[(o<<1)+1],u=Dt?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),Dt&&console.log(u+this.stackID(l)+" (restarted)"),this.advanceFully(l,n))))continue;let h=l.split(),d=u;for(let f=0;h.forceReduce()&&f<10&&(Dt&&console.log(d+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,n));f++)Dt&&(d=this.stackID(h)+" -> ");for(let f of l.recoverByInsert(a))Dt&&console.log(u+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,n);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),Dt&&console.log(u+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),Jv(l,n)):(!i||i.score<l.score)&&(i=l)}return i}stackToTree(e){return e.close(),Le.build({buffer:xu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=($d||($d=new WeakMap)).get(e);return r||$d.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function Jv(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class tU{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const _d=t=>t;class JQ{constructor(e){this.start=e.start,this.shift=e.shift||_d,this.reduce=e.reduce||_d,this.reuse=e.reuse||_d,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ll extends Qk{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let l=0;l<e.repeatNodeCount;l++)r.push("");let n=Object.keys(e.topRules).map(l=>e.topRules[l][1]),i=[];for(let l=0;l<r.length;l++)i.push([]);function s(l,a,c){i[l].push([a,a.deserialize(String(c))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=ne[a]);for(let c=1;c<l.length;){let u=l[c++];if(u>=0)s(u,a,l[c++]);else{let h=l[c+-u];for(let d=-u;d>0;d--)s(l[c++],a,h);c++}}}this.nodeSet=new yO(r.map((l,a)=>At.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:i[a],top:n.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Sk;let o=Ao(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(Kv),this.states=Ao(e.states,Uint32Array),this.data=Ao(e.stateData),this.goto=Ao(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new Qs(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,n){let i=new eU(this,e,r,n);for(let s of this.wrappers)i=s(i,e,r,n);return i}getGoto(e,r,n=!1){let i=this.goto;if(r>=i[0])return-1;for(let s=i[r+1];;){let o=i[s++],l=o&1,a=i[s++];if(l&&n)return a;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return a;if(l)return-1}}hasAction(e,r){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=n[s])==65535)if(n[s+1]==1)o=n[s=Jr(n,s+2)];else{if(n[s+1]==2)return Jr(n,s+2);break}if(o==r||o==0)return Jr(n,s+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,n=>n==r?!0:null)}allActions(e,r){let n=this.stateSlot(e,4),i=n?r(n):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Jr(this.data,s+2);else break;i=r(Jr(this.data,s+1))}return i}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Jr(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];r.some((s,o)=>o&1&&s==i)||r.push(this.data[n],i)}}return r}configure(e){let r=Object.assign(Object.create(Ll.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(l=>l.from==n.external);if(!s)return n;let o=Object.assign(Object.assign({},n),{external:s.to});return r.specializers[i]=Kv(o),o})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let s of e.split(" ")){let o=r.indexOf(s);o>=0&&(n[o]=!0)}let i=null;for(let s=0;s<r.length;s++)if(!n[s])for(let o=this.dialects[r[s]],l;(l=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new tU(e,n,i)}static deserialize(e){return new Ll(e)}}function Jr(t,e){return t[e]|t[e+1]<<16}function rU(t){let e=null;for(let r of t){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Kv(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}const nU=314,iU=315,eS=1,sU=2,oU=3,lU=4,aU=316,cU=318,uU=319,hU=5,dU=6,fU=0,Bp=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],KQ=125,pU=59,Vp=47,gU=42,OU=43,mU=45,yU=60,vU=44,SU=63,xU=46,wU=91,bU=new JQ({start:!1,shift(t,e){return e==hU||e==dU||e==cU?t:e==uU},strict:!1}),kU=new fn((t,e)=>{let{next:r}=t;(r==KQ||r==-1||e.context)&&t.acceptToken(aU)},{contextual:!0,fallback:!0}),QU=new fn((t,e)=>{let{next:r}=t,n;Bp.indexOf(r)>-1||r==Vp&&((n=t.peek(1))==Vp||n==gU)||r!=KQ&&r!=pU&&r!=-1&&!e.context&&t.acceptToken(nU)},{contextual:!0}),PU=new fn((t,e)=>{t.next==wU&&!e.context&&t.acceptToken(iU)},{contextual:!0}),TU=new fn((t,e)=>{let{next:r}=t;if(r==OU||r==mU){if(t.advance(),r==t.next){t.advance();let n=!e.context&&e.canShift(eS);t.acceptToken(n?eS:sU)}}else r==SU&&t.peek(1)==xU&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(oU))},{contextual:!0});function Cd(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const $U=new fn((t,e)=>{if(t.next!=yU||!e.dialectEnabled(fU)||(t.advance(),t.next==Vp))return;let r=0;for(;Bp.indexOf(t.next)>-1;)t.advance(),r++;if(Cd(t.next,!0)){for(t.advance(),r++;Cd(t.next,!1);)t.advance(),r++;for(;Bp.indexOf(t.next)>-1;)t.advance(),r++;if(t.next==vU)return;for(let n=0;;n++){if(n==7){if(!Cd(t.next,!0))return;break}if(t.next!="extends".charCodeAt(n))break;t.advance(),r++}}t.acceptToken(lU,-r)}),_U=wO({"get set async static":w.modifier,"for while do if else switch try catch finally return throw break continue default case":w.controlKeyword,"in of await yield void typeof delete instanceof":w.operatorKeyword,"let var const using function class extends":w.definitionKeyword,"import export from":w.moduleKeyword,"with debugger as new":w.keyword,TemplateString:w.special(w.string),super:w.atom,BooleanLiteral:w.bool,this:w.self,null:w.null,Star:w.modifier,VariableName:w.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":w.function(w.variableName),VariableDefinition:w.definition(w.variableName),Label:w.labelName,PropertyName:w.propertyName,PrivatePropertyName:w.special(w.propertyName),"CallExpression/MemberExpression/PropertyName":w.function(w.propertyName),"FunctionDeclaration/VariableDefinition":w.function(w.definition(w.variableName)),"ClassDeclaration/VariableDefinition":w.definition(w.className),"NewExpression/VariableName":w.className,PropertyDefinition:w.definition(w.propertyName),PrivatePropertyDefinition:w.definition(w.special(w.propertyName)),UpdateOp:w.updateOperator,"LineComment Hashbang":w.lineComment,BlockComment:w.blockComment,Number:w.number,String:w.string,Escape:w.escape,ArithOp:w.arithmeticOperator,LogicOp:w.logicOperator,BitOp:w.bitwiseOperator,CompareOp:w.compareOperator,RegExp:w.regexp,Equals:w.definitionOperator,Arrow:w.function(w.punctuation),": Spread":w.punctuation,"( )":w.paren,"[ ]":w.squareBracket,"{ }":w.brace,"InterpolationStart InterpolationEnd":w.special(w.brace),".":w.derefOperator,", ;":w.separator,"@":w.meta,TypeName:w.typeName,TypeDefinition:w.definition(w.typeName),"type enum interface implements namespace module declare":w.definitionKeyword,"abstract global Privacy readonly override":w.modifier,"is keyof unique infer asserts":w.operatorKeyword,JSXAttributeValue:w.attributeValue,JSXText:w.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":w.angleBracket,"JSXIdentifier JSXNameSpacedName":w.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":w.attributeName,"JSXBuiltin/JSXIdentifier":w.standard(w.tagName)}),CU={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},EU={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},RU={__proto__:null,"<":189},AU=Ll.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:bU,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[_U],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[QU,PU,TU,$U,2,3,4,5,6,7,8,9,10,11,12,13,14,kU,new Wp("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new Wp("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:t=>CU[t]||-1},{term:341,get:t=>EU[t]||-1},{term:93,get:t=>RU[t]||-1}],tokenPrec:15116}),eP=[Qe("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Qe("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Qe("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Qe("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Qe("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Qe(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Qe("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Qe(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Qe(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Qe('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Qe('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],jU=eP.concat([Qe("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Qe("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Qe("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),tS=new kk,tP=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function wo(t){return(e,r)=>{let n=e.node.getChild("VariableDefinition");return n&&r(n,t),!0}}const DU=["FunctionDeclaration"],NU={FunctionDeclaration:wo("function"),ClassDeclaration:wo("class"),ClassExpression:()=>!0,EnumDeclaration:wo("constant"),TypeAliasDeclaration:wo("type"),NamespaceDeclaration:wo("namespace"),VariableDefinition(t,e){t.matchContext(DU)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function rP(t,e){let r=tS.get(e);if(r)return r;let n=[],i=!0;function s(o,l){let a=t.sliceString(o.from,o.to);n.push({label:a,type:l})}return e.cursor(De.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let l=NU[o.name];if(l&&l(o,s)||tP.has(o.name))return!1}else if(o.to-o.from>8192){for(let l of rP(t,o.node))n.push(l);return!1}}),tS.set(e,n),n}const rS=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,nP=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function IU(t){let e=Me(t.state).resolveInner(t.pos,-1);if(nP.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&rS.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let n=[];for(let i=e;i;i=i.parent)tP.has(i.name)&&(n=n.concat(rP(t.state.doc,i)));return{options:n,from:r?e.from:t.pos,validFor:rS}}const xi=Cl.define({name:"javascript",parser:AU.configure({props:[QO.add({IfStatement:yd({except:/^\s*({|else\b)/}),TryStatement:yd({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:sL,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:n?1:2)*t.unit},Block:xc({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":yd({except:/^{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),TO.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Ak,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),iP={test:t=>/^JSX/.test(t.name),facet:$k({commentTokens:{block:{open:"{/*",close:"*/}"}}})},LU=xi.configure({dialect:"ts"},"typescript"),MU=xi.configure({dialect:"jsx",props:[bO.add(t=>t.isTop?[iP]:void 0)]}),ZU=xi.configure({dialect:"jsx ts",props:[bO.add(t=>t.isTop?[iP]:void 0)]},"typescript");let sP=t=>({label:t,type:"keyword"});const oP="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(sP),UU=oP.concat(["declare","implements","private","protected","public"].map(sP));function nS(t={}){let e=t.jsx?t.typescript?ZU:MU:t.typescript?LU:xi,r=t.typescript?jU.concat(UU):eP.concat(oP);return new Ck(e,[xi.data.of({autocomplete:DQ(nP,DO(r))}),xi.data.of({autocomplete:IU}),t.jsx?XU:[]])}function qU(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function iS(t,e,r=t.length){for(let n=e==null?void 0:e.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return t.sliceString(n.from,Math.min(n.to,r));return""}const zU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),XU=L.inputHandler.of((t,e,r,n,i)=>{if((zU?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||n!=">"&&n!="/"||!xi.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,l=o.changeByRange(a=>{var c;let{head:u}=a,h=Me(o).resolveInner(u-1,-1),d;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(u-1,u)!=n||h.name=="JSXAttributeValue"&&h.to>u)){if(n==">"&&h.name=="JSXFragmentTag")return{range:a,changes:{from:u,insert:"</>"}};if(n=="/"&&h.name=="JSXStartCloseTag"){let f=h.parent,p=f.parent;if(p&&f.from==u-2&&((d=iS(o.doc,p.firstChild,u))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let O=`${d}>`;return{range:$.cursor(u+O.length,-1),changes:{from:u,insert:O}}}}else if(n==">"){let f=qU(h);if(f&&f.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(d=iS(o.doc,f,u)))return{range:a,changes:{from:u,insert:`</${d}>`}}}}return{range:a}});return l.changes.empty?!1:(t.dispatch([s,o.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),WU=1,lP=194,aP=195,BU=196,sS=197,VU=198,GU=199,FU=200,YU=2,cP=3,oS=201,HU=24,JU=25,KU=49,eq=50,tq=55,rq=56,nq=57,iq=59,sq=60,oq=61,lq=62,aq=63,cq=65,uq=238,hq=71,dq=241,fq=242,pq=243,gq=244,Oq=245,mq=246,yq=247,vq=248,uP=72,Sq=249,xq=250,wq=251,bq=252,kq=253,Qq=254,Pq=255,Tq=256,$q=73,_q=77,Cq=263,Eq=112,Rq=130,Aq=151,jq=152,Dq=155,Ai=10,Ml=13,XO=32,dh=9,WO=35,Nq=40,Iq=46,Gp=123,lS=125,hP=39,dP=34,aS=92,Lq=111,Mq=120,Zq=78,Uq=117,qq=85,zq=new Set([JU,KU,eq,Cq,cq,Rq,rq,nq,uq,lq,aq,uP,$q,_q,sq,oq,Aq,jq,Dq,Eq]);function Ed(t){return t==Ai||t==Ml}function Rd(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const Xq=new fn((t,e)=>{let r;if(t.next<0)t.acceptToken(GU);else if(e.context.flags&kc)Ed(t.next)&&t.acceptToken(VU,1);else if(((r=t.peek(-1))<0||Ed(r))&&e.canShift(sS)){let n=0;for(;t.next==XO||t.next==dh;)t.advance(),n++;(t.next==Ai||t.next==Ml||t.next==WO)&&t.acceptToken(sS,-n)}else Ed(t.next)&&t.acceptToken(BU,1)},{contextual:!0}),Wq=new fn((t,e)=>{let r=e.context;if(r.flags)return;let n=t.peek(-1);if(n==Ai||n==Ml){let i=0,s=0;for(;;){if(t.next==XO)i++;else if(t.next==dh)i+=8-i%8;else break;t.advance(),s++}i!=r.indent&&t.next!=Ai&&t.next!=Ml&&t.next!=WO&&(i<r.indent?t.acceptToken(aP,-s):t.acceptToken(lP))}}),kc=1,fP=2,Wr=4,Br=8,Vr=16,Gr=32;function Qc(t,e,r){this.parent=t,this.indent=e,this.flags=r,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+r+(r<<6)}const Bq=new Qc(null,0,0);function Vq(t){let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r)==dh?8-e%8:1;return e}const cS=new Map([[dq,0],[fq,Wr],[pq,Br],[gq,Br|Wr],[Oq,Vr],[mq,Vr|Wr],[yq,Vr|Br],[vq,Vr|Br|Wr],[Sq,Gr],[xq,Gr|Wr],[wq,Gr|Br],[bq,Gr|Br|Wr],[kq,Gr|Vr],[Qq,Gr|Vr|Wr],[Pq,Gr|Vr|Br],[Tq,Gr|Vr|Br|Wr]].map(([t,e])=>[t,e|fP])),Gq=new JQ({start:Bq,reduce(t,e,r,n){return t.flags&kc&&zq.has(e)||(e==hq||e==uP)&&t.flags&fP?t.parent:t},shift(t,e,r,n){return e==lP?new Qc(t,Vq(n.read(n.pos,r.pos)),0):e==aP?t.parent:e==HU||e==tq||e==iq||e==cP?new Qc(t,0,kc):cS.has(e)?new Qc(t,0,cS.get(e)|t.flags&kc):t},hash(t){return t.hash}}),Fq=new fn(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let r=t.peek(e);if(!(r==XO||r==dh)){r!=Nq&&r!=Iq&&r!=Ai&&r!=Ml&&r!=WO&&t.acceptToken(WU);return}}}),Yq=new fn((t,e)=>{let{flags:r}=e.context,n=r&Wr?dP:hP,i=(r&Br)>0,s=!(r&Vr),o=(r&Gr)>0,l=t.pos;for(;!(t.next<0);)if(o&&t.next==Gp)if(t.peek(1)==Gp)t.advance(2);else{if(t.pos==l){t.acceptToken(cP,1);return}break}else if(s&&t.next==aS){if(t.pos==l){t.advance();let a=t.next;a>=0&&(t.advance(),Hq(t,a)),t.acceptToken(YU);return}break}else if(t.next==aS&&!s&&t.peek(1)>-1)t.advance(2);else if(t.next==n&&(!i||t.peek(1)==n&&t.peek(2)==n)){if(t.pos==l){t.acceptToken(oS,i?3:1);return}break}else if(t.next==Ai){if(i)t.advance();else if(t.pos==l){t.acceptToken(oS);return}break}else t.advance();t.pos>l&&t.acceptToken(FU)});function Hq(t,e){if(e==Lq)for(let r=0;r<2&&t.next>=48&&t.next<=55;r++)t.advance();else if(e==Mq)for(let r=0;r<2&&Rd(t.next);r++)t.advance();else if(e==Uq)for(let r=0;r<4&&Rd(t.next);r++)t.advance();else if(e==qq)for(let r=0;r<8&&Rd(t.next);r++)t.advance();else if(e==Zq&&t.next==Gp){for(t.advance();t.next>=0&&t.next!=lS&&t.next!=hP&&t.next!=dP&&t.next!=Ai;)t.advance();t.next==lS&&t.advance()}}const Jq=wO({'async "*" "**" FormatConversion FormatSpec':w.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":w.controlKeyword,"in not and or is del":w.operatorKeyword,"from def class global nonlocal lambda":w.definitionKeyword,import:w.moduleKeyword,"with as print":w.keyword,Boolean:w.bool,None:w.null,VariableName:w.variableName,"CallExpression/VariableName":w.function(w.variableName),"FunctionDefinition/VariableName":w.function(w.definition(w.variableName)),"ClassDefinition/VariableName":w.definition(w.className),PropertyName:w.propertyName,"CallExpression/MemberExpression/PropertyName":w.function(w.propertyName),Comment:w.lineComment,Number:w.number,String:w.string,FormatString:w.special(w.string),Escape:w.escape,UpdateOp:w.updateOperator,"ArithOp!":w.arithmeticOperator,BitOp:w.bitwiseOperator,CompareOp:w.compareOperator,AssignOp:w.definitionOperator,Ellipsis:w.punctuation,At:w.meta,"( )":w.paren,"[ ]":w.squareBracket,"{ }":w.brace,".":w.derefOperator,", ;":w.separator}),Kq={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},ez=Ll.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pO$8sQtO,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8zQdO,5>wO$9RQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9ZQdO1G4bO$9eQdO1G4bO$9mQdO1G4bOOQS7+%T7+%TO$9{QdO1G1tO$:ZQtO'#FaO$:bQdO,5<}OOQS,5<},5<}O$:pQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:wQdO,5<|O$:|QdO7+)|OOQS-E:`-E:`O$;WQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;`QdO1G2hO$)nQdO1G2hP$;nQdO'#GbO$;uQdO<<MhO$<PQdO1G1uO$<_QdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<mQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$=QQdO'#GOO'vQdO'#GtO$=_QdO,59bO$=dQdO,59bO$=kQdO,59mO$=pQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>Z~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=o'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHwITI]PIdIjPIdPIdIdPPPIdPKxPLRL]LcKxPIdLlPIdPLsLyPL}McNQNkL}L}Nq! OL}L}L}L}! d! j! m! r! u!!P!!V!!c!!u!!{!#V!#]!#y!$P!$V!$a!$g!$m!%P!%Z!%a!%g!%q!%w!%}!&T!&Z!&a!&k!&q!&{!'R!'[!'b!'q!'y!(T!([PPPPPPPPPPP!(b!(e!(k!(t!)O!)ZPPPPPPPPPPPP!-}!/c!3c!6sPP!6{!7[!7e!8^!8T!8g!8m!8p!8s!8v!9O!9oPPPPPPPPPPPPPPPPP!9r!9v!9|P!:b!:f!:r!:{!;X!;o!;r!;u!;{!<R!<X!<[P!<d!<m!=i!=l]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Gq,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Jq],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Fq,Wq,Xq,Yq,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>Kq[t]||-1}],tokenPrec:7675}),uS=new kk,pP=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Ha(t){return(e,r,n)=>{if(n)return!1;let i=e.node.getChild("VariableName");return i&&r(i,t),!0}}const tz={FunctionDefinition:Ha("function"),ClassDefinition:Ha("class"),ForStatement(t,e,r){if(r){for(let n=t.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name=="in")break}},ImportStatement(t,e){var r,n;let{node:i}=t,s=((r=i.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let o=i.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((n=o.nextSibling)===null||n===void 0?void 0:n.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(t,e){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(t,e){for(let r=null,n=t.node.firstChild;n;n=n.nextSibling)n.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(n,"variable"),r=n},CapturePattern:Ha("variable"),AsPattern:Ha("variable"),__proto__:null};function gP(t,e){let r=uS.get(e);if(r)return r;let n=[],i=!0;function s(o,l){let a=t.sliceString(o.from,o.to);n.push({label:a,type:l})}return e.cursor(De.IncludeAnonymous).iterate(o=>{if(o.name){let l=tz[o.name];if(l&&l(o,s,i)||!i&&pP.has(o.name))return!1;i=!1}else if(o.to-o.from>8192){for(let l of gP(t,o.node))n.push(l);return!1}}),uS.set(e,n),n}const hS=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,OP=["String","FormatString","Comment","PropertyName"];function rz(t){let e=Me(t.state).resolveInner(t.pos,-1);if(OP.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&hS.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let n=[];for(let i=e;i;i=i.parent)pP.has(i.name)&&(n=n.concat(gP(t.state.doc,i)));return{options:n,from:r?e.from:t.pos,validFor:hS}}const nz=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),iz=[Qe("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Qe("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Qe("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Qe("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Qe(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Qe("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Qe("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Qe("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Qe("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],sz=DQ(OP,DO(nz.concat(iz)));function Ad(t){let{node:e,pos:r}=t,n=t.lineIndent(r,-1),i=null;for(;;){let s=e.childBefore(r);if(s)if(s.name=="Comment")r=s.from;else if(s.name=="Body"||s.name=="MatchBody")t.baseIndentFor(s)+t.unit<=n&&(i=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return i}function jd(t,e){let r=t.baseIndentFor(e),n=t.lineAt(t.pos,-1),i=n.from+n.text.length;return/^\s*($|#)/.test(n.text)&&t.node.to<i+100&&!/\S/.test(t.state.sliceDoc(i,t.node.to))&&t.lineIndent(t.pos,-1)<=r||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>r?null:r+t.unit}const Dd=Cl.define({name:"python",parser:ez.configure({props:[QO.add({Body:t=>{var e;let r=Ad(t);return(e=jd(t,r||t.node))!==null&&e!==void 0?e:t.continue()},MatchBody:t=>{var e;let r=Ad(t);return(e=jd(t,r||t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except |finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),MatchStatement:t=>/^\s*case /.test(t.textAfter)?t.baseIndent+t.unit:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":xc({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":xc({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":xc({closing:"]"}),"String FormatString":()=>null,Script:t=>{var e;let r=Ad(t);return(e=r&&jd(t,r))!==null&&e!==void 0?e:t.continue()}}),TO.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Ak,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function oz(){return new Ck(Dd,[Dd.data.of({autocomplete:rz}),Dd.data.of({autocomplete:sz})])}const lz=["Forest of Arrays","Hashmap Dungeons","Binary Search Castle","Linked List Gardens","Tree of Wisdom","Graph Adventures","Dynamic Programming Peaks","Stack & Queue Tavern","String Sorcery","Sorting Sanctuary"],Zl={"Forest of Arrays":"","Hashmap Dungeons":"","Binary Search Castle":"","Linked List Gardens":"","Tree of Wisdom":"","Graph Adventures":"","Dynamic Programming Peaks":"","Stack & Queue Tavern":"","String Sorcery":"","Sorting Sanctuary":""},mP={SKILL:"skill"},az="https://api.dicebear.com/7.x/pixel-art-neutral/svg",yP=t=>`${az}?seed=${encodeURIComponent(t)}`,cz=t=>{if(!t)return 0;const e=Math.max(0,t-Date.now());return Math.ceil(e/1e3)};function uz(t){return`
${t}

// Standard test runner for Judge0
const readline = require('readline');
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout,
  terminal: false
});

// Debug to both console.error (for debugger) and a debug variable (for output inspection)
let debugInfo = ["TEST RUNNER DEBUG STARTS"];
function debug(...args) {
  const message = args.join(" ");
  debugInfo.push(message);
  console.error(message);
}

// First remove comment blocks to avoid detecting functions in comments
const codeWithoutComments = ${JSON.stringify(t)}
  .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '') // Remove multi-line comments
  .replace(/\\/\\/.*$/gm, '');           // Remove single-line comments

debug("Code with comments removed (first 100 chars):", codeWithoutComments.substring(0, 100) + "...");

// Look for function definitions outside of comments
const fnMatch = /\\bfunction\\s+([a-zA-Z0-9_]+)\\s*\\(/.exec(codeWithoutComments) || 
                /var\\s+([a-zA-Z0-9_]+)\\s*=\\s*function/.exec(codeWithoutComments) ||
                /const\\s+([a-zA-Z0-9_]+)\\s*=\\s*function/.exec(codeWithoutComments) ||
                /let\\s+([a-zA-Z0-9_]+)\\s*=\\s*function/.exec(codeWithoutComments);

const functionName = fnMatch ? fnMatch[1] : null;

debug("Detected function name:", functionName);

if (!functionName || functionName === 'ListNode') {
  debug("ERROR: Could not detect valid function name in code");
  console.log(JSON.stringify({
    error: "Could not detect valid solution function",
    debug: debugInfo,
    results: [],
    summary: { total: 0, passed: 0 }
  }));
  process.exit(1);
}

// Support for linked list problems - detect and create necessary constructors
const isLinkedListProblem = ${JSON.stringify(t)}.includes('Definition for singly-linked list');
if (isLinkedListProblem) {
  debug("Detected linked list problem definition");
  
  // Create ListNode constructor if not defined
  if (typeof ListNode === 'undefined') {
    function ListNode(val, next) {
      this.val = (val === undefined ? 0 : val);
      this.next = (next === undefined ? null : next);
    }
    global.ListNode = ListNode;
    debug("Created ListNode constructor");
  }
}

// Detect if user wrote their own console.log
const userHasConsoleLog = /console\\.log\\s*\\(/.test(codeWithoutComments);

// Process input
let input = '';
rl.on('line', (line) => {
  input += line;
});

rl.on('close', () => {
  try {
    debug("Processing input:", input.substring(0, 100) + (input.length > 100 ? "..." : ""));
    
    // Parse the input data which contains test cases
    const testData = JSON.parse(input);
    const results = [];
    let directOutput = null;
    let allUserLogs = [];
    
    // Save the original console.log ONCE at the top level
    const originalConsoleLog = console.log;
    
    // Check if we have a testCases array
    const testCases = testData.testCases || [testData];
    debug("Processing", testCases.length, "test cases");
    
    // Process each test case
    testCases.forEach((test, index) => {
      // Create a completely isolated environment for each test
      let testLogs = [];
      
      // Override console.log for this test only
      console.log = function(...args) {
        const message = args.join(" ");
        testLogs.push(message);
        allUserLogs.push(message);
        console.error("USER LOG:", message);
      };
      
      try {
        debug("-------------------------------------------");
        debug("Processing test case:", index + 1);
        debug("Input:", test.input);
        debug("Expected:", test.expected);
        
        // Parse the input
        let parsedInput = null;
        try {
          parsedInput = JSON.parse(test.input);
          debug("Successfully parsed JSON input:", JSON.stringify(parsedInput));
        } catch (e) {
          debug("Failed to parse as JSON, trying to handle legacy format:", test.input);
          // Handle the legacy format "[1,2,3], 4" by converting it to [[1,2,3], 4]
          const legacyMatch = test.input.match(/^(\\[.+\\]),\\s*(.+)$/);
          if (legacyMatch) {
            try {
              const arrayPart = JSON.parse(legacyMatch[1]);
              const valuePart = JSON.parse(legacyMatch[2]);
              parsedInput = [arrayPart, valuePart];
              debug("Successfully converted legacy format to:", JSON.stringify(parsedInput));
            } catch (e2) {
              debug("Failed to parse legacy format:", e2.message);
              parsedInput = test.input;
            }
          } else {
            debug("Using input as-is (not valid JSON):", test.input);
            parsedInput = test.input;
          }
        }
        
        // Attempt to call the function
        let result = null;
        // Helper function to create a linked list
        function createLinkedList(arr) {
          if (!arr || arr.length === 0) return null;
          const dummy = new ListNode(0);
          let current = dummy;
          for (const val of arr) {
            current.next = new ListNode(val);
            current = current.next;
          }
          return dummy.next;
        }
        // Handle linked list input for linked list problems
        if (isLinkedListProblem && Array.isArray(parsedInput)) {
          debug("Creating linked list from array for " + functionName);
          const linkedList = createLinkedList(parsedInput);
          debug("Calling " + functionName + " with linked list");
          result = eval(\`\${functionName}(linkedList)\`);
          debug("Raw result from linked list call:", result);
        } 
        // Handle array with 2 elements where first is array - common for binary search etc
        else if (Array.isArray(parsedInput) && parsedInput.length === 2 && Array.isArray(parsedInput[0])) {
          debug("Calling " + functionName + " with array and value");
          result = eval(\`\${functionName}(\${JSON.stringify(parsedInput[0])}, \${JSON.stringify(parsedInput[1])})\`);
        }
        // Just pass array directly as the most common case
        else if (Array.isArray(parsedInput)) {
          debug("Calling " + functionName + " with array");
          result = eval(\`\${functionName}(\${JSON.stringify(parsedInput)})\`);
        }
        // Not an array
        else {
          debug("Calling " + functionName + " with single value");
          result = eval(\`\${functionName}(\${JSON.stringify(parsedInput)})\`);
        }
        // Format the result for output
        let formattedResult;
        debug("Raw result type:", typeof result);
        debug("Raw result value:", JSON.stringify(result));
        // Special handling for linked list problems
        if (isLinkedListProblem) {
          debug("Processing result as a linked list result");
          if (result === null || result === undefined) {
            formattedResult = "[]";  // For linked lists, null should format to empty array
            debug("Null/undefined result formatted as empty array []");
          } else if (Array.isArray(result)) {
            formattedResult = JSON.stringify(result);
            debug("Result is already an array:", formattedResult);
          } else if (result && typeof result === 'object' && 'val' in result && 'next' in result) {
            debug("Result is a linked list, converting to array");
            const arr = [];
            let node = result;
            while (node) {
              arr.push(node.val);
              node = node.next;
            }
            formattedResult = JSON.stringify(arr);
            debug("Linked list converted to array:", formattedResult);
          } else {
            formattedResult = JSON.stringify(result);
            debug("Non-linked list result formatted as:", formattedResult);
          }
        } else {
          if (result === null || result === undefined) {
            formattedResult = "null";
            debug("Formatted as null");
          } else if (typeof result === 'boolean') {
            formattedResult = String(result).toLowerCase();
            debug("Formatted as boolean:", formattedResult);
          } else if (typeof result === 'number') {
            formattedResult = String(result);
            debug("Formatted as number:", formattedResult);
          } else {
            formattedResult = JSON.stringify(result);
            debug("Formatted as JSON:", formattedResult);
          }
        }
        const expected = test.expected || "";
        const passed = formattedResult === expected;
        debug("Expected result:", expected);
        debug("Actual formatted result:", formattedResult);
        debug("Test passed:", passed);
        results.push({
          input: test.input,
          output: formattedResult,
          expected: expected,
          passed: passed,
          logs: testLogs.slice(), // Create a copy to ensure isolation
          originalIndex: index // Store the original index to maintain order
        });
        if (index === 0) {
          directOutput = formattedResult;
        }
      } catch (error) {
        debug("ERROR processing test case:", error.message);
        debug("Error stack:", error.stack);
        results.push({
          input: test.input,
          output: "null",
          error: error.message,
          expected: test.expected || "",
          passed: false,
          logs: testLogs.slice(), // Create a copy to ensure isolation
          originalIndex: index // Store the original index to maintain order
        });
      } finally {
        // No need to restore console.log here as we'll do it once at the end
        // We want to keep capturing logs across all tests
      }
    });

    // Don't sort the results - preserve the original order to maintain log correspondence
    // Or restore the original test order after sorting
    results.sort((a, b) => {
      // First preserve order by original index
      return a.originalIndex - b.originalIndex;
    });

    const output = {
      directOutput: directOutput,
      results: results,
      summary: {
        total: results.length,
        passed: results.filter(r => r.passed).length
      },
      debug: debugInfo,
      userLogs: allUserLogs
    };
    debug("Final summary:", \`\${output.summary.passed}/\${output.summary.total} tests passed\`);
    debug("TEST RUNNER DEBUG ENDS");
    
    // Now restore the original console.log at the very end, after all tests
    console.log = originalConsoleLog;
    console.log(JSON.stringify(output));
  } catch (error) {
    debug("FATAL ERROR in test runner:", error.message);
    debug("Error stack:", error.stack);
    console.log = originalConsoleLog;
    console.log(JSON.stringify({
      error: error.message,
      debug: debugInfo,
      results: [],
      summary: { total: 0, passed: 0 }
    }));
  }
});`}function hz(t){return`
${t}

# Standard test runner for Judge0
import sys
import json
import traceback
import inspect
import io
from contextlib import redirect_stdout

def process_test_cases():
    try:
        # Read all input from stdin
        input_data = sys.stdin.read().strip()
        
        # Log to stderr for debugging
        print("DEBUG: Processing input: " + input_data[:100] + "...", file=sys.stderr)
        
        # Setup for capturing print statements safely
        all_user_logs = []
        
        # Parse the input data 
        test_data = json.loads(input_data)
        
        # Find all user-defined functions
        user_functions = [name for name, obj in globals().items() 
                         if callable(obj) and not name.startswith('__') 
                         and name != 'process_test_cases']
        
        print("DEBUG: Found functions: " + str(user_functions), file=sys.stderr)
        
        # Find the main function - use the first user function
        function_name = user_functions[0] if user_functions else None
        
        if not function_name:
            print("DEBUG: No function found", file=sys.stderr)
            print(json.dumps({
                "error": "Could not detect function",
                "results": [],
                "summary": {"total": 0, "passed": 0}
            }))
            return
        
        print("DEBUG: Using function: " + function_name, file=sys.stderr)
        func = globals()[function_name]
        
        # Extract test cases
        test_cases = test_data.get('testCases', [test_data])
        print("DEBUG: Processing " + str(len(test_cases)) + " test cases", file=sys.stderr)
        
        # Process each test case
        results = []
        direct_output = None
        
        # For debugging - try to use the original print function to log
        original_print = print
        
        for i, test in enumerate(test_cases):
            # Initialize test-specific logs
            test_logs = []
            
            try:
                print("DEBUG: Processing test case " + str(i+1), file=sys.stderr)
                print("DEBUG: Input: " + test.get('input', ''), file=sys.stderr)
                
                # Parse the input as an array of arguments
                args = json.loads(test.get('input', '[]'))
                print("DEBUG: Parsed args: " + str(args), file=sys.stderr)
                
                # Use redirect_stdout to safely capture print statements
                stdout_capture = io.StringIO()
                
                # Call the function and capture any prints
                with redirect_stdout(stdout_capture):
                    # Try multiple ways to call the function
                    result = None
                    if isinstance(args, list):
                        # Try first with unpacking
                        try:
                            print("DEBUG: Trying to unpack args", file=sys.stderr)
                            result = func(*args)
                        except Exception as e:
                            print("DEBUG: Unpacking failed: " + str(e), file=sys.stderr)
                            print("DEBUG: Trying as single argument", file=sys.stderr)
                            # If that fails, try as single arg
                            result = func(args)
                    else:
                        # Pass as single argument
                        print("DEBUG: Calling with single arg", file=sys.stderr)
                        result = func(args)
                
                # Get captured print statements
                captured_output = stdout_capture.getvalue()
                if captured_output.strip():
                    # Add to log if there was any output
                    print("DEBUG: Captured user print: " + captured_output, file=sys.stderr)
                    print("PYTHON USER OUTPUT: " + captured_output, file=sys.stderr)  # Force to stderr for visibility
                    captured_lines = captured_output.strip().split('\\n')
                    test_logs.extend(captured_lines)
                    all_user_logs.extend(captured_lines)
                else:
                    print("DEBUG: No captured output for this test", file=sys.stderr)
                
                print("DEBUG: Raw result: " + str(result), file=sys.stderr)
                
                # Format the result
                if result is None:
                    formatted_result = "null"
                elif isinstance(result, bool):
                    formatted_result = str(result).lower()
                elif isinstance(result, (int, float)):
                    formatted_result = str(result)
                else:
                    formatted_result = json.dumps(result)
                
                print("DEBUG: Formatted result: " + formatted_result, file=sys.stderr)
                print("DEBUG: Test logs collected: " + str(test_logs), file=sys.stderr)
                
                # Save the first result as direct output
                if i == 0:
                    direct_output = formatted_result
                
                # Get expected output
                expected = test.get('expected', '')
                passed = formatted_result == expected
                print("DEBUG: Expected: " + expected, file=sys.stderr)
                print("DEBUG: Passed: " + str(passed), file=sys.stderr)
                
                # Add to results with logs for this specific test
                results.append({
                    "input": test.get('input', ''),
                    "output": formatted_result,
                    "expected": expected,
                    "passed": passed,
                    "logs": test_logs.copy(),  # Make a copy to ensure isolation
                    "originalIndex": i  # Store original index for sorting
                })
                
            except Exception as e:
                print("DEBUG: Error processing test: " + str(e), file=sys.stderr)
                print(traceback.format_exc(), file=sys.stderr)
                results.append({
                    "input": test.get('input', ''),
                    "output": "null",
                    "error": str(e),
                    "expected": test.get('expected', ''),
                    "passed": False,
                    "logs": test_logs.copy(),  # Make a copy to ensure isolation
                    "originalIndex": i  # Store original index for sorting
                })
        
        # Sort results to maintain original order
        results.sort(key=lambda x: x["originalIndex"])
        
        # Format output
        output = {
            "directOutput": direct_output,
            "results": results,
            "summary": {
                "total": len(results),
                "passed": sum(1 for r in results if r.get("passed", False))
            },
            "userLogs": all_user_logs
        }
        
        print("DEBUG: Final summary: " + str(output["summary"]["passed"]) + "/" + 
              str(output["summary"]["total"]) + " tests passed", file=sys.stderr)
        print("DEBUG: All collected logs: " + str(all_user_logs), file=sys.stderr)
        print("DEBUG: Final results with logs: " + str(results), file=sys.stderr)
        
        # Output as JSON
        print(json.dumps(output))
        
    except Exception as e:
        print("DEBUG: Fatal error in test runner: " + str(e), file=sys.stderr)
        print(traceback.format_exc(), file=sys.stderr)
        print(json.dumps({
            "error": str(e),
            "results": [],
            "summary": {"total": 0, "passed": 0}
        }))

# For Python, print a warning about string concatenation
print('# Note: Use f-strings or str() for combining values in Python', file=sys.stderr)
print('# CORRECT: print(f"Array: {prices}, Value: {123123}")', file=sys.stderr)
print('# WRONG: print(prices + "here i am" + 123123)', file=sys.stderr)

# Run the processing
process_test_cases()
`}function dz(t){return`
${t}

// Standard test runner for Judge0
import java.io.*;
import java.util.*;
import org.json.*;

public class TestRunner {
    public static void main(String[] args) throws Exception {
        // Read all input from stdin
        StringBuilder inputBuilder = new StringBuilder();
        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
        String line;
        while ((line = reader.readLine()) != null) {
            inputBuilder.append(line).append("\\n");
        }
        String input = inputBuilder.toString().trim();
        
        // Debug output to stderr
        System.err.println("DEBUG: Processing input: " + input.substring(0, Math.min(input.length(), 100)) + "...");
        
        try {
            // List to collect all user logs
            List<String> allUserLogs = new ArrayList<>();
            
            // Parse the input data
            JSONObject testData = new JSONObject(input);
            
            // Find the main solution method by reflection
            Class<?> solutionClass = findSolutionClass();
            if (solutionClass == null) {
                System.err.println("DEBUG: No solution class found");
                JSONObject errorObj = new JSONObject();
                errorObj.put("error", "Could not detect solution class");
                errorObj.put("results", new JSONArray());
                JSONObject summary = new JSONObject();
                summary.put("total", 0);
                summary.put("passed", 0);
                errorObj.put("summary", summary);
                System.out.println(errorObj.toString());
                return;
            }
            
            System.err.println("DEBUG: Found solution class: " + solutionClass.getName());
            
            // Get all test cases
            JSONArray testCasesArray = testData.has("testCases") ? 
                testData.getJSONArray("testCases") : 
                new JSONArray(Collections.singletonList(testData));
            
            System.err.println("DEBUG: Processing " + testCasesArray.length() + " test cases");
            
            // Save the original System.out and System.err
            PrintStream originalOut = System.out;
            PrintStream originalErr = System.err;
            
            // Process each test case
            JSONArray results = new JSONArray();
            String directOutput = null;
            int passedCount = 0;
            
            for (int i = 0; i < testCasesArray.length(); i++) {
                // List for collecting logs for this specific test
                List<String> testLogs = new ArrayList<>();
                
                // Create a special PrintStream that will capture output for this test
                ByteArrayOutputStream logCapture = new ByteArrayOutputStream();
                PrintStream captureStream = new PrintStream(logCapture);
                
                // Redirect System.out to our capture stream
                System.setOut(captureStream);
                
                try {
                    JSONObject test = testCasesArray.getJSONObject(i);
                    System.err.println("DEBUG: Processing test case " + (i + 1));
                    System.err.println("DEBUG: Input: " + test.optString("input", ""));
                    
                    // Parse the input based on the format
                    String inputStr = test.optString("input", "[]");
                    Object result = null;
                    
                    // Detect ListNode for linked list problems
                    boolean isLinkedListProblem = code.contains("class ListNode");
                    
                    // Find the solution method
                    result = callSolutionMethod(solutionClass, inputStr, isLinkedListProblem);
                    
                    // Collect stdout logs
                    String capturedOutput = logCapture.toString();
                    if (!capturedOutput.isEmpty()) {
                        System.err.println("DEBUG: Captured user output: " + capturedOutput);
                        String[] lines = capturedOutput.split("\\\\n");
                        for (String capturedLine : lines) {
                            if (!capturedLine.trim().isEmpty()) {
                                testLogs.add(capturedLine.trim());
                                allUserLogs.add(capturedLine.trim());
                                System.err.println("USER LOG: " + capturedLine.trim());
                            }
                        }
                    }
                    
                    // Format the result
                    String formattedResult = formatResult(result, isLinkedListProblem);
                    System.err.println("DEBUG: Formatted result: " + formattedResult);
                    
                    // Save first result as direct output
                    if (i == 0) {
                        directOutput = formattedResult;
                    }
                    
                    // Check if the result matches the expected output
                    String expected = test.optString("expected", "");
                    boolean passed = formattedResult.equals(expected);
                    if (passed) passedCount++;
                    
                    System.err.println("DEBUG: Expected: " + expected);
                    System.err.println("DEBUG: Passed: " + passed);
                    
                    // Add to results
                    JSONObject resultObj = new JSONObject();
                    resultObj.put("input", test.optString("input", ""));
                    resultObj.put("output", formattedResult);
                    resultObj.put("expected", expected);
                    resultObj.put("passed", passed);
                    
                    // Add logs specific to this test
                    JSONArray logsArray = new JSONArray();
                    for (String log : testLogs) {
                        logsArray.put(log);
                    }
                    resultObj.put("logs", logsArray);
                    resultObj.put("originalIndex", i);
                    
                    results.put(resultObj);
                    
                } catch (Exception e) {
                    System.err.println("DEBUG: Error processing test: " + e.getMessage());
                    e.printStackTrace(originalErr);
                    
                    // Create error result
                    JSONObject errorResult = new JSONObject();
                    errorResult.put("input", testCasesArray.getJSONObject(i).optString("input", ""));
                    errorResult.put("output", "null");
                    errorResult.put("error", e.getMessage());
                    errorResult.put("expected", testCasesArray.getJSONObject(i).optString("expected", ""));
                    errorResult.put("passed", false);
                    
                    // Add logs specific to this test
                    JSONArray logsArray = new JSONArray();
                    for (String log : testLogs) {
                        logsArray.put(log);
                    }
                    errorResult.put("logs", logsArray);
                    errorResult.put("originalIndex", i);
                    
                    results.put(errorResult);
                } finally {
                    // Restore stdout for the next test
                    System.setOut(originalOut);
                }
            }
            
            // Restore original print streams
            System.setOut(originalOut);
            System.setErr(originalErr);
            
            // Create final output JSON
            JSONObject output = new JSONObject();
            output.put("directOutput", directOutput);
            output.put("results", results);
            
            // Add summary
            JSONObject summary = new JSONObject();
            summary.put("total", testCasesArray.length());
            summary.put("passed", passedCount);
            output.put("summary", summary);
            
            // Add all user logs
            JSONArray userLogsArray = new JSONArray();
            for (String log : allUserLogs) {
                userLogsArray.put(log);
            }
            output.put("userLogs", userLogsArray);
            
            System.err.println("DEBUG: Final summary: " + passedCount + "/" + testCasesArray.length() + " tests passed");
            
            // Output as JSON
            System.out.println(output.toString());
            
        } catch (Exception e) {
            System.err.println("DEBUG: Fatal error in test runner: " + e.getMessage());
            e.printStackTrace();
            
            JSONObject errorObj = new JSONObject();
            errorObj.put("error", e.getMessage());
            errorObj.put("results", new JSONArray());
            JSONObject summary = new JSONObject();
            summary.put("total", 0);
            summary.put("passed", 0);
            errorObj.put("summary", summary);
            
            System.out.println(errorObj.toString());
        }
    }
    
    // Helper methods would go here
    private static Class<?> findSolutionClass() {
        // Find the solution class (not TestRunner)
        for (Class<?> cls : getAllLoadedClasses()) {
            if (!cls.getName().equals("TestRunner") && !cls.getName().startsWith("java.") 
                && !cls.getName().startsWith("org.") && !cls.getName().startsWith("sun.")) {
                return cls;
            }
        }
        return null;
    }
    
    private static Set<Class<?>> getAllLoadedClasses() {
        // This is a simplified placeholder - in a real environment, 
        // you would need to use reflection or ClassLoader tools
        return new HashSet<>(Arrays.asList(TestRunner.class.getClass().getClasses()));
    }
    
    private static Object callSolutionMethod(Class<?> solutionClass, String inputStr, boolean isLinkedListProblem) {
        // Implementation to call the solution method would go here
        // This is simplified and would need to handle different parameter types
        return null;
    }
    
    private static String formatResult(Object result, boolean isLinkedListProblem) {
        // Implementation to format results based on their type
        if (result == null) {
            return "null";
        } else if (result instanceof Boolean) {
            return Boolean.toString((Boolean)result).toLowerCase();
        } else if (result instanceof Number) {
            return result.toString();
        } else {
            return new JSONObject(result).toString();
        }
    }
}

// Run the test runner
new TestRunner().main(new String[0]);
`}function fz(t){return`
${t}

// Standard test runner for Judge0
#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <sstream>
#include <functional>
#include <chrono>
#include <nlohmann/json.hpp>

using json = nlohmann::json;

// Redirect cout to capture output
class OutputCapture {
private:
    std::streambuf* originalCoutBuffer;
    std::ostringstream capturedStream;
    
public:
    OutputCapture() : originalCoutBuffer(std::cout.rdbuf()) {
        std::cout.rdbuf(capturedStream.rdbuf());
    }
    
    ~OutputCapture() {
        std::cout.rdbuf(originalCoutBuffer);
    }
    
    std::string getOutput() {
        return capturedStream.str();
    }
};

// Main test runner
int main() {
    try {
        // Read all input from stdin
        std::string input;
        std::string line;
        while (std::getline(std::cin, line)) {
            input += line + "\\n";
        }
        
        std::cerr << "DEBUG: Processing input: " << input.substr(0, 100) << "..." << std::endl;
        
        // Parse the input data
        json testData = json::parse(input);
        
        // Find the solution function to call
        // This is a simplification - would need to be adapted based on actual code structure
        
        // Extract test cases
        std::vector<json> testCases;
        if (testData.contains("testCases")) {
            testCases = testData["testCases"].get<std::vector<json>>();
        } else {
            testCases.push_back(testData);
        }
        
        std::cerr << "DEBUG: Processing " << testCases.size() << " test cases" << std::endl;
        
        // Process each test case
        json results = json::array();
        std::string directOutput;
        std::vector<std::string> allLogs;
        int passedCount = 0;
        
        for (size_t i = 0; i < testCases.size(); i++) {
            std::cerr << "DEBUG: Processing test case " << (i + 1) << std::endl;
            
            // Prepare for capturing console output
            OutputCapture capture;
            std::vector<std::string> testLogs;
            
            try {
                json& test = testCases[i];
                std::string inputStr = test.value("input", "[]");
                std::cerr << "DEBUG: Input: " << inputStr << std::endl;
                
                // Parse the input
                json inputJson = json::parse(inputStr);
                
                // Call the solution function and get result
                // This is the part that needs custom implementation per problem type
                
                // Get captured console output
                std::string capturedOutput = capture.getOutput();
                
                // Extract logs if any
                if (!capturedOutput.empty()) {
                    std::cerr << "DEBUG: Captured output: " << capturedOutput << std::endl;
                    std::istringstream logStream(capturedOutput);
                    std::string logLine;
                    while (std::getline(logStream, logLine)) {
                        if (!logLine.empty()) {
                            testLogs.push_back(logLine);
                            allLogs.push_back(logLine);
                            std::cerr << "USER LOG: " << logLine << std::endl;
                        }
                    }
                }
                
                // Format the result
                std::string formattedResult = "null"; // Placeholder
                
                // Save first result as direct output
                if (i == 0) {
                    directOutput = formattedResult;
                }
                
                // Check against expected
                std::string expected = test.value("expected", "");
                bool passed = (formattedResult == expected);
                if (passed) passedCount++;
                
                // Add to results
                json resultObj;
                resultObj["input"] = test.value("input", "");
                resultObj["output"] = formattedResult;
                resultObj["expected"] = expected;
                resultObj["passed"] = passed;
                
                // Add logs
                json logsArray = json::array();
                for (const auto& log : testLogs) {
                    logsArray.push_back(log);
                }
                resultObj["logs"] = logsArray;
                resultObj["originalIndex"] = i;
                
                results.push_back(resultObj);
                
            } catch (std::exception& e) {
                std::cerr << "DEBUG: Error processing test: " << e.what() << std::endl;
                
                json errorResult;
                errorResult["input"] = testCases[i].value("input", "");
                errorResult["output"] = "null";
                errorResult["error"] = e.what();
                errorResult["expected"] = testCases[i].value("expected", "");
                errorResult["passed"] = false;
                
                // Add logs
                json logsArray = json::array();
                for (const auto& log : testLogs) {
                    logsArray.push_back(log);
                }
                errorResult["logs"] = logsArray;
                errorResult["originalIndex"] = i;
                
                results.push_back(errorResult);
            }
        }
        
        // Create final output JSON
        json output;
        output["directOutput"] = directOutput;
        output["results"] = results;
        
        // Add summary
        json summary;
        summary["total"] = testCases.size();
        summary["passed"] = passedCount;
        output["summary"] = summary;
        
        // Add all user logs
        json userLogsArray = json::array();
        for (const auto& log : allLogs) {
            userLogsArray.push_back(log);
        }
        output["userLogs"] = userLogsArray;
        
        std::cerr << "DEBUG: Final summary: " << passedCount << "/" << testCases.size() << " tests passed" << std::endl;
        
        // Output as JSON
        std::cout << output.dump() << std::endl;
        
    } catch (std::exception& e) {
        std::cerr << "DEBUG: Fatal error in test runner: " << e.what() << std::endl;
        
        json errorObj;
        errorObj["error"] = e.what();
        errorObj["results"] = json::array();
        
        json summary;
        summary["total"] = 0;
        summary["passed"] = 0;
        errorObj["summary"] = summary;
        
        std::cout << errorObj.dump() << std::endl;
    }
    
    return 0;
}
`}function pz(t){return`
${t}

// Standard test runner for Judge0
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>

// Simple JSON parser for C
// Note: This is a basic implementation - in production would use a library like cJSON

// Structure to hold a single test case result
typedef struct {
    char* input;
    char* output;
    char* expected;
    bool passed;
    char** logs;
    int logCount;
    int originalIndex;
} TestResult;

// Structure to hold all results
typedef struct {
    char* directOutput;
    TestResult* results;
    int resultCount;
    int totalTests;
    int passedTests;
    char** userLogs;
    int userLogCount;
} TestOutput;

// Output capture functions
FILE* originalStdout = NULL;
char captureBuffer[10240]; // Buffer to hold captured output

void startCapture() {
    fflush(stdout);
    originalStdout = stdout;
    FILE* captureFile = fmemopen(captureBuffer, sizeof(captureBuffer), "w");
    stdout = captureFile;
    memset(captureBuffer, 0, sizeof(captureBuffer));
}

char* endCapture() {
    fflush(stdout);
    fclose(stdout);
    stdout = originalStdout;
    return strdup(captureBuffer);
}

// Main test runner
int main() {
    // Read all input from stdin
    char input[10240] = {0};
    char line[1024];
    
    while (fgets(line, sizeof(line), stdin)) {
        strcat(input, line);
    }
    
    fprintf(stderr, "DEBUG: Processing input: %.100s...
", input);
    
    // Very simple input parsing - would be replaced by proper JSON parsing
    // This is just a simplified example
    
    // For real implementation, would call user functions here
    
    // Create test output structure
    TestOutput output;
    output.directOutput = "null"; // Default
    output.totalTests = 1;        // Example
    output.passedTests = 0;       // Example
    output.userLogCount = 0;
    
    // Output as JSON
    printf("{\\n");
    printf("  \\"directOutput\\": \\"%s\\",\\n", output.directOutput);
    printf("  \\"results\\": [\\n");

    // Example of one test result - real implementation would iterate through tests
    printf("    {\\n");
    printf("      \\"input\\": \\"example input\\",\\n");
    printf("      \\"output\\": \\"null\\",\\n");
    printf("      \\"expected\\": \\"expected result\\",\\n");
    printf("      \\"passed\\": false,\\n");
    printf("      \\"logs\\": [],\\n");
    printf("      \\"originalIndex\\": 0\\n");
    printf("    }\\n");
    
    printf("  ],\\n");
    printf("  \\"summary\\": {\\n");
    printf("    \\"total\\": %d,\\n", output.totalTests);
    printf("    \\"passed\\": %d\\n", output.passedTests);
    printf("  },\\n");
    printf("  \\"userLogs\\": []\\n");
    printf("}\\n");
    
    return 0;
}
`}function gz(t){return`
${t}

# Standard test runner for Judge0
require 'json'
require 'stringio'

def process_test_cases
  begin
    # Read all input from stdin
    input = $stdin.read.strip
    
    # Debug to stderr
    $stderr.puts "DEBUG: Processing input: #{input[0..100]}..."
    
    # Array to collect all user logs
    all_user_logs = []
    
    # Parse the input data
    test_data = JSON.parse(input)
    
    # Find the solution method
    # This is a simplification - in a real environment would need
    # to detect methods more reliably
    method_name = nil
    methods = global_functions - standard_ruby_methods
    method_name = methods.first if methods.any?
    
    if method_name.nil?
      $stderr.puts "DEBUG: No solution method found"
      puts JSON.generate({
        error: "Could not detect solution method",
        results: [],
        summary: { total: 0, passed: 0 }
      })
      return
    end
    
    $stderr.puts "DEBUG: Found solution method: #{method_name}"
    
    # Get all test cases
    test_cases = test_data['testCases'] || [test_data]
    
    $stderr.puts "DEBUG: Processing #{test_cases.count} test cases"
    
    # Save original stdout
    original_stdout = $stdout
    
    # Process each test case
    results = []
    direct_output = nil
    passed_count = 0
    
    test_cases.each_with_index do |test, index|
      # Array for logs specific to this test
      test_logs = []
      
      # Redirect stdout to capture output
      capture_io = StringIO.new
      $stdout = capture_io
      
      begin
        $stderr.puts "DEBUG: Processing test case #{index + 1}"
        $stderr.puts "DEBUG: Input: #{test['input']}"
        
        # Parse the input
        input_str = test['input'] || '[]'
        parsed_input = JSON.parse(input_str)
        
        $stderr.puts "DEBUG: Parsed input: #{parsed_input.inspect}"
        
        # Call the solution method
        result = nil
        
        if parsed_input.is_a?(Array) && parsed_input.length > 1 && parsed_input[0].is_a?(Array)
          # Array with another array as first element - like [[1,2,3], 5]
          $stderr.puts "DEBUG: Calling with unpacked array + value"
          result = send(method_name, *parsed_input)
        elsif parsed_input.is_a?(Array)
          # Just a regular array
          $stderr.puts "DEBUG: Calling with array"
          result = send(method_name, parsed_input)
        else
          # Single value
          $stderr.puts "DEBUG: Calling with single value"
          result = send(method_name, parsed_input)
        end
        
        # Get any captured output
        captured_output = capture_io.string
        
        if !captured_output.empty?
          $stderr.puts "DEBUG: Captured user output: #{captured_output}"
          captured_output.split("\\n").each do |line|
            unless line.strip.empty?
              test_logs << line.strip
              all_user_logs << line.strip
              $stderr.puts "USER LOG: #{line.strip}"
            end
          end
        end
        
        # Format the result
        formatted_result = format_result(result)
        $stderr.puts "DEBUG: Formatted result: #{formatted_result}"
        
        # Save first result as direct output
        direct_output = formatted_result if index == 0
        
        # Check against expected
        expected = test['expected'] || ''
        passed = formatted_result == expected
        passed_count += 1 if passed
        
        $stderr.puts "DEBUG: Expected: #{expected}"
        $stderr.puts "DEBUG: Passed: #{passed}"
        
        # Add to results
        results << {
          input: test['input'] || '',
          output: formatted_result,
          expected: expected,
          passed: passed,
          logs: test_logs.clone,
          originalIndex: index
        }
        
      rescue => e
        $stderr.puts "DEBUG: Error processing test: #{e.message}"
        $stderr.puts e.backtrace
        
        results << {
          input: test['input'] || '',
          output: 'null',
          error: e.message,
          expected: test['expected'] || '',
          passed: false,
          logs: test_logs.clone,
          originalIndex: index
        }
      ensure
        # Reset stdout for next test
        $stdout = original_stdout
      end
    end
    
    # Create final output JSON
    output = {
      directOutput: direct_output,
      results: results,
      summary: {
        total: test_cases.count,
        passed: passed_count
      },
      userLogs: all_user_logs
    }
    
    $stderr.puts "DEBUG: Final summary: #{passed_count}/#{test_cases.count} tests passed"
    
    # Output as JSON
    puts JSON.generate(output)
    
  rescue => e
    $stderr.puts "DEBUG: Fatal error in test runner: #{e.message}"
    $stderr.puts e.backtrace
    
    puts JSON.generate({
      error: e.message,
      results: [],
      summary: { total: 0, passed: 0 }
    })
  end
end

# Helper methods
def standard_ruby_methods
  # List of standard methods to exclude when looking for the solution method
  Object.methods + Kernel.methods + BasicObject.methods
end

def global_functions
  # Get list of globally available methods
  Kernel.methods
end

def format_result(result)
  if result.nil?
    'null'
  elsif result.is_a?(TrueClass) || result.is_a?(FalseClass)
    result.to_s.downcase
  elsif result.is_a?(Numeric)
    result.to_s
  else
    JSON.generate(result)
  end
end

# Print warnings for common Ruby mistakes
$stderr.puts '# Note: Use string interpolation instead of + for string concatenation in Ruby'
$stderr.puts '# CORRECT: puts "Array: #{array}, Value: #{value}"'
$stderr.puts '# WRONG: puts array + " is my array, value: " + value'

# Run the test processing
process_test_cases
`}function Oz(t){return`
${t}

// Standard test runner for Judge0
package main

import (
	"bufio"
	"bytes"
	"encoding/json"
	"fmt"
	"io"
	"os"
	"reflect"
	"strings"
)

// TestResult represents the result of a single test case
type TestResult struct {
	Input        string   \`json:"input"\`
	Output       string   \`json:"output"\`
	Expected     string   \`json:"expected"\`
	Passed       bool     \`json:"passed"\`
	Logs         []string \`json:"logs"\`
	OriginalIndex int     \`json:"originalIndex"\`
}

// TestSummary contains the summary of all tests
type TestSummary struct {
	Total  int \`json:"total"\`
	Passed int \`json:"passed"\`
}

// TestOutput represents the full output format
type TestOutput struct {
	DirectOutput string       \`json:"directOutput"\`
	Results      []TestResult \`json:"results"\`
	Summary      TestSummary  \`json:"summary"\`
	UserLogs     []string     \`json:"userLogs"\`
}

// OutputCapture redirects stdout to capture user print statements
type OutputCapture struct {
	oldStdout *os.File
	readPipe  *os.File
	writePipe *os.File
}

// StartCapture starts capturing stdout
func StartCapture() (*OutputCapture, error) {
	// Create a pipe
	readPipe, writePipe, err := os.Pipe()
	if err != nil {
		return nil, err
	}

	// Save the original stdout
	oldStdout := os.Stdout
	
	// Redirect stdout to the pipe
	os.Stdout = writePipe
	
	return &OutputCapture{
		oldStdout: oldStdout,
		readPipe:  readPipe,
		writePipe: writePipe,
	}, nil
}

// StopCapture stops capturing and returns the captured output
func (c *OutputCapture) StopCapture() (string, error) {
	// Flush stdout
	os.Stdout.Sync()
	
	// Create a buffer to hold the captured output
	var buf bytes.Buffer
	
	// Create a channel to signal when reading is done
	done := make(chan error)
	
	// Read from the pipe in a goroutine
	go func() {
		_, err := io.Copy(&buf, c.readPipe)
		done <- err
	}()
	
	// Close the write end of the pipe
	c.writePipe.Close()
	
	// Wait for reading to finish
	<-done
	
	// Restore the original stdout
	os.Stdout = c.oldStdout
	
	// Close the read end of the pipe
	c.readPipe.Close()
	
	return buf.String(), nil
}

// Main test runner function
func main() {
	debugf("Starting test runner")
	
	// Read all input from stdin
	inputData := ""
	scanner := bufio.NewScanner(os.Stdin)
	for scanner.Scan() {
		inputData += scanner.Text() + "\\n"
	}
	
	debugf("Processing input: %s...", inputData[:min(len(inputData), 100)])
	
	var allUserLogs []string
	
	try := func(f func() error) {
		if err := f(); err != nil {
			debugf("Fatal error in test runner: %v", err)
			// Output error as JSON
			errorOutput := map[string]interface{}{
				"error":   err.Error(),
				"results": []interface{}{},
				"summary": map[string]int{"total": 0, "passed": 0},
			}
			outputJSON(errorOutput)
			os.Exit(1)
		}
	}
	
	// Parse the input data
	var testData map[string]interface{}
	try(func() error {
		return json.Unmarshal([]byte(inputData), &testData)
	})
	
	// Get the test cases
	var testCases []map[string]interface{}
	if testCasesData, ok := testData["testCases"].([]interface{}); ok {
		for _, tc := range testCasesData {
			if tcMap, ok := tc.(map[string]interface{}); ok {
				testCases = append(testCases, tcMap)
			}
		}
	} else {
		// Single test case
		testCases = append(testCases, testData)
	}
	
	debugf("Processing %d test cases", len(testCases))
	
	// Process each test case
	var results []TestResult
	var directOutput string
	passedCount := 0
	
	for i, test := range testCases {
		debugf("Processing test case %d", i+1)
		
		// Initialize test-specific logs
		var testLogs []string
		
		// Start capturing stdout
		capture, err := StartCapture()
		if err != nil {
			debugf("Error setting up capture: %v", err)
			continue
		}
		
		// Handle the test case
		var result TestResult
		func() {
			defer func() {
				if r := recover(); r != nil {
					debugf("Test panicked: %v", r)
					result = TestResult{
						Input:         fmt.Sprintf("%v", test["input"]),
						Output:        "null",
						Expected:      fmt.Sprintf("%v", test["expected"]),
						Passed:        false,
						Logs:          testLogs,
						OriginalIndex: i,
					}
				}
			}()
			
			// Get the input
			inputStr, _ := test["input"].(string)
			if inputStr == "" {
				inputStr = "[]"
			}
			
			debugf("Input: %s", inputStr)
			
			// Parse the input
			var inputData interface{}
			err := json.Unmarshal([]byte(inputStr), &inputData)
			if err != nil {
				debugf("Error parsing input: %v", err)
				return
			}
			
			// Call the solution function - would be implemented based on code analysis
			// This is a placeholder
			outputData := "null" // Placeholder
			
			// Stop capturing stdout
			capturedOutput, err := capture.StopCapture()
			if err != nil {
				debugf("Error stopping capture: %v", err)
			}
			
			// Process captured output
			if capturedOutput != "" {
				debugf("Captured user output: %s", capturedOutput)
				lines := strings.Split(capturedOutput, "\\n")
				for _, line := range lines {
					if line = strings.TrimSpace(line); line != "" {
						testLogs = append(testLogs, line)
						allUserLogs = append(allUserLogs, line)
						debugf("USER LOG: %s", line)
					}
				}
			}
			
			// Format output
			expected, _ := test["expected"].(string)
			passed := outputData == expected
			if passed {
				passedCount++
			}
			
			debugf("Expected: %s", expected)
			debugf("Passed: %v", passed)
			
			// Set the result
			result = TestResult{
				Input:         inputStr,
				Output:        outputData,
				Expected:      expected,
				Passed:        passed,
				Logs:          testLogs,
				OriginalIndex: i,
			}
			
			// Save first result as direct output
			if i == 0 {
				directOutput = outputData
			}
		}()
		
		results = append(results, result)
	}
	
	// Create the final output
	output := TestOutput{
		DirectOutput: directOutput,
		Results:      results,
		Summary: TestSummary{
			Total:  len(testCases),
			Passed: passedCount,
		},
		UserLogs: allUserLogs,
	}
	
	debugf("Final summary: %d/%d tests passed", passedCount, len(testCases))
	
	// Output as JSON
	outputJSON(output)
}

// Helper functions
func debugf(format string, args ...interface{}) {
	fmt.Fprintf(os.Stderr, "DEBUG: "+format+"\\n", args...)
}

func outputJSON(data interface{}) {
	jsonData, err := json.MarshalIndent(data, "", "  ")
	if err != nil {
		debugf("Error marshaling JSON: %v", err)
		return
	}
	fmt.Println(string(jsonData))
}

func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}
`}function mz(t){return`
${t}

// Standard test runner for Judge0
use std::io::{self, Read};
use std::fmt;
use serde::{Serialize, Deserialize};
use serde_json::{self, Value, json};
use std::sync::{Arc, Mutex};
use std::cell::RefCell;

// Define test results structure
#[derive(Serialize, Deserialize, Debug)]
struct TestResult {
    input: String,
    output: String,
    expected: String,
    passed: bool,
    logs: Vec<String>,
    #[serde(rename = "originalIndex")]
    original_index: usize,
}

#[derive(Serialize, Deserialize, Debug)]
struct TestSummary {
    total: usize,
    passed: usize,
}

#[derive(Serialize, Deserialize, Debug)]
struct TestOutput {
    #[serde(rename = "directOutput")]
    direct_output: String,
    results: Vec<TestResult>,
    summary: TestSummary,
    #[serde(rename = "userLogs")]
    user_logs: Vec<String>,
}

// Struct to capture println! output
struct OutputCapture {
    buffer: Arc<Mutex<Vec<String>>>,
}

impl OutputCapture {
    fn new() -> Self {
        OutputCapture {
            buffer: Arc::new(Mutex::new(Vec::new())),
        }
    }
    
    fn get_logs(&self) -> Vec<String> {
        let buffer = self.buffer.lock().unwrap();
        buffer.clone()
    }
}

// Custom print macro for the test runner
#[macro_export]
macro_rules! capture_println {
    ($capture:expr, $($arg:tt)*) => {
        {
            let message = format!($($arg)*);
            if let Ok(mut buffer) = $capture.buffer.lock() {
                buffer.push(message.clone());
            }
            eprintln!("USER LOG: {}", message);
        }
    };
}

// Debug macro that writes to stderr
macro_rules! debug {
    ($($arg:tt)*) => {
        eprintln!("DEBUG: {}", format!($($arg)*));
    };
}

fn main() -> Result<(), Box<dyn std::error::Error>> {
    // Read all input from stdin
    let mut input = String::new();
    io::stdin().read_to_string(&mut input)?;
    
    debug!("Processing input: {}...", &input[..input.len().min(100)]);
    
    // Initialize logs collection
    let all_user_logs: Arc<Mutex<Vec<String>>> = Arc::new(Mutex::new(Vec::new()));
    
    // Parse the input data
    let test_data: Value = serde_json::from_str(&input)?;
    
    // Extract test cases
    let test_cases = if test_data["testCases"].is_array() {
        test_data["testCases"].as_array().unwrap().clone()
    } else {
        vec![test_data.clone()]
    };
    
    debug!("Processing {} test cases", test_cases.len());
    
    // Process each test case
    let mut results = Vec::new();
    let mut direct_output = "null".to_string();
    let mut passed_count = 0;
    
    for (i, test) in test_cases.iter().enumerate() {
        debug!("Processing test case {}", i + 1);
        
        // Create capture for this test's logs
        let output_capture = OutputCapture::new();
        let test_logs_capture = output_capture.buffer.clone();
        
        // Setup thread_local capture buffer for println macro
        thread_local! {
            static CAPTURE_BUFFER: RefCell<Option<Arc<Mutex<Vec<String>>>>> = RefCell::new(None);
        }
        
        CAPTURE_BUFFER.with(|cell| {
            *cell.borrow_mut() = Some(test_logs_capture.clone());
        });
        
        let result = std::panic::catch_unwind(|| {
            let input_str = test["input"].as_str().unwrap_or("[]");
            debug!("Input: {}", input_str);
            
            // Parse the input
            let parsed_input: Value = serde_json::from_str(input_str).unwrap_or(json!(null));
            
            // Call the solution function - would need to be customized based on code analysis
            // This is just a placeholder
            let result_value = json!(null);
            
            // Format the result
            let formatted_result = match result_value {
                Value::Null => "null".to_string(),
                Value::Bool(b) => b.to_string().to_lowercase(),
                Value::Number(n) => n.to_string(),
                _ => result_value.to_string(),
            };
            
            // Get the logs from this test
            let test_logs = output_capture.get_logs();
            
            // Add logs to the global collection
            if let Ok(mut all_logs) = all_user_logs.lock() {
                all_logs.extend(test_logs.clone());
            }
            
            // Get expected output
            let expected = test["expected"].as_str().unwrap_or("").to_string();
            let passed = formatted_result == expected;
            
            if passed {
                passed_count += 1;
            }
            
            debug!("Expected: {}", expected);
            debug!("Formatted result: {}", formatted_result);
            debug!("Passed: {}", passed);
            
            // Save first result as direct output
            if i == 0 {
                direct_output = formatted_result.clone();
            }
            
            // Create test result
            TestResult {
                input: input_str.to_string(),
                output: formatted_result,
                expected,
                passed,
                logs: test_logs,
                original_index: i,
            }
        });
        
        // Get the result or handle panic
        match result {
            Ok(test_result) => {
                results.push(test_result);
            },
            Err(e) => {
                debug!("Error processing test: {:?}", e);
                
                // Get the logs before panic
                let test_logs = if let Ok(logs) = test_logs_capture.lock() {
                    logs.clone()
                } else {
                    Vec::new()
                };
                
                // Create error result
                results.push(TestResult {
                    input: test["input"].as_str().unwrap_or("").to_string(),
                    output: "null".to_string(),
                    expected: test["expected"].as_str().unwrap_or("").to_string(),
                    passed: false,
                    logs: test_logs,
                    original_index: i,
                });
            }
        }
    }
    
    // Create final output
    let all_logs = if let Ok(logs) = all_user_logs.lock() {
        logs.clone()
    } else {
        Vec::new()
    };
    
    let output = TestOutput {
        direct_output,
        results,
        summary: TestSummary {
            total: test_cases.len(),
            passed: passed_count,
        },
        user_logs: all_logs,
    };
    
    debug!("Final summary: {}/{} tests passed", passed_count, test_cases.len());
    
    // Output as JSON
    println!("{}", serde_json::to_string(&output)?);
    
    Ok(())
}
`}function yz(t,e){switch(e){case $r.javascript:return uz(t);case $r.python:return hz(t);case $r.java:return dz(t);case $r.cpp:return fz(t);case $r.c:return pz(t);case $r.ruby:return gz(t);case $r.go:return Oz(t);case $r.rust:return mz(t);default:return console.warn(`No test runner available for language ID ${e}, returning original code`),t}}const $r={javascript:63,python:71},Ko={ACCEPTED:3,WRONG_ANSWER:4,TIME_LIMIT_EXCEEDED:5,COMPILATION_ERROR:6,RUNTIME_ERROR:7,INTERNAL_ERROR:8,EXEC_FORMAT_ERROR:9,MEMORY_LIMIT_EXCEEDED:10},Nd="http://localhost:2358",dS=void 0;class vz{async submitCode(e){try{const r=yz(e.source_code,e.language_id);console.log("JUDGE0 DEBUG - Original code:",e.source_code),console.log("JUDGE0 DEBUG - Modified code with test runner:",r.substring(0,500)+"... (truncated)"),console.log("JUDGE0 DEBUG - Submitting to Judge0 with language_id:",e.language_id),console.log("JUDGE0 DEBUG - Stdin input:",e.stdin);const n={"Content-Type":"application/json"};console.log("JUDGE0 DEBUG - Request headers:",JSON.stringify(n));const i=await fetch(`${Nd}/submissions`,{method:"POST",headers:n,body:JSON.stringify({...e,source_code:r})});if(console.log("JUDGE0 DEBUG - Submission response status:",i.status),!i.ok){const o=await i.text();throw console.error("JUDGE0 DEBUG - Submission error:",o),new Error(`Failed to create submission: ${i.status} ${i.statusText}
${o}`)}const s=await i.json();if(console.log("JUDGE0 DEBUG - Submission data:",JSON.stringify(s)),!s.token)throw new Error("No submission token received");return await this.getSubmissionResult(s.token)}catch(r){return console.error("JUDGE0 DEBUG - Error submitting code:",r),{status:{id:Ko.INTERNAL_ERROR,description:"Internal Error"},message:`Error submitting code: ${r instanceof Error?r.message:"Unknown error"}`}}}async getSubmissionResult(e){var r,n;try{let i=null,s=0;const o=10;console.log("JUDGE0 DEBUG - Polling for results with token:",e);const l={};for(;!i&&s<o;){console.log(`JUDGE0 DEBUG - Polling attempt ${s+1}/${o}`);const a=await fetch(`${Nd}/submissions/${e}`,{method:"GET",headers:l});if(console.log("JUDGE0 DEBUG - Poll response status:",a.status),!a.ok){const u=await a.text();throw console.error("JUDGE0 DEBUG - Poll error:",u),new Error(`Failed to get submission result: ${a.status} ${a.statusText}
${u}`)}const c=await a.json();if(console.log("JUDGE0 DEBUG - Raw Judge0 response:",JSON.stringify(c,null,2)),c.status.id!==1&&c.status.id!==2){if(console.log(`JUDGE0 DEBUG - Received final result with status: ${c.status.id} (${c.status.description})`),i=c,c.stdout)try{const u=c.stdout;console.log("JUDGE0 DEBUG - Raw stdout:",u);const h=u.indexOf("{");if(h!==-1){const d=u.substring(h);try{const f=JSON.parse(d);console.log("JUDGE0 DEBUG - Parsed stdout results:",JSON.stringify(f,null,2)),f.directOutput!==void 0&&console.log("JUDGE0 DEBUG - Direct output:",f.directOutput),f.results&&f.results.length>0&&(console.log("JUDGE0 DEBUG - First test case result:",JSON.stringify(f.results[0])),console.log("JUDGE0 DEBUG - Pass/fail summary:",`${((r=f.summary)==null?void 0:r.passed)||0}/${((n=f.summary)==null?void 0:n.total)||0} tests passed`)),c.stdout=d}catch(f){console.error("JUDGE0 DEBUG - Failed to parse JSON part:",f)}}else console.error("JUDGE0 DEBUG - Could not find JSON start in stdout")}catch(u){console.error("JUDGE0 DEBUG - Failed to parse stdout JSON:",u),console.log("JUDGE0 DEBUG - Raw stdout:",c.stdout)}else console.log("JUDGE0 DEBUG - No stdout in response");c.stderr&&console.log("JUDGE0 DEBUG - Stderr:",c.stderr),c.compile_output&&console.log("JUDGE0 DEBUG - Compile output:",c.compile_output)}else console.log(`JUDGE0 DEBUG - Status still processing: ${c.status.id} (${c.status.description})`),s++,await new Promise(u=>setTimeout(u,1e3*s))}return i||(console.log("JUDGE0 DEBUG - Timed out waiting for result"),{status:{id:Ko.INTERNAL_ERROR,description:"Timeout"},message:"Timed out waiting for submission result"})}catch(i){return console.error("JUDGE0 DEBUG - Error getting submission result:",i),{status:{id:Ko.INTERNAL_ERROR,description:"Internal Error"},message:`Error getting submission result: ${i instanceof Error?i.message:"Unknown error"}`}}}async saveSubmission(e){try{const{error:r}=await H.from("code_submissions").insert([e]);return r?(console.error("Error saving submission:",r),!1):!0}catch(r){return console.error("Error saving submission:",r),!1}}async getUserSubmissions(e){try{const{data:r,error:n}=await H.from("code_submissions").select("*").eq("userId",e).order("submittedAt",{ascending:!1});return n?(console.error("Error getting user submissions:",n),[]):r||[]}catch(r){return console.error("Error getting user submissions:",r),[]}}}const vP=new vz,Sz=t=>{switch(t){case"javascript":return"js";case"python":return"py";default:return"txt"}},xz=t=>{switch(t){case"javascript":return nS({jsx:!0});case"python":return oz();default:return nS({jsx:!0})}},fS=({userCode:t,setUserCode:e,selectedLanguage:r,setSelectedLanguage:n,timeRemaining:i,editorFrozen:s,editorFrozenEndTime:o,isQuestionSelected:l,currentQuestion:a,onSubmitSolution:c,setDebugMsg:u,onTestRun:h,isSubmitting:d=!1})=>{const[f,p]=k.useState(!1),O=async()=>{if(a){p(!0),h(null,!0),u("Running tests...");try{const y=a.testCases.filter(P=>!P.isHidden),g=$r[r];if(!g)throw new Error(`Unsupported language: ${r}`);const m=y.map(P=>({input:P.input,expected:P.output}));console.log("Run Tests - using visibleTests:",m);let S=t;console.log("Submitted code:",S);const b={source_code:S,language_id:g,stdin:JSON.stringify({testCases:m})},x=await vP.submitCode(b);let Q=null;if(x.status.id===Ko.ACCEPTED)if(x.stdout)try{let P=x.stdout,T=[];if(x.stderr){const R=x.stderr.split(`
`).filter(X=>X.includes("USER LOG:")).map(X=>X.replace("USER LOG:","").trim());R.length>0&&(console.log("Found logs in stderr:",R),T=R)}const _=x.stdout.indexOf("{");if(_!==-1&&(P=x.stdout.substring(_),_>0)){const D=x.stdout.substring(0,_).split(`
`).filter(R=>R.trim()!=="");D.length>0&&(T=[...T,...D])}const C=JSON.parse(P);if(C.summary&&C.results){console.log("FULL RUNNER OUTPUT:",JSON.stringify(C,null,2));const D=[...T,...C.userLogs||[]].filter(N=>N.trim()!=="");console.log("Final combined logs:",D);const R=C.results.filter(N=>!N.passed).map((N,M)=>{var V,E;const B=M+1;return{input:N.input||((V=m[M])==null?void 0:V.input)||`Test case ${B}`,expected:N.expected||((E=m[M])==null?void 0:E.expected)||"true",actual:N.output||"undefined",index:B,logs:N.logs||[]}}),X=C.results.filter(N=>N.passed).map((N,M)=>{var V,E;const B=M+1;return{input:N.input||((V=m[M])==null?void 0:V.input)||`Test case ${B}`,expected:N.expected||((E=m[M])==null?void 0:E.expected)||"true",actual:N.output||N.expected||"true",index:B,logs:N.logs||[]}});Q={passed:C.summary.passed,total:C.summary.total,failedTests:R,passedTests:X,userLogs:D},console.log("Final logs to be displayed:",Q.userLogs),Q.failedTests&&(Q.failedTests=Q.failedTests.map((N,M)=>({...N,input:N.input||`Test case ${M+1}`,expected:N.expected||"true",actual:N.actual||"false"}))),u(`${Q.passed}/${Q.total} tests passed`)}else throw new Error("Test runner output format invalid")}catch(P){console.error("Error parsing test runner output:",P,x.stdout);let T=["[Error processing console logs - see actual logs below]"];if(x.stdout){const C=x.stdout.split(`
`).filter(D=>D.trim()!==""&&!D.startsWith("{")&&!D.startsWith("}"));C.length>0&&(T=[...T,...C])}if(x.stderr){const C=x.stderr.split(`
`).filter(D=>D.includes("USER LOG:")).map(D=>D.replace("USER LOG:","").trim());C.length>0&&(T=[...T,...C])}Q={passed:0,total:y.length,failedTests:y.map((_,C)=>({input:_.input,expected:_.output,actual:"Error running test",index:C+1,logs:T})),userLogs:T},u("Error processing test results.")}else u("Tests ran, but no output received.");else u(`Test Execution Failed: ${x.status.description}. ${x.stderr||x.compile_output||x.message||""}`);h(Q,!1)}catch(y){console.error("Error running tests:",y),u(`Error running tests: ${y instanceof Error?y.message:"Unknown error"}`),h(null,!1)}finally{p(!1)}}};return v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"bg-gray-800 px-4 py-2 text-gray-300 text-sm flex justify-between items-center rounded-t-lg",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("span",{children:["solution.",Sz(r)]}),v.jsxs("select",{className:"ml-4 bg-gray-700 text-white text-sm rounded px-2 py-1",value:r,onChange:y=>n(y.target.value),disabled:s||!l,children:[v.jsx("option",{value:"javascript",children:"JavaScript"}),v.jsx("option",{value:"python",children:"Python"})]})]}),v.jsxs("span",{className:"text-gray-500",children:["Time: ",i]})]}),v.jsxs("div",{className:"relative",children:[s&&v.jsx("div",{className:"absolute inset-0 bg-blue-900/30 backdrop-blur-sm z-10 flex items-center justify-center",children:v.jsxs("div",{className:"text-center p-6 bg-gray-800/90 rounded-lg shadow-lg",children:[v.jsx("div",{className:"text-4xl mb-2",children:""}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Editor Frozen!"}),v.jsxs("p",{className:"text-blue-200",children:["Unfreezing in ",cz(o)," seconds..."]})]})}),!l&&v.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-sm z-10 flex items-center justify-center",children:v.jsxs("div",{className:"text-center p-6 bg-gray-800/90 rounded-lg shadow-lg",children:[v.jsx("div",{className:"text-4xl mb-2",children:""}),v.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Select a challenge first"}),v.jsx("p",{className:"text-gray-300",children:"Choose a problem from the list to start coding"})]})}),v.jsx("div",{className:"w-full h-[500px]",style:{textAlign:"left"},children:v.jsx(YQ,{value:t,height:"500px",theme:"dark",extensions:[xz(r)],onChange:y=>{!s&&l&&e(y)},editable:!s&&l,basicSetup:!0})})]}),v.jsx("div",{className:"bg-gray-800 p-3 flex flex-col gap-3 rounded-b-lg",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx(pt,{variant:"outline",className:"border-green-700/50 text-white hover:bg-green-800/30",disabled:s||!l||f,onClick:O,children:f?v.jsxs("div",{className:"flex items-center",children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Running..."]}):"Run Tests"}),v.jsx(pt,{className:`relative overflow-hidden ${d?"bg-indigo-800":"bg-indigo-700 hover:bg-indigo-800"} text-white`,disabled:s||!l||d,onClick:c,children:v.jsxs("div",{className:"flex items-center",children:[d&&v.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d?"Submitting...":"Submit Solution"]})})]})})]})},SP=k.memo(({selectedTopics:t,availableQuestions:e,activeTopicFilter:r,setActiveTopicFilter:n,onSelectQuestion:i,onRandomChallenge:s,getFilteredQuestions:o,completedQuestions:l=[],currentUserEmail:a})=>{const c=h=>l.includes(h),u=k.useMemo(()=>{try{if(!e||!Array.isArray(e))return console.log("Available questions is not an array:",e),[];const h=o();return!h||!Array.isArray(h)?(console.log("Filtered questions is not an array:",h),[]):h}catch(h){return console.error("Error getting filtered questions:",h),[]}},[e,o]);return v.jsxs(qu,{className:"bg-gray-800 p-4 overflow-y-auto h-[600px]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white",children:"Select a Challenge"}),v.jsx("div",{className:"flex gap-2",children:t.map((h,d)=>v.jsxs("div",{className:"bg-indigo-800/60 text-white px-2 py-1 rounded text-xs flex items-center",children:[v.jsx("span",{className:"mr-1",children:Zl[h]})," ",h]},d))})]}),t.length>1&&v.jsxs("div",{className:"flex border-b border-gray-700 mb-4",children:[v.jsx("button",{className:`px-3 py-2 text-sm font-medium border-b-2 ${r?"text-gray-400 hover:text-white border-transparent hover:border-gray-700":"text-white border-indigo-500"}`,onClick:()=>n(null),children:"All Questions"}),t.map(h=>v.jsx("button",{className:`px-3 py-2 text-sm font-medium border-b-2 ${r===h?"text-white border-indigo-500":"text-gray-400 hover:text-white border-transparent hover:border-gray-700"}`,onClick:()=>n(h),children:h},h))]}),v.jsxs("div",{className:"space-y-3",children:[Array.isArray(e)&&e.length>0?u.map((h,d)=>{var p,O;if(!h)return null;const f=c(h.id);return v.jsxs("div",{className:`bg-gray-800 border border-gray-700 rounded-lg p-3 transition-colors ${f?"border-green-600 bg-green-900/20":"hover:bg-gray-700 hover:border-indigo-500 cursor-pointer"}`,onClick:()=>!f&&i(h),children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("h3",{className:"text-base font-medium text-white",children:h.title}),f&&v.jsxs("div",{className:"ml-2 flex items-center text-green-500",children:[v.jsx(m2,{className:"w-4 h-4 mr-1"}),v.jsx("span",{className:"text-xs",children:"Completed"})]})]}),v.jsx(Kw,{className:h.difficulty==="easy"?"bg-green-600":h.difficulty==="medium"?"bg-yellow-600":"bg-red-600",children:((p=h.difficulty)==null?void 0:p.toUpperCase())||"UNKNOWN"})]}),v.jsx("p",{className:`text-xs ${f?"text-gray-400":"text-gray-300"} line-clamp-2`,children:((O=h.description)==null?void 0:O.replace(/<[^>]*>/g," "))||"No description available"}),v.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Category: ",h.category||"Unknown"]})]},d)}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"text-3xl mb-3",children:""}),v.jsx("p",{className:"text-gray-400",children:"Loading available challenges..."}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Attempting to load questions automatically..."})]}),Array.isArray(e)&&e.length>0&&u.length===0&&v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"text-3xl mb-3",children:""}),v.jsxs("p",{className:"text-gray-400",children:["No questions found for ",r]}),v.jsx(pt,{onClick:()=>n(null),className:"mt-4 bg-indigo-700 hover:bg-indigo-800",children:"Show All Questions"})]})]}),v.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:v.jsx(pt,{className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",onClick:s,children:"Random Challenge"})})]})});SP.displayName="ProblemList";const pS=({email:t,isCurrentUser:e,onSkillDrop:r,score:n=0,charCount:i=0,isSimulated:s=!1})=>{const[{isOver:o},l]=yj(()=>({accept:mP.SKILL,drop:f=>{r(f.skill,t)},canDrop:()=>!e,collect:f=>({isOver:!!f.isOver()})})),a=t.split("@")[0],c=yP(t),u=a.length>8?a.substring(0,7)+"...":a,h=i>999?`${(i/1e3).toFixed(1)}k`:i.toString(),d=!s&&i>0;return v.jsxs("div",{ref:l,className:`flex flex-col items-center rounded-lg transition-all ${o&&!e?"ring-2 ring-yellow-400 bg-gray-700 scale-105":""} ${e?"border border-green-500/70":"border border-gray-700/30"} 
        min-w-[72px] max-w-[72px] p-2 hover:bg-gray-700/70
        ${s?"bg-gray-800/50 opacity-80":"bg-gray-800/90"}`,children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:c,alt:`${a}'s avatar`,className:`w-9 h-9 rounded-full ${s?"opacity-70":""}`}),d&&v.jsx("div",{className:"absolute -top-1 -right-1 flex items-center justify-center text-[9px] rounded-full shadow-sm",title:`${i} characters typed`,children:v.jsx("div",{className:"bg-blue-600 text-white w-5 h-5 flex items-center justify-center rounded-full",children:h})})]}),v.jsxs("div",{className:"text-center mt-1 w-full",children:[v.jsx("div",{className:`text-[10px] font-medium truncate max-w-[64px] ${s?"text-gray-400":"text-white"}`,title:a,children:u}),e&&v.jsx("span",{className:"text-[8px] text-green-400",children:"(you)"}),!e&&!o&&!s&&v.jsx("span",{className:"text-[8px] text-indigo-300",children:"Drop"}),!e&&o&&!s&&v.jsx("span",{className:"text-[8px] text-yellow-300 animate-pulse",children:"Target"}),s&&v.jsx("span",{className:"text-[8px] text-gray-500",children:"simulated"})]})]})},wz=({skill:t,isAvailable:e})=>{const[{isDragging:r},n]=uj(()=>({type:mP.SKILL,item:{skill:t},canDrag:e,collect:i=>({isDragging:!!i.isDragging()})}));return v.jsxs("div",{ref:n,className:`
        group relative w-[70px] h-[70px] p-2 
        rounded-lg text-center cursor-grab 
        flex flex-col justify-center items-center 
        transition-all duration-300 ease-out
        ${e?`${t.name==="Freeze"?"bg-gradient-to-br from-blue-400 to-blue-600 text-white hover:from-blue-300 hover:to-blue-500 hover:shadow-[0_0_15px_rgba(59,130,246,0.5)]":"bg-gradient-to-br from-indigo-700 to-purple-800 text-white hover:from-indigo-600 hover:to-purple-700 hover:shadow-[0_0_15px_rgba(99,102,241,0.5)]"} hover:scale-110 hover:-translate-y-1`:"bg-gray-700 text-gray-400 cursor-not-allowed opacity-50"} 
        ${r?"scale-90 opacity-50 ring-2 ring-offset-2 "+(t.name==="Freeze"?"ring-blue-400 ring-offset-blue-100":"ring-indigo-400 ring-offset-indigo-100"):"opacity-100"}
        ${e?"hover:ring-2 hover:ring-offset-1 "+(t.name==="Freeze"?"hover:ring-blue-300":"hover:ring-indigo-300"):""}
      `,children:[v.jsx("div",{className:`
        text-2xl mb-1 transform transition-transform group-hover:scale-110 duration-300
        ${r?"animate-bounce":""}
      `,children:t.icon}),v.jsx("div",{className:"text-[10px] font-medium",children:t.name}),v.jsx("div",{className:`
        absolute -right-1 -top-1 w-3 h-3 rounded-full
        transition-all duration-300
        ${e?t.name==="Freeze"?"bg-blue-400 animate-pulse":"bg-indigo-400 animate-pulse":"bg-gray-500"}
      `}),v.jsx("div",{className:`
        absolute inset-0 rounded-lg
        transition-all duration-300 opacity-0 group-hover:opacity-100
        ${t.name==="Freeze"?"bg-blue-400/10 animate-pulse":"bg-indigo-400/10 animate-pulse"}
      `})]})},bz=(t,e)=>{const n=["player1@example.com","player2@example.com","player3@example.com","player4@example.com","coolgamer5@example.com","prodev6@example.com","ninja7@example.com","coder8@example.com","dev9@example.com","user10@example.com","gamer11@example.com","challenger12@example.com","warrior13@example.com","expert14@example.com","wizard15@example.com","master16@example.com","hacker17@example.com","coder18@example.com","programmer19@example.com"].filter(i=>!e.includes(i));return n.slice(0,Math.min(t,n.length))},kz=`
  .custom-scrollbar::-webkit-scrollbar {
    height: 6px;
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(30, 41, 59, 0.5);
    border-radius: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(94, 108, 145, 0.5);
    border-radius: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(129, 140, 248, 0.6);
  }
`,Qz=({connectedUsers:t,currentUserEmail:e,playerScores:r,userCharCounts:n,availableSkills:i,selectedTopics:s,onUseSkill:o})=>{const[l,a]=k.useState("grid"),u=Math.max(0,20-t.length),h=bz(u,t),d=[...t,...h],f=O=>t.includes(O)&&n[O]||0,p=[...d].sort((O,y)=>{if(O===e)return-1;if(y===e)return 1;const g=t.includes(O),m=t.includes(y);return g&&!m?-1:!g&&m?1:O.localeCompare(y)});return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:kz}),v.jsx("div",{className:"bg-gray-800/70 p-3 rounded-lg mb-4",children:v.jsxs("div",{className:"flex flex-col w-full",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("div",{className:"flex items-center",children:v.jsxs("h3",{className:"text-base font-medium text-white",children:["Warriors: (",t.length," connected",h.length>0&&`, ${h.length} simulated`,")"]})}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>a("scroll"),className:`text-xs px-2 py-1 rounded ${l==="scroll"?"bg-indigo-700/70 text-white":"bg-gray-700/50 text-gray-400 hover:text-white"}`,children:"Scroll View"}),v.jsx("button",{onClick:()=>a("grid"),className:`text-xs px-2 py-1 rounded ${l==="grid"?"bg-indigo-700/70 text-white":"bg-gray-700/50 text-gray-400 hover:text-white"}`,children:"Grid View"})]})]}),l==="scroll"?v.jsx("div",{className:"players-scroll-container custom-scrollbar w-full overflow-x-auto pb-2",style:{scrollbarWidth:"thin"},children:v.jsx("div",{className:"flex space-x-2 min-w-max",children:p.map((O,y)=>v.jsx(pS,{email:O,isCurrentUser:O===e,onSkillDrop:(g,m)=>o(g.name,m),score:r[O]||0,charCount:f(O),isSimulated:!t.includes(O)},y))})}):v.jsx("div",{className:"players-grid w-full",children:v.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-2 max-h-[180px] custom-scrollbar overflow-y-auto p-1",children:p.map((O,y)=>v.jsx(pS,{email:O,isCurrentUser:O===e,onSkillDrop:(g,m)=>o(g.name,m),score:r[O]||0,charCount:f(O),isSimulated:!t.includes(O)},y))})}),v.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-3 pt-3 border-t border-gray-700/50",children:[v.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[v.jsx("span",{className:"text-gray-300 text-sm",children:"Your Skills:"}),v.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((O,y)=>v.jsx(wz,{skill:O,isAvailable:O.available},y))})]}),v.jsxs("div",{className:"flex items-center flex-wrap gap-1 mt-2 sm:mt-0",children:[v.jsx("span",{className:"text-gray-300 text-sm mr-1",children:"Topics:"}),s.map((O,y)=>v.jsxs("div",{className:"bg-gray-700/60 text-white px-2 py-0.5 rounded text-xs flex items-center",children:[v.jsx("span",{className:"mr-1",children:Zl[O]})," ",O]},y))]})]})]})})]})},Pz=({connectedUsers:t,playerScores:e,currentUserEmail:r,debugMsg:n})=>v.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg",children:[v.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Scoreboard"}),v.jsx("div",{className:"space-y-1",children:t.map((i,s)=>v.jsxs("div",{className:"flex justify-between items-center p-1 rounded hover:bg-gray-700/50",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:yP(i),alt:`${i.split("@")[0]}'s avatar`,className:"w-6 h-6 rounded-full mr-2"}),v.jsx("span",{className:"text-gray-300 text-sm",children:i.split("@")[0]}),i===r&&v.jsx("span",{className:"ml-1 text-xs text-green-500",children:"(you)"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"font-mono text-amber-400 text-sm mr-1",children:i&&e[i]?e[i]:0}),v.jsx("span",{className:"text-xs text-gray-400",children:"solved"})]})]},s))})]}),v.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-lg",children:[v.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Battle Info"}),v.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Drag skills onto other players to use them! Win points by solving problems quickly."}),v.jsx("p",{className:"text-xs text-gray-400",children:n||"Battle in progress..."})]})]}),Tz=({selectedTopics:t,onTopicSelect:e,onCompleteSelection:r})=>v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Battle Grounds"}),v.jsx("p",{className:"text-slate-300 mb-4",children:"Select 2 topics for the first round. These will be the algorithms you can choose to solve."}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:lz.map(n=>v.jsx("div",{onClick:()=>e(n),className:`
              p-3 rounded-lg cursor-pointer transition-all transform hover:scale-105
              ${t.includes(n)?"bg-indigo-700 border-2 border-indigo-300":"bg-gray-800 border border-gray-700 hover:bg-gray-700"}
            `,children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"text-2xl mb-1",children:Zl[n]}),v.jsx("div",{className:"text-sm font-medium text-white",children:n})]})},n))}),v.jsx("div",{className:"flex flex-col items-center justify-center mt-6",children:v.jsxs(pt,{disabled:t.length!==2,className:`px-8 py-3 rounded-lg shadow-lg flex items-center justify-center
            ${t.length===2?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white animate-pulse":"bg-gray-700 text-gray-400 cursor-not-allowed"}
          `,onClick:r,children:["Ready for Battle",t.length===2&&v.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),t.length>0&&v.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg",children:[v.jsx("h3",{className:"text-white font-medium",children:"Selected Topics:"}),v.jsx("div",{className:"flex gap-2 justify-center mt-2",children:t.map((n,i)=>v.jsxs("span",{className:"bg-indigo-900/60 text-indigo-100 px-3 py-1 rounded-full text-sm flex items-center",children:[Zl[n]," ",n]},i))})]})]}),Nt="default-battle-session",gS=t=>{const[e]=t.split("@");return e.toLowerCase()},el={async joinBattle(t){try{if(console.log("Attempting to join battle session with email:",t),!t)return console.warn("No user email provided"),null;const{data:e,error:r}=await H.from("battle_sessions").select("*").eq("id",Nt).single();if(r&&r.code!=="PGRST116")throw console.error("Error fetching session:",r.message),new Error(`Error fetching session: ${r.message}`);if(e){console.log("Found existing session with data:",e);let o=Array.isArray(e.connected_emails)?e.connected_emails:[];o=o.filter(u=>gS(u)!==gS(t)),o.push(t),console.log("Current connected users:",o);let l=Array.isArray(e.ready_users)?[...e.ready_users]:[];l=l.filter(u=>u!==t),console.log("Removed user from ready list on join:",t);const{data:a,error:c}=await H.from("battle_sessions").update({active_users:o.length,connected_emails:o,ready_users:l,updated_at:new Date().toISOString()}).eq("id",Nt).select().single();if(c)throw console.error("Error updating session:",c.message),new Error(`Error updating session: ${c.message}`);return console.log("Updated session:",a),a}console.log("Creating new session...");const n=[t],{data:i,error:s}=await H.from("battle_sessions").insert({id:Nt,active_users:1,is_active:!1,round:1,time_remaining:300,current_category:"Binary Search Castle",connected_emails:n,ready_users:[],battle_state:"topic_selection",updated_at:new Date().toISOString()}).select().single();if(s)throw console.error("Error creating session:",s.message),new Error(`Error creating session: ${s.message}`);return console.log("Created new session:",i),i}catch(e){throw console.error("Error joining battle:",e),e}},async leaveBattle(t){try{if(console.log("Leaving battle session, email:",t),!t){console.warn("No user email provided when leaving, cannot update properly");return}const{data:e,error:r}=await H.from("battle_sessions").select("*").eq("id",Nt).single();if(r){console.error("Error fetching session to leave:",r.message);return}if(e){let n=Array.isArray(e.connected_emails)?e.connected_emails:[];t&&n.includes(t)?(n=n.filter(o=>o!==t),console.log("Removing email from connected list:",t)):console.log("Email not found in connected list:",t);const i=n.length;console.log("Updating session with new count:",i,"and emails:",n);const{error:s}=await H.from("battle_sessions").update({active_users:i,connected_emails:n}).eq("id",Nt);s?console.error("Error updating active users count:",s.message):console.log("Successfully left battle session, new count:",i)}}catch(e){console.error("Error leaving battle:",e)}},async startBattle(){try{console.log("Starting battle...");const{error:t}=await H.from("battle_sessions").update({is_active:!0}).eq("id",Nt);t?console.error("Error starting battle:",t.message):console.log("Battle started successfully")}catch(t){console.error("Error starting battle:",t)}},async syncUserCount(){try{console.log("Syncing user count with connected emails...");const{data:t,error:e}=await H.from("battle_sessions").select("*").eq("id",Nt).single();if(e){console.error("Error fetching session to sync:",e.message);return}if(t){const r=Array.isArray(t.connected_emails)?t.connected_emails:[];if(t.active_users!==r.length){console.log("Count mismatch! Updating from",t.active_users,"to",r.length);const{error:n}=await H.from("battle_sessions").update({active_users:r.length}).eq("id",Nt);n?console.error("Error syncing user count:",n.message):console.log("Successfully synced user count to",r.length)}else console.log("User count already in sync:",t.active_users)}}catch(t){console.error("Error syncing user count:",t)}},subscribeToSession(t){console.log("Setting up realtime subscription to battle session...");const e=`battle_changes_${Nt}`,r=H.channel(e).on("postgres_changes",{event:"*",schema:"public",table:"battle_sessions",filter:`id=eq.${Nt}`},async n=>{console.log("Received battle session realtime update:",n);const{data:i}=await H.from("battle_sessions").select("*").eq("id",Nt).single();i?(console.log("Fresh session data:",i),t(i)):n.new&&t(n.new)}).subscribe(n=>{console.log(`Battle session subscription status: ${n}`)});return()=>{console.log("Unsubscribing from battle session changes"),r.unsubscribe()}},async cleanupStaleConnections(){try{console.log("Cleaning up stale connections...");const{data:t,error:e}=await H.from("battle_sessions").select("*").eq("id",Nt).single();if(e){console.error("Error fetching session for cleanup:",e.message);return}if(t){const r=new Date,n=new Date(r.getTime()-5*6e4);if(t.last_left&&t.last_left_at){const i=new Date(t.last_left_at),s=Array.isArray(t.connected_emails)?t.connected_emails:[];if(t.last_left&&s.includes(t.last_left)){console.log("Removing user who explicitly left:",t.last_left);const o=s.filter(l=>l!==t.last_left);await H.from("battle_sessions").update({connected_emails:o,active_users:o.length,last_left:null,last_left_at:null}).eq("id",Nt)}}}}catch(t){console.error("Error cleaning up stale connections:",t)}}},$z=({userEmail:t,setConnectedUsers:e,setPlayerCount:r,setReadyUsers:n,setSelectedTopics:i,setTopicSelections:s})=>(k.useEffect(()=>{if(!t)return;console.log(" Battle session listener: setting up subscription");const o=el.subscribeToSession(l=>{if(console.log(" Battle session update received:",l),l.connected_emails){const a=Array.isArray(l.connected_emails)?l.connected_emails:[];console.log(" Updating connected users:",a),e(a),r(a.length)}if(s&&l.topic_selections&&(console.log(" Updating topic selections:",l.topic_selections),s(l.topic_selections)),l.ready_users){const a=Array.isArray(l.ready_users)?l.ready_users:[],c=Array.isArray(l.connected_emails)?l.connected_emails:[],u=l.topic_selections||{},h=a.filter(f=>c.includes(f)&&u[f]&&Array.isArray(u[f])&&u[f].length===2);console.log(" Updating ready users with strict validation:",h),console.log("   Original ready users:",a),console.log("   Filtered out:",a.filter(f=>!h.includes(f))),n(h);const d=a.filter(f=>c.includes(f)&&(!u[f]||!Array.isArray(u[f])||u[f].length!==2));d.length>0&&(console.warn(" CRITICAL: Users incorrectly marked as ready:",d),(async()=>{try{await H.from("battle_sessions").update({ready_users:h,updated_at:new Date().toISOString()}).eq("id","default-battle-session"),console.log(" Fixed incorrect ready status in database")}catch(f){console.error(" Error fixing ready status:",f)}})())}if(i&&l.selected_topics){const a=Array.isArray(l.selected_topics)?l.selected_topics:[];a.length>0&&(console.log(" Database has selected_topics:",a),t&&l.topic_selections&&l.topic_selections[t]&&Array.isArray(l.topic_selections[t])&&l.topic_selections[t].length===2?console.log(" Keeping user's explicit topic selections instead of default"):(console.log(" Using default selected_topics as user has no explicit selections"),i(a)))}if(i&&t&&l.topic_selections&&l.topic_selections[t]){const a=l.topic_selections[t];Array.isArray(a)&&a.length===2&&(console.log(" Setting topics to user's explicit selections from database:",a),i(a))}});return()=>{console.log(" Battle session listener: cleaning up subscription"),o()}},[t,e,r,n,i,s]),k.useEffect(()=>{if(!t)return;const o=async()=>{try{const{data:a,error:c}=await H.from("battle_sessions").select("connected_emails, updated_at").eq("id","default-battle-session").single();if(c){console.error("Error fetching session for stale check:",c);return}if(a){const u=Array.isArray(a.connected_emails)?a.connected_emails:[];if(!u.includes(t)){console.log("Re-adding ourselves to connected users list");const p=[...u,t];try{await H.from("battle_sessions").update({connected_emails:p,active_users:p.length,updated_at:new Date().toISOString()}).eq("id","default-battle-session"),console.log("Successfully re-added to user list")}catch(O){console.error("Error re-adding to connected users:",O)}}const h=new Date,d=a.updated_at?new Date(a.updated_at):h;if((h.getTime()-d.getTime())/1e3>60){console.log("Session inactive for over 60 seconds, refreshing data");try{await el.syncUserCount(),console.log("Refreshed session data")}catch(p){console.error("Error refreshing session data:",p)}}}}catch(a){console.error("Error in stale user check:",a)}};o();const l=setInterval(o,15e3);return()=>{clearInterval(l)}},[t]),null),_z=({battleState:t,timeRemaining:e})=>t==="topic_selection"?v.jsx(zf,{iconSize:8,titleClassName:"text-3xl font-bold text-white mb-4"}):v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx(zf,{iconSize:6,titleClassName:"text-2xl font-bold text-white"}),v.jsx("div",{className:"text-2xl font-mono font-bold text-amber-400",children:e})]}),OS=({index:t,input:e,expected:r,actual:n,passed:i,assertions:s=2,logs:o})=>{const l=o||[],[a,c]=k.useState(!1),u=l.length>0;return k.useEffect(()=>{console.log(`TestResultItem ${t} received logs:`,{hasLogs:u,logsCount:l.length,logsSample:l.slice(0,2)})},[t,l,u]),k.useEffect(()=>{c(!0)},[]),k.useEffect(()=>{(!i||u)&&c(!0)},[i,u]),v.jsxs("div",{className:`border-b border-gray-700 py-2 px-4 hover:bg-gray-800/50 ${i?"":"bg-red-900/10"} ${u?"bg-blue-900/5":""}`,children:[v.jsxs("div",{className:"flex items-center cursor-pointer text-sm",onClick:()=>c(!a),children:[v.jsx("div",{className:"mr-2",children:a?v.jsx(y2,{className:"w-4 h-4 text-gray-400"}):v.jsx(v2,{className:"w-4 h-4 text-gray-400"})}),v.jsxs("div",{className:`font-mono ${i?"text-green-400":"text-red-400"} flex-1`,children:[i?"":""," Test ",t]}),u&&v.jsxs("div",{className:"flex items-center text-blue-400 text-xs font-medium bg-blue-900/20 px-2 py-0.5 rounded",children:[v.jsx(S2,{className:"w-3 h-3 mr-1"}),l.length," log",l.length!==1?"s":""]})]}),a&&v.jsx("div",{className:"pl-6 mt-2 space-y-2 text-sm",children:e!==void 0&&r!==void 0?v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-gray-400 mb-1",children:"Input:"}),v.jsx("div",{className:"text-white bg-gray-900 p-2 rounded font-mono overflow-x-auto whitespace-pre",children:e})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-gray-400 mb-1",children:"Expected Result:"}),v.jsx("div",{className:"text-green-400 bg-gray-900 p-2 rounded font-mono overflow-x-auto whitespace-pre",children:r})]}),v.jsxs("div",{children:[v.jsx("div",{className:"text-gray-400 mb-1",children:"Your Code Output:"}),v.jsx("div",{className:`${i?"text-green-400":"text-red-400"} bg-gray-900 p-2 rounded font-mono overflow-x-auto whitespace-pre`,children:n||"undefined"})]}),u&&v.jsxs("div",{className:"mt-3",children:[v.jsxs("div",{className:"text-gray-400 mb-1 flex items-center",children:[v.jsx("div",{className:"w-4 h-4 mr-1"}),"Console Logs:"]}),v.jsx("div",{className:"bg-gray-800 p-2 rounded border border-gray-700 overflow-x-auto",children:l.map((h,d)=>v.jsx("div",{className:"text-blue-300 font-mono text-sm py-1 break-all",children:h},d))})]})]}):v.jsx("div",{className:"text-gray-400 italic",children:"Test details not available for this test case."})})]})},Cz=({active:t})=>t?v.jsx("div",{className:"confetti-container",children:Array.from({length:100}).map((e,r)=>v.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"][Math.floor(Math.random()*6)]}},r))}):null,Ez=({selectedTopics:t,readyUsers:e,connectedUsers:r,userEmail:n,onChangeTopics:i,onEnterBattleRoom:s})=>v.jsxs("div",{className:"mb-6 bg-indigo-900/30 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Your Battle Topics"}),v.jsx("div",{className:"flex gap-3 justify-center",children:t.map((o,l)=>v.jsxs("div",{className:"bg-indigo-800/60 text-white px-4 py-2 rounded-lg flex items-center",children:[v.jsx("span",{className:"text-xl mr-2",children:Zl[o]})," ",o]},l))}),v.jsx("p",{className:"text-indigo-200 mt-4",children:e.length===r.length&&r.length>1?"All warriors are ready! Preparing battle room...":`Waiting for other warriors to ready up... (${e.length}/${r.length})`}),r.length>0&&v.jsxs("div",{className:"mt-4 text-sm text-indigo-200",children:[v.jsxs("p",{children:["Ready warriors: ",e.map(o=>o.split("@")[0]).join(", ")||"None"]}),v.jsxs("p",{children:["Your status: ",e.includes(n||"")?"Ready":"Not ready"]}),v.jsx("div",{className:"flex justify-center mt-3",children:v.jsx(pt,{className:"bg-indigo-700 hover:bg-indigo-800 text-white text-xs px-3 py-1",onClick:i,children:"Change Topics"})})]}),e.length===r.length&&r.length>1&&v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"animate-pulse text-green-400 text-xl font-bold",children:"Battle starting..."}),v.jsx(pt,{className:"mt-4 bg-green-600 hover:bg-green-700 text-white",onClick:s,children:"Enter Battle Room"})]})]}),Rz=({userEmail:t,sessionId:e,battleState:r})=>{const[n,i]=k.useState(!1),[s,o]=k.useState(null),[l,a]=k.useState([{name:"Freeze",icon:"",available:!0},{name:"Code Chaos",icon:"",available:!0}]),[c,u]=k.useState("");return k.useEffect(()=>{r==="battle_room"&&a([{name:"Freeze",icon:"",available:!0},{name:"Code Chaos",icon:"",available:!0}])},[r]),{editorFrozen:n,setEditorFrozen:i,editorFrozenEndTime:s,setEditorFrozenEndTime:o,availableSkills:l,setAvailableSkills:a,debugMsg:c,setDebugMsg:u,useSkill:(p,O)=>{if(!(!t||!e||!O))try{console.log(`Using skill ${p} on ${O}`),a(m=>m.map(S=>S.name===p?{...S,available:!1}:S));const y=`battle_skills_${O.replace("@","_at_")}_${e}`;console.log(`Broadcasting skill effect to channel: ${y}`);const g=H.channel(y,{config:{broadcast:{self:!0}}});g.subscribe(async m=>{if(m!=="SUBSCRIBED"){console.log("Skill channel status:",m);return}await g.send({type:"broadcast",event:"skill_used",payload:{skill_name:p,from_user:t,target_user:O,timestamp:new Date().toISOString()}}),console.log("Skill effect broadcast sent"),u(`You used ${p} on ${O.split("@")[0]}!`),setTimeout(()=>{g.unsubscribe()},1e3)})}catch(y){console.error("Error using skill:",y),u("Error using skill")}},handleFreezeEffect:p=>{try{console.log(`Handling Freeze effect from ${p}`),i(!0);const O=Date.now()+15e3;o(O),u(` ${p} froze your editor for 15 seconds!`),setTimeout(()=>{i(!1),o(null),u("Your editor has been unfrozen.")},15e3)}catch(O){console.error("Error handling freeze effect:",O)}},handleChaosEffect:(p,O,y)=>{try{console.log(`Handling Code Chaos effect from ${p}`);const g=O.split(`
`);for(let m=g.length-1;m>0;m--){const S=Math.floor(Math.random()*(m+1));[g[m],g[S]]=[g[S],g[m]]}y(g.join(`
`)),u(` ${p} used Code Chaos on your editor!`)}catch(g){console.error("Error handling code chaos effect:",g)}}}},Az=({initialSeconds:t})=>{const[e,r]=k.useState(t),[n,i]=k.useState(!1),s=k.useRef(null),o=u=>{const h=Math.floor(u/60),d=u%60;return`${h.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},l=()=>{i(!0)},a=()=>{i(!1)},c=()=>{r(t),i(!1)};return k.useEffect(()=>{if(!n){s.current&&(window.clearInterval(s.current),s.current=null);return}return s.current=window.setInterval(()=>{r(u=>u<=0?(a(),0):u-1)},1e3),()=>{s.current&&(window.clearInterval(s.current),s.current=null)}},[n]),{timeRemaining:o(e),startTimer:l,stopTimer:a,resetTimer:c}},mS=["Forest of Arrays","Hashmap Dungeons","Binary Search Castle","Linked List Gardens","Tree of Wisdom","Graph Adventures","Dynamic Programming Peaks","Stack & Queue Tavern","String Sorcery","Sorting Sanctuary"],Bi="https://codequest-battle-royale.onrender.com/api";class jz{constructor(){no(this,"problemsByCategory",{});no(this,"problems",[]);no(this,"initialized",!1);no(this,"serverAvailable",!1)}async checkApiAvailability(){try{console.log("Checking API availability...");const e=await fetch(`${Bi.replace("/api","")}/health`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(3e3)});return e.ok?(console.log("API server is available"),this.serverAvailable=!0,!0):(console.error("API server is not responding correctly:",e.status),this.serverAvailable=!1,!1)}catch(e){return console.error("API server is not available:",e),this.serverAvailable=!1,!1}}async initialize(){if(this.initialized)return;if(console.log("Initializing API problem service..."),console.log("API URL:",Bi),!await this.checkApiAvailability()){console.error("API server is not available. Using empty categories as fallback."),mS.forEach(r=>{this.problemsByCategory[r]=[]}),console.log("Created empty categories as fallback:",Object.keys(this.problemsByCategory)),this.initialized=!0;return}try{console.log("Fetching problems from API:",`${Bi}/problems`);const r=await fetch(`${Bi}/problems`);if(!r.ok)throw console.error("API Error Status:",r.status),console.error("API Error Text:",await r.text()),new Error(`API error: ${r.status}`);this.problems=await r.json(),console.log(`Loaded ${this.problems.length} problems from API`),this.problems.forEach(n=>{this.problemsByCategory[n.category]||(this.problemsByCategory[n.category]=[]),this.problemsByCategory[n.category].push(n)}),this.initialized=!0,console.log("Problem service initialized with categories:",Object.keys(this.problemsByCategory))}catch(r){console.error("Error initializing API problem service:",r),mS.forEach(n=>{this.problemsByCategory[n]=[]}),console.log("Created empty categories as fallback:",Object.keys(this.problemsByCategory)),this.initialized=!0}}getCategories(){return Object.keys(this.problemsByCategory)}getProblemsByCategory(e){return this.problemsByCategory[e]||[]}async fetchProblemsByCategory(e){try{console.log(`Fetching problems for category ${e} from API`);const r=await fetch(`${Bi}/problems/category/${encodeURIComponent(e)}`);if(!r.ok)throw console.error("API Error Status:",r.status),console.error("API Error Text:",await r.text()),new Error(`API error: ${r.status}`);const n=await r.json();return console.log(`Fetched ${n.length} problems for category ${e}`),n}catch(r){return console.error(`Error fetching problems for category ${e}:`,r),[]}}getRandomProblemsByCategory(e,r=1,n){console.log(`Getting random ${r} problems from category ${e}, difficulty: ${n||"any"}`);const i=this.problemsByCategory[e]||[];console.log(`Found ${i.length} problems in category ${e}`);const s=n?i.filter(a=>a.difficulty===n):i;console.log(`After difficulty filter, have ${s.length} problems`);const o=this.shuffleArray([...s]),l=o.slice(0,Math.min(r,o.length));return console.log(`Returning ${l.length} random problems`),l.length===0&&r>0?(console.warn("No problems found, returning empty placeholder problem"),[{id:"empty-problem",title:"No problems found",description:"No problems could be found for this category",difficulty:"easy",category:e,starterCode:{javascript:"// No problems found"},testCases:[]}]):l}async getProblemById(e){try{console.log(`Fetching problem ${e} from API`);const r=await fetch(`${Bi}/problems/${e}`);if(!r.ok){if(r.status===404){console.log(`Problem ${e} not found`);return}throw console.error("API Error Status:",r.status),console.error("API Error Text:",await r.text()),new Error(`API error: ${r.status}`)}const n=await r.json();return console.log(`Successfully fetched problem ${e}: ${n.title}`),n}catch(r){console.error(`Error fetching problem ${e}:`,r);return}}getAllProblems(){return this.problems}shuffleArray(e){const r=[...e];for(let n=r.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[r[n],r[i]]=[r[i],r[n]]}return r}isInitialized(){return this.initialized}isServerAvailable(){return this.serverAvailable}}const Dz=new jz,Yi=Dz,Nz=async()=>{await Yi.initialize(),console.log("Services initialized using API services")},Iz=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState({}),[i,s]=k.useState(null),o=k.useCallback(async()=>{Yi.isInitialized()||(e(!0),console.log("Initializing problem service from hook..."),await Yi.initialize(),e(!1))},[]),l=k.useCallback(async u=>{e(!0),await o(),console.log("Loading problems for selected categories:",u);const h={};for(const f of u)h[f]=Yi.getProblemsByCategory(f),console.log(`Loaded ${h[f].length} problems for "${f}"`);n(h),e(!1);const d=Object.values(h).reduce((f,p)=>f+p.length,0);return console.log(`Total problems loaded: ${d}`),h},[o]),a=k.useCallback((u,h)=>{console.log(`Getting random problem for category: ${u}${h?`, difficulty: ${h}`:""}`);const d=Yi.getRandomProblemsByCategory(u,1,h),f=d.length>0?d[0]:null;return f?console.log(`Selected random problem: ${f.id} - ${f.title}`):console.warn(`No problems found for category: ${u}`),s(f),f},[]),c=k.useCallback(async u=>{e(!0),await o();const h=await Yi.getProblemById(u);return s(h||null),e(!1),h},[o]);return{loading:t,problems:r,currentProblem:i,setCurrentProblem:s,initialize:o,loadProblemsByCategory:l,getRandomProblem:a,loadProblemById:c}},Lz=t=>{const[e,r]=k.useState(null),[n,i]=k.useState([]),[s,o]=k.useState(0),[l,a]=k.useState("unknown"),[c,u]=k.useState(!1),[h,d]=k.useState(""),[f,p]=k.useState("topic_selection"),O=k.useRef(Date.now()),y=k.useRef(null),g=k.useRef(!1),m=async()=>{u(!0),d("Connecting to battle arena...");try{if(e){console.log("Session already exists:",e),u(!1);return}if(t!=null&&t.email)try{console.log("Connecting user:",t.email);const x=await el.joinBattle(t.email);if(x){console.log("Successfully connected:",x);const Q=x.connected_emails||[];return r("default-battle-session"),i(Q),o(Q.length),a("verified"),d(Q.length>1?`Connected with ${Q.length} warriors!`:"Connected! Waiting for other warriors..."),x}else d("Error connecting to battle. Try again.")}catch(x){console.error("Connection error:",x),d(`Connection error: ${x.message}`)}finally{u(!1)}else d("Cannot connect without user email. Please sign in."),u(!1)}catch(x){console.error("Battle initialization error:",x),d(`Error connecting: ${x.message}`),u(!1)}return null};return k.useEffect(()=>{if(!(t!=null&&t.email)||!e)return;const x=async()=>{try{console.log("Sending heartbeat..."),O.current=Date.now();try{const{data:P,error:T}=await H.from("battle_sessions").select("connected_emails, updated_at").eq("id",e).single();if(T){console.error("Error fetching session for heartbeat:",T);return}if(P)try{const _=Array.isArray(P.connected_emails)?P.connected_emails:[];if(_.includes(t.email)){const{error:C}=await H.from("battle_sessions").update({updated_at:new Date().toISOString()}).eq("id",e);C&&console.error("Error updating timestamp:",C)}else{const C=[..._,t.email],{error:D}=await H.from("battle_sessions").update({connected_emails:C,active_users:C.length,updated_at:new Date().toISOString()}).eq("id",e);if(D){console.error("Error re-adding user to session:",D);return}console.log("Successfully re-added to connected users list")}}catch(_){console.error("Error in user presence update:",_)}}catch(P){console.error("Error in session fetch:",P)}}catch(P){console.error("Unhandled error in heartbeat:",P)}};x();const Q=window.setInterval(x,5e3);return y.current=Q,()=>{y.current&&(window.clearInterval(y.current),y.current=null)}},[t==null?void 0:t.email,e]),{sessionId:e,connectedUsers:n,setConnectedUsers:i,playerCount:s,setPlayerCount:o,setupStatus:l,isJoining:c,debugMsg:h,setDebugMsg:d,battleState:f,setBattleState:p,hasInitializedRef:g,initializeSession:m,leaveSession:async()=>{if(t!=null&&t.email){d("Leaving battle arena...");try{const{data:x}=await H.from("battle_sessions").select("connected_emails").eq("id","default-battle-session").single();if(x&&x.connected_emails){const P=(Array.isArray(x.connected_emails)?x.connected_emails:[]).filter(T=>T!==t.email);await H.from("battle_sessions").update({connected_emails:P,active_users:P.length,updated_at:new Date().toISOString(),last_left:t.email,last_left_at:new Date().toISOString()}).eq("id","default-battle-session"),console.log("Successfully removed user from session")}else console.log("Session not found when trying to leave");return await el.leaveBattle(t.email),await el.syncUserCount(),console.log("Successfully left battle"),!0}catch(x){return console.error("Error leaving battle:",x),!1}}},changeBattleState:async x=>{try{const{error:Q}=await H.from("battle_sessions").update({battle_state:x,updated_at:new Date().toISOString(),last_state_change:new Date().toISOString(),state_changed_by:t==null?void 0:t.email}).eq("id","default-battle-session");return Q?(console.error("Error updating battle state:",Q),d("Error changing battle state: "+Q.message),!1):(p(x),!0)}catch(Q){return console.error("Error changing battle state:",Q),d("Error changing battle state. Please try again."),!1}}}},Mz=t=>{const[e,r]=k.useState([]),[n,i]=k.useState(!0),[s,o]=k.useState(!1),[l,a]=k.useState({}),[c,u]=k.useState([]);return{selectedTopics:e,setSelectedTopics:r,showTopicSelection:n,setShowTopicSelection:i,isTopicSelectionComplete:s,setIsTopicSelectionComplete:o,topicSelections:l,setTopicSelections:a,readyUsers:c,setReadyUsers:u,handleTopicSelect:O=>{if(r(y=>y.includes(O)?y.filter(g=>g!==O):y.length>=2?[y[1],O]:[...y,O]),s){if(o(!1),t!=null&&t.email&&c.includes(t.email)){const y=c.filter(m=>m!==t.email);u(y),(async()=>{try{const{data:m}=await H.from("battle_sessions").select("ready_users").eq("id","default-battle-session").single();if(m!=null&&m.ready_users){const b=(Array.isArray(m.ready_users)?[...m.ready_users]:[]).filter(x=>x!==t.email);await H.from("battle_sessions").update({ready_users:b}).eq("id","default-battle-session"),console.log("Removed user from ready list after topic change")}}catch(m){console.error("Failed to update ready status:",m)}})()}i(!0)}},completeTopicSelection:async O=>{if(e.length!==2||!(t!=null&&t.email))return!1;console.log(" User clicked Ready for Battle button"),o(!0),O(`Ready for battle with topics: ${e.join(" & ")}`);try{const{data:y,error:g}=await H.from("battle_sessions").select("ready_users, topic_selections").eq("id","default-battle-session").single();if(g)return console.error("Error fetching session:",g),O("Error updating ready status"),!1;let m=[];y!=null&&y.ready_users?(m=Array.isArray(y.ready_users)?[...y.ready_users]:[],t!=null&&t.email&&!m.includes(t.email)&&(console.log(`Adding user ${t.email} to ready list`),m.push(t.email))):m=t.email?[t.email]:[];const S={...(y==null?void 0:y.topic_selections)||{},[t.email]:e};u(m),a(S),i(!1);const{error:b}=await H.from("battle_sessions").update({ready_users:m,topic_selections:S,updated_at:new Date().toISOString()}).eq("id","default-battle-session");return b?(console.error("Error updating session:",b),O("Error updating ready status"),!1):(console.log("User marked as ready:",t.email),!0)}catch(y){return console.error("Error setting up readiness:",y),O("Error setting up ready status"),!1}},handleChangeTopics:async O=>{if(i(!0),o(!1),t!=null&&t.email)try{const{data:y}=await H.from("battle_sessions").select("ready_users").eq("id","default-battle-session").single();if(y&&y.ready_users){const g=Array.isArray(y.ready_users)?y.ready_users.filter(m=>m!==t.email):[];u(g),await H.from("battle_sessions").update({ready_users:g,updated_at:new Date().toISOString()}).eq("id","default-battle-session"),console.log("User marked as not ready after changing topics")}}catch(y){console.error("Error updating ready status:",y)}O("Returned to topic selection")},handleEnterBattleRoom:async(O,y)=>{try{O("Transitioning to battle room...");const{data:g}=await H.from("battle_sessions").select("ready_users, connected_emails, topic_selections").eq("id","default-battle-session").single();if(!g)return O("Error: Could not find battle session"),!1;const m=Array.isArray(g.connected_emails)?g.connected_emails:[];if((Array.isArray(g.ready_users)?g.ready_users:[]).length!==m.length||m.length<2)return O("Error: Not all users are ready"),!1;if(t!=null&&t.email&&g.topic_selections&&g.topic_selections[t.email]){const x=g.topic_selections[t.email];console.log("Using user's topics from database:",x),JSON.stringify(x)!==JSON.stringify(e)&&(console.log("Updating local topic selections to match database"),r(x))}const{error:b}=await H.from("battle_sessions").update({battle_state:"battle_room",updated_at:new Date().toISOString(),last_state_change:new Date().toISOString(),state_changed_by:t==null?void 0:t.email}).eq("id","default-battle-session");return b?(console.error("Error updating battle state:",b),O("Error starting battle: "+b.message),!1):(y("battle_room"),O("Successfully entered battle room!"),!0)}catch(g){return console.error("Error transitioning to battle room:",g),O("Error entering battle room. Please try again."),!1}}}},Zz=(t,e)=>{const[r,n]=k.useState(null),[i,s]=k.useState(!1),[o,l]=k.useState(!1),[a,c]=k.useState("instructions"),[u,h]=k.useState({}),[d,f]=k.useState({}),[p,O]=k.useState(!1),y=(S,b,x)=>{var Q,P;S&&S.failedTests&&(S.failedTests=S.failedTests.map((T,_)=>({...T,input:T.input||`Test case ${_+1}`,expected:T.expected||"true",actual:T.actual||"false"})),S.passedTests&&(S.passedTests=S.passedTests.map((T,_)=>({...T,input:T.input||`Test case ${_+1}`,expected:T.expected||"true",actual:T.actual||T.expected||"true"}))),console.log("DEBUG: Test Results with userLogs:",{hasUserLogs:!!S.userLogs,logsLength:((Q=S.userLogs)==null?void 0:Q.length)||0,logsSample:(P=S.userLogs)==null?void 0:P.slice(0,2)})),n(S),s(b),S&&!b&&(c("output"),x&&S.failedTests&&S.failedTests.length>0&&(console.log("Debug info for failed tests:"),S.failedTests.forEach(T=>{if(console.log(`Test input: "${T.input}"`),console.log(`Expected: ${T.expected}`),console.log(`Actual: ${T.actual}`),(e==null?void 0:e.id)==="valid-palindrome"){const _=String(T.input).replace(/^"|"$/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase(),C=_.split("").reverse().join("");console.log(`Cleaned input: "${_}"`),console.log(`Reversed: "${C}"`),console.log(`Are they equal? ${_===C}`)}})))},g=()=>{O(!0),setTimeout(()=>{O(!1)},5e3)};return{testResults:r,setTestResults:n,isRunningTests:i,setIsRunningTests:s,isSubmitting:o,setIsSubmitting:l,activeView:a,setActiveView:c,playerScores:u,setPlayerScores:h,completedQuestions:d,setCompletedQuestions:f,showConfetti:p,setShowConfetti:O,handleTestRun:y,handleSubmitSolution:async(S,b,x)=>{var Q,P,T;if(!(!e||!(t!=null&&t.email))){x("Submitting solution..."),l(!0);try{const _=$r[b];if(!_)throw new Error(`Unsupported language: ${b}`);const C=e.testCases.filter(M=>!M.isHidden),D=e.testCases.filter(M=>M.isHidden);console.log("Visible tests:",C.length,C),console.log("Hidden tests:",D.length,D);const R=e.testCases.map(M=>({input:M.input,expected:M.output})),X={source_code:S,language_id:_,stdin:JSON.stringify({testCases:R})},N=await vP.submitCode(X);if(console.log("Submission result:",N),N.status.id===Ko.ACCEPTED)if(N.stdout)try{const M=JSON.parse(N.stdout);if(M.summary){const B=M.summary.passed,V=M.summary.total;if(B===V){const E={...u},A=t.email||"";E[A]=(E[A]||0)+1,h(E);const U={...d};if(U[A]||(U[A]=[]),!U[A].includes(e.id)){U[A].push(e.id),f(U);const F=H.channel("completed_questions",{config:{broadcast:{self:!0}}});F.subscribe(async Ae=>{Ae==="SUBSCRIBED"&&(await F.send({type:"broadcast",event:"question_completed",payload:{completedQuestions:U,user:A,questionId:e.id,timestamp:new Date().toISOString()}}),setTimeout(()=>{F.unsubscribe()},1e3))})}x(` Solution successful: ${B}/${V} tests passed!`),g();const G=H.channel("battle_scores",{config:{broadcast:{self:!0}}});G.subscribe(async F=>{if(F!=="SUBSCRIBED"){console.log("Score channel status:",F);return}console.log("Score channel subscribed, broadcasting score update"),await G.send({type:"broadcast",event:"score_update",payload:{scores:E,user:A,timestamp:new Date().toISOString()}}),console.log("Score update broadcast sent"),setTimeout(()=>{G.unsubscribe()},1e3)})}else{const E=((Q=M.results)==null?void 0:Q.filter(F=>!F.passed))||[];let A=0,U=0;const G=(C==null?void 0:C.length)||0;E.forEach((F,Ae)=>{C.some(ht=>ht.input===F.input)?(console.log("Visible test failed:",F),U++):(console.log("Hidden test failed:",F),A++)}),A>0?x(` Failed: ${B}/${V} tests passed. Your code may work for the ${G-U} visible test cases but fails on ${A} hidden test cases that check edge cases!`):x(` Failed: ${B}/${V} tests passed. Check the test results for details.`)}if(M.testResults){const E={...M,passedTests:(P=M.passedTests)==null?void 0:P.map(A=>({...A,expected:A.expected||A.output})),failedTests:(T=M.failedTests)==null?void 0:T.map(A=>({...A,expected:A.expected||A.output}))};n(E),c("output")}}else throw new Error("Test runner output format invalid (missing summary)")}catch(M){console.error("Error parsing submission output:",M,N.stdout),x("Error processing submission results.")}else x("Submission ran, but no output received.");else x(`Submission Failed: ${N.status.description}. ${N.stderr||N.compile_output||N.message||""}`)}catch(_){console.error("Error submitting solution:",_),x(`Error submitting: ${_ instanceof Error?_.message:"Unknown error"}`)}finally{l(!1)}}},celebrateSuccess:g}},Uz=({userEmail:t,sessionId:e,battleState:r,currentProblem:n,userCode:i,selectedLanguage:s})=>{const[o,l]=k.useState({}),[a,c]=k.useState(null),[u,h]=k.useState(0),d=k.useRef(0);k.useEffect(()=>{if((n==null?void 0:n.id)!==a){if(c((n==null?void 0:n.id)||null),n!=null&&n.starterCode){const p=n.starterCode[s];h(p?p.length:0)}else h(0);t&&(l(p=>({...p,[t]:0})),n!=null&&n.id&&f(0,n.id))}},[n==null?void 0:n.id,a,t,s]),k.useEffect(()=>{if(t&&(n!=null&&n.id)&&r==="battle_room"){const p=Math.max(0,i.length-u);l(y=>({...y,[t]:p}));const O=Date.now();O-d.current>=500&&(d.current=O,f(p,n.id))}},[i,t,n==null?void 0:n.id,r,u]),k.useEffect(()=>{if(!e||r!=="battle_room")return;console.log("Setting up character count listener");const p=H.channel("battle_char_counts",{config:{broadcast:{self:!1}}});return p.on("broadcast",{event:"char_count_update"},O=>{const{user_email:y,char_count:g,problem_id:m}=O.payload;y&&(console.log(`Received char count update: ${y} -> ${g} chars for problem ${m}`),m===(n==null?void 0:n.id)&&l(S=>({...S,[y]:g})))}).subscribe(O=>{console.log("Character count channel status:",O)}),()=>{console.log("Unsubscribing from character count channel"),p.unsubscribe()}},[e,r,n==null?void 0:n.id]);const f=k.useCallback((p,O)=>{if(!t||!e||r!=="battle_room")return;const y=H.channel("battle_char_counts",{config:{broadcast:{self:!0}}});y.subscribe(async g=>{g==="SUBSCRIBED"&&(await y.send({type:"broadcast",event:"char_count_update",payload:{user_email:t,char_count:p,problem_id:O,timestamp:new Date().toISOString()}}),setTimeout(()=>{y.unsubscribe()},100))})},[t,e,r]);return{userCharCounts:o,broadcastCharCount:f}},qz=({content:t,className:e=""})=>{const r=k.useMemo(()=>{if(!t)return[];const n=t.split(`
`);return n.map((i,s)=>{const o=[];let l=0;const a=/`([^`]+)`/g;let c;for(;(c=a.exec(i))!==null;)c.index>l&&o.push(v.jsx("span",{children:i.substring(l,c.index)},`text-${s}-${l}`)),o.push(v.jsx("code",{className:"bg-gray-800 px-1 py-0.5 rounded text-yellow-300",children:c[1]},`code-${s}-${c.index}`)),l=c.index+c[0].length;return l<i.length&&o.push(v.jsx("span",{children:i.substring(l)},`text-${s}-${l}`)),v.jsxs(bu.Fragment,{children:[o.length>0?o:i,s<n.length-1&&v.jsx("br",{})]},`line-${s}`)})},[t]);return v.jsx("div",{className:e,children:r})},zz=()=>{const t=Uw(),{user:e,loading:r}=Tb(),[n,i]=k.useState(!0),{sessionId:s,connectedUsers:o,setConnectedUsers:l,playerCount:a,setPlayerCount:c,debugMsg:u,setDebugMsg:h,battleState:d,hasInitializedRef:f,initializeSession:p,leaveSession:O,changeBattleState:y}=Lz(e),{selectedTopics:g,setSelectedTopics:m,showTopicSelection:S,isTopicSelectionComplete:b,setIsTopicSelectionComplete:x,setTopicSelections:Q,readyUsers:P,setReadyUsers:T,handleTopicSelect:_,completeTopicSelection:C,handleChangeTopics:D,handleEnterBattleRoom:R}=Mz(e),[X,N]=k.useState("javascript"),[M,B]=k.useState(`// Select a problem to start coding
// Your code will appear here`),[V,E]=k.useState(!1),[A,U]=k.useState(null),{editorFrozen:G,editorFrozenEndTime:F,availableSkills:Ae,useSkill:Xe,handleFreezeEffect:ht,handleChaosEffect:dt}=Rz({userEmail:e==null?void 0:e.email,sessionId:s,battleState:d}),{currentProblem:lr,setCurrentProblem:sa,loadProblemsByCategory:BO,getRandomProblem:VO}=Iz(),{timeRemaining:fh,startTimer:GO}=Az({initialSeconds:300}),{testResults:ar,isRunningTests:FO,setIsRunningTests:xP,isSubmitting:YO,activeView:ph,setActiveView:gh,playerScores:HO,setPlayerScores:JO,completedQuestions:KO,showConfetti:wP,handleTestRun:bP,handleSubmitSolution:kP}=Zz(e,lr),{userCharCounts:QP}=Uz({userEmail:e==null?void 0:e.email,sessionId:s,battleState:d,currentProblem:lr,userCode:M,selectedLanguage:X}),[ro,em]=k.useState([]),me=lr,tm=k.useCallback(async Y=>{try{console.log("BattleArena: Loading questions for selected topics:",Y);const ue=await BO(Y);if(ue)for(const Ye of Y){const Li=ue[Ye]||[];console.log(`BattleArena: ${Li.length} problems loaded for ${Ye}`)}const re=Object.values(ue||{}).flat();return console.log("BattleArena: Total available questions:",re.length),em(re),re}catch(ue){return console.error("Error in loadQuestionsForSelectedTopics:",ue),em([]),[]}},[BO]),PP=k.useCallback(Y=>{try{return console.log("Selecting question:",Y),sa(Y),E(!0),setTimeout(()=>{var ue;(ue=Y==null?void 0:Y.starterCode)!=null&&ue[X]&&B(Y.starterCode[X])},0),Y}catch(ue){return console.error("Error in selectQuestion:",ue),Y}},[X,sa]),TP=()=>{try{return A?(ro||[]).filter(Y=>(Y==null?void 0:Y.category)===A):ro||[]}catch(Y){return console.error("Error in getFilteredQuestions:",Y),[]}},$P=()=>{try{E(!1)}catch(Y){console.error("Error in backToQuestionList:",Y)}};k.useEffect(()=>{me&&me.starterCode&&me.starterCode[X]&&B(me.starterCode[X])},[me,X]),k.useEffect(()=>{e&&!r&&!f.current&&(f.current=!0,console.log(" CRITICAL FIX: Resetting user ready state on page load"),x(!1),T([]),p())},[e,r,f,p,x,T]);const _P=k.useCallback(()=>{if(g.length===0){h("Error: No topics selected");return}console.log("Selected topics for random challenge:",g);const Y=g[Math.floor(Math.random()*g.length)],ue=VO(Y);ue?(console.log("Selected random problem:",ue),sa(ue),E(!0),setTimeout(()=>{var re;(re=ue.starterCode)!=null&&re[X]&&B(ue.starterCode[X])},0),GO()):(console.error("No problem found for random challenge"),h("Couldn't find a random challenge. Try again."))},[g,VO,X,GO,h,sa]);k.useEffect(()=>{console.log("Battle state changed, current topics:",g)},[d,g]),k.useEffect(()=>{d==="battle_room"&&g.length>0&&ro.length===0&&(console.log("Loading questions for battle room with topics:",g),tm(g))},[d,g,tm,ro.length]),k.useEffect(()=>{console.log("Topic selections changed:",g)},[g]),k.useEffect(()=>{if(!(e!=null&&e.email))return;console.log("Setting up score updates listener");const Y=H.channel("battle_scores_listener",{config:{broadcast:{self:!0}}});return Y.on("broadcast",{event:"score_update"},ue=>{var re;console.log("Received score update:",ue),(re=ue.payload)!=null&&re.scores&&JO(ue.payload.scores)}).subscribe(ue=>{console.log("Score listener channel status:",ue)}),()=>{console.log("Unsubscribing from score updates"),Y.unsubscribe()}},[e==null?void 0:e.email,JO]),k.useEffect(()=>{if(!(e!=null&&e.email)||!s)return;const Y=`battle_skills_${e.email.replace("@","_at_")}_${s}`;console.log(`Setting up battle skills effect listener for channel: ${Y}`);const ue=H.channel(Y,{config:{broadcast:{self:!1}}});return ue.on("broadcast",{event:"skill_used"},re=>{if(console.log(`Received skill effect on channel ${Y}:`,re),re.payload.target_user===e.email){const{skill_name:Ye,from_user:Li}=re.payload,Mi=Li.split("@")[0];console.log(`Applying skill ${Ye} from ${Mi}`),Ye==="Freeze"?ht(Mi):Ye==="Code Chaos"&&dt(Mi,M,B)}}).subscribe(re=>{console.log(`Skills listener channel status for ${Y}:`,re)}),()=>{console.log(`Unsubscribing from skills channel: ${Y}`),ue.unsubscribe()}},[e==null?void 0:e.email,s,ht,dt,M,B]);const CP=()=>R(h,Y=>{y(Y)}),rm=(Y,ue)=>{var re,Ye;Y?(console.log("BattleArena - testRunAdapter - userLogs info:",{hasResults:!!Y,hasUserLogs:!!Y.userLogs,logsLength:((re=Y.userLogs)==null?void 0:re.length)||0,logsSample:(Ye=Y.userLogs)==null?void 0:Ye.slice(0,2)}),bP(Y,ue,h)):xP(ue)},nm=()=>{kP(M,X,h)},im=Y=>{(Y==="javascript"||Y==="python")&&N(Y)},EP=()=>{var Y,ue;return d==="topic_selection"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mb-6 text-center",children:[v.jsx("div",{className:"text-5xl font-bold text-white mb-2",children:a}),v.jsx("p",{className:"text-slate-400 text-xl",children:"Warriors Present"}),a<=1&&v.jsx("p",{className:"text-yellow-500 mt-2 text-sm",children:"Waiting for more warriors to join the battle..."})]}),v.jsxs("div",{className:"mb-6 bg-gray-800/50 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Connected Warriors"}),o.length>0?v.jsx("ul",{className:"text-left space-y-1 max-h-40 overflow-y-auto",children:o.map((re,Ye)=>{const Li=re===(e==null?void 0:e.email),Mi=Li?b:P.includes(re);return v.jsxs("li",{className:"text-slate-300 flex items-center",children:[v.jsx("span",{className:`w-2 h-2 ${Mi?"bg-green-500":"bg-yellow-500"} rounded-full mr-2`}),re,Li&&v.jsx("span",{className:"ml-2 text-xs text-green-500",children:"(you)"}),Mi?v.jsx("span",{className:"ml-2 text-xs text-green-500",children:"Ready"}):v.jsx("span",{className:"ml-2 text-xs text-yellow-500",children:"Not Ready"})]},Ye)})}):v.jsx("p",{className:"text-slate-400 text-sm",children:"No warriors connected"})]}),S?v.jsx(Tz,{selectedTopics:g,onTopicSelect:_,onCompleteSelection:()=>C(h)}):v.jsx(Ez,{selectedTopics:g,readyUsers:P,connectedUsers:o,userEmail:e==null?void 0:e.email,onChangeTopics:()=>D(h),onEnterBattleRoom:CP})]}):d==="battle_room"?v.jsxs("div",{className:"battle-room",children:[v.jsx(Qz,{connectedUsers:o,currentUserEmail:e==null?void 0:e.email,playerScores:HO,userCharCounts:QP,availableSkills:Ae,selectedTopics:g,onUseSkill:Xe}),V?v.jsx("div",{className:"mt-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"flex flex-col bg-gray-900 rounded-lg overflow-hidden",children:[v.jsxs("div",{className:"flex border-b border-gray-700",children:[v.jsx("button",{className:`px-6 py-3 text-sm font-medium ${ph==="instructions"?"bg-gray-800 text-white":"text-gray-400 hover:text-white hover:bg-gray-800/50"}`,onClick:()=>gh("instructions"),children:"Instructions"}),v.jsx("button",{className:`px-6 py-3 text-sm font-medium ${ph==="output"?"bg-gray-800 text-white":"text-gray-400 hover:text-white hover:bg-gray-800/50"}`,onClick:()=>gh("output"),disabled:!ar&&!FO,children:"Output"})]}),v.jsx("div",{className:"flex-1",children:ph==="instructions"?v.jsxs("div",{className:"p-4 h-[600px] overflow-y-auto",children:[v.jsxs("div",{className:"prose prose-invert max-w-none",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:me==null?void 0:me.title}),v.jsx(qz,{content:(me==null?void 0:me.description)||"",className:"text-gray-200"})]}),(me==null?void 0:me.examples)&&me.examples.length>0&&v.jsxs("div",{className:"mt-6",children:[v.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Examples"}),v.jsx("div",{className:"space-y-4",children:me.examples.map((re,Ye)=>v.jsx("div",{className:"bg-gray-800 p-4 rounded-md border border-gray-700",children:v.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap font-mono",children:re})},Ye))})]}),(me==null?void 0:me.constraints)&&me.constraints.length>0&&v.jsxs("div",{className:"mt-6",children:[v.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Constraints"}),v.jsx("ul",{className:"list-disc pl-6 space-y-2",children:me.constraints.map((re,Ye)=>v.jsx("li",{className:"text-sm text-gray-300",children:re},Ye))})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx(pt,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700/50",onClick:$P,children:" Back to Problem List"})})]}):v.jsx("div",{className:"p-4 h-[600px] overflow-y-auto",children:FO?v.jsxs("div",{className:"flex items-center justify-center h-40",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),v.jsx("span",{className:"ml-3 text-white",children:"Running tests..."})]}):ar?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`p-4 rounded ${ar.passed===ar.total?"bg-green-950/30 border-l-4 border-green-500":"bg-red-950/30 border-l-4 border-red-500"}`,children:[v.jsxs("div",{className:"flex flex-wrap items-center justify-between text-sm mb-2",children:[v.jsx("div",{className:"text-gray-400",children:"Time: 456ms"}),v.jsxs("div",{children:[v.jsxs("span",{className:"text-green-400",children:["Passed: ",ar.passed]}),v.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),v.jsxs("span",{className:"text-red-400",children:["Failed: ",ar.total-ar.passed]})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Test Results:"}),v.jsxs("div",{className:"space-y-px border border-gray-700 rounded-md overflow-hidden bg-gray-800",children:[ar.passed===ar.total&&v.jsx("div",{className:"py-4 text-center text-green-400 font-medium",children:"You have passed all of the tests! :)"}),(Y=ar.passedTests)==null?void 0:Y.map((re,Ye)=>v.jsx(OS,{index:re.index,input:re.input,expected:re.expected,actual:re.actual,passed:!0,logs:re.logs||[]},`passed-${re.index}`)),(ue=ar.failedTests)==null?void 0:ue.map((re,Ye)=>v.jsx(OS,{index:re.index,input:re.input,expected:re.expected,actual:re.actual,passed:!1,logs:re.logs||[]},`failed-${re.index}`))]})]})]}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx(pt,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700/50",onClick:()=>gh("instructions"),children:"Back to Instructions"})})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:[v.jsx("p",{children:"No test results yet"}),v.jsx("p",{className:"text-sm mt-2",children:"Run tests to see results here"})]})})})]}),v.jsx(fS,{userCode:M,setUserCode:B,selectedLanguage:X,setSelectedLanguage:im,timeRemaining:fh,editorFrozen:G,editorFrozenEndTime:F,isQuestionSelected:V,currentQuestion:me,onSubmitSolution:nm,setDebugMsg:h,onTestRun:rm,isSubmitting:YO})]})}):v.jsx("div",{className:"mt-4",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[v.jsx("div",{children:v.jsx(SP,{selectedTopics:g,availableQuestions:ro,activeTopicFilter:A,setActiveTopicFilter:U,onSelectQuestion:PP,onRandomChallenge:_P,getFilteredQuestions:TP,completedQuestions:e!=null&&e.email&&KO[e.email]?KO[e.email]:[],currentUserEmail:e==null?void 0:e.email})}),v.jsx(fS,{userCode:M,setUserCode:B,selectedLanguage:X,setSelectedLanguage:im,timeRemaining:fh,editorFrozen:G,editorFrozenEndTime:F,isQuestionSelected:V,currentQuestion:me,onSubmitSolution:nm,setDebugMsg:h,onTestRun:rm,isSubmitting:YO})]})}),v.jsx(Pz,{connectedUsers:o,playerScores:HO,currentUserEmail:e==null?void 0:e.email,debugMsg:u})]}):null};return v.jsx(ZA,{backend:Rj,children:v.jsxs("div",{className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[v.jsx($z,{userEmail:e==null?void 0:e.email,setConnectedUsers:l,setPlayerCount:c,setReadyUsers:T,setSelectedTopics:m,setTopicSelections:Q}),v.jsx(Cz,{active:wP}),v.jsx(eb,{excludedTopics:d==="battle_room"&&me?[me.category]:[],opacity:.05}),v.jsxs(qu,{className:`p-8 bg-gray-900 border-gray-800 w-full text-center 
          ${d==="battle_room"?"max-w-6xl":"max-w-4xl"}`,children:[v.jsx(_z,{battleState:d,timeRemaining:fh}),EP(),v.jsx("div",{className:"text-slate-300 mt-6 mb-4",children:d!=="battle_room"&&v.jsx("p",{className:"text-xs text-slate-500",children:u})}),d!=="battle_room"&&v.jsx("div",{className:"flex gap-4 justify-center flex-wrap",children:v.jsx(pt,{variant:"outline",className:"border-indigo-700/50 text-white hover:bg-indigo-800/30",onClick:async()=>{await O(),t("/")},children:"Return to Home"})})]})]})})},Xz=async()=>{console.log("Initializing application services"),await Nz(),console.log("All services initialized")},Wz=()=>(k.useEffect(()=>{Xz().catch(t=>{console.error("Failed to initialize services:",t)})},[]),v.jsx(p2,{children:v.jsx(rC,{basename:"/codequest-battle-royale",children:v.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-white",children:v.jsx("main",{children:v.jsxs(K_,{children:[v.jsx(Rf,{path:"/",element:v.jsx(b2,{})}),v.jsx(Rf,{path:"/battle",element:v.jsx(zz,{})})]})})})})}));console.log("Mounting React app...");class Bz extends bu.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("React Error Boundary caught an error:",e,r)}render(){var e;return this.state.hasError?v.jsxs("div",{style:{padding:"20px",backgroundColor:"#ffdddd",color:"#ff0000",margin:"20px"},children:[v.jsx("h2",{children:"Something went wrong."}),v.jsx("details",{style:{whiteSpace:"pre-wrap"},children:(e=this.state.error)==null?void 0:e.toString()})]}):this.props.children}}try{const t=document.getElementById("root");if(!t)throw new Error("Could not find root element. Make sure there is a div with id 'root' in your HTML.");if(t.innerHTML!==""){const r=t.querySelector(".fallback-content");r&&t.removeChild(r)}const e=v.jsx(bu.StrictMode,{children:v.jsx(Bz,{children:v.jsx(Wz,{})})});try{Id.createRoot(t).render(e)}catch(r){console.warn("Error creating root, falling back to legacy render:",r),Ew.render(e,t)}console.log("React app mounted successfully.")}catch(t){console.error("Failed to mount React app:",t),document.body.innerHTML=`
    <div style="padding: 20px; background-color: #ffdddd; color: #ff0000; margin: 20px;">
      <h2>Failed to load the application</h2>
      <p>${t instanceof Error?t.message:String(t)}</p>
    </div>
  `}export{yS as g};
